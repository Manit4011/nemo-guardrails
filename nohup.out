 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.247:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:botocore.credentials:Found credentials from IAM Role: ACCESS_TO_AWS_SERVICES
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c6cb4eb8976eedc40a41e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6da34cb0-b093-48aa-abde-c6799fc6605a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:31:03 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '6da34cb0-b093-48aa-abde-c6799fc6605a', 'x-amzn-bedrock-invocation-latency': '1223', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c6cb7eb8976eedc40a41f
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.174.107.86 - - [07/Nov/2024 07:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the organization structure at gemini?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what is the organization structure at gemini?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5e942ec0-8834-405b-b69b-7d4d8afe8b23', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:38:35 GMT', 'content-type': 'application/json', 'content-length': '261', 'connection': 'keep-alive', 'x-amzn-requestid': '5e942ec0-8834-405b-b69b-7d4d8afe8b23', 'x-amzn-bedrock-invocation-latency': '410', 'x-amzn-bedrock-output-token-count': '33', 'x-amzn-bedrock-input-token-count': '675'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you provide information about the organization structure at Gemini, including any relevant policies or documents?\"\n}","prompt_token_count":675,"generation_token_count":33,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you provide information about the organization structure at Gemini, including any relevant policies or documents?
INFO:__main__:Query stored successfully with ID: 672c6e7beb8976eedc40a421
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '902c2801-47a1-4e8d-9588-5d4c887702ed', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:38:40 GMT', 'content-type': 'application/json', 'content-length': '2235', 'connection': 'keep-alive', 'x-amzn-requestid': '902c2801-47a1-4e8d-9588-5d4c887702ed', 'x-amzn-bedrock-invocation-latency': '3849', 'x-amzn-bedrock-output-token-count': '467', 'x-amzn-bedrock-input-token-count': '1261'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721ff0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has an organization structure that is supported by various policies and documents. The company's approach to diversity and inclusion is further encouraged by policies that promote inclusive business practices. Gemini also has implemented various company policies encompassing privacy and security, including the Gemini Solutions Privacy Policy and the Gemini Solutions IT Password Policy. Additionally, the company provides training to all employees to improve their understanding of behaviors that can be perceived as discriminatory, exclusionary, and/or harassing, and provides safe avenues for employees to report such behaviors.\",\n    \"References\": [\n        {\n            \"Statement\": \"Our approach to diversity and inclusion is supported by a range of policies that further encourage inclusive business practices, including:\",\n            \"source\": \"Gemini-Diversity and Inclusion Policy_Version 4.0_India.pdf - 4/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Gemini Solutions has implemented various company policies encompassing privacy and security, including Gemini's Security Program, Information Security policies and the company's Code of Conduct and Ethics.\",\n            \"source\": \"Gemini - Privacy Policy V1.1_India.pdf - 4/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"We provide training to all employees to improve their understanding of behaviors that can be perceived as discriminatory, exclusionary, and/or harassing, and provide safe avenues for employees to report such behaviors.\",\n            \"source\": \"Gemini-Diversity and Inclusion Policy_Version 4.0_India.pdf - 4/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you provide information about the organization structure at Gemini, including any relevant policies or documents?\",\n        \"source\": \"Database\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1261,"generation_token_count":467,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c6e80eb8976eedc40a422
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 07:38:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c7acaeb8976eedc40a424
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4161f24b-71c5-42d8-ba48-2c9e60916446', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 08:31:09 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '4161f24b-71c5-42d8-ba48-2c9e60916446', 'x-amzn-bedrock-invocation-latency': '1308', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722740>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c7acdeb8976eedc40a425
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.176.171 - - [07/Nov/2024 08:31:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '351225fc-57bb-4981-bc79-7cde67200d93', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:30:57 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '351225fc-57bb-4981-bc79-7cde67200d93', 'x-amzn-bedrock-invocation-latency': '293', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721660>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672c88d1eb8976eedc40a427
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2780dd80-da17-4ca8-a37f-b7a610053650', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:31:00 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '2780dd80-da17-4ca8-a37f-b7a610053650', 'x-amzn-bedrock-invocation-latency': '1318', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47205e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c88d4eb8976eedc40a428
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.222.49 - - [07/Nov/2024 09:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the official notice period in gemini?', 'conversation_id': 'a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2'}
INFO:__main__:Received query: what is the official notice period in gemini?
INFO:__main__:Received conversation_id: a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c8ca9eb8976eedc40a42a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f348b2f3-0cf9-40f3-ba64-01854e1e5b1b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:47:25 GMT', 'content-type': 'application/json', 'content-length': '946', 'connection': 'keep-alive', 'x-amzn-requestid': 'f348b2f3-0cf9-40f3-ba64-01854e1e5b1b', 'x-amzn-bedrock-invocation-latency': '2241', 'x-amzn-bedrock-output-token-count': '258', 'x-amzn-bedrock-input-token-count': '1288'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721630>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The official notice period in Gemini is not explicitly mentioned in the provided texts. However, it can be inferred that the notice period is applicable in the context of exit policy, as mentioned in Text Block 4: 'The notice period as applicable.'\",\n    \"References\": [\n        {\n            \"Statement\": \"The notice period as applicable.\",\n            \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf - 4/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2\",\n        \"query\": \"what is the official notice period in gemini?\",\n        \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1288,"generation_token_count":258,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8cadeb8976eedc40a42b
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:47:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi jinie , could you please explain me tge travel policy', 'conversation_id': 'a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA'}
INFO:__main__:Received query: hi jinie , could you please explain me tge travel policy
INFO:__main__:Received conversation_id: a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c8caeeb8976eedc40a42d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd9ef9049-c627-4604-9028-3e3191aa1cbe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:47:29 GMT', 'content-type': 'application/json', 'content-length': '1020', 'connection': 'keep-alive', 'x-amzn-requestid': 'd9ef9049-c627-4604-9028-3e3191aa1cbe', 'x-amzn-bedrock-invocation-latency': '2162', 'x-amzn-bedrock-output-token-count': '252', 'x-amzn-bedrock-input-token-count': '1469'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The travel policy at Gemini Solutions is applicable to all full-time employees. The policy outlines the guidelines for intra-country travel, including transportation expenses, accommodation, and client entertainment. It also provides information on fixed per diem, non-reimbursable expenses, and general guidelines for domestic travel in India.\",\n    \"References\": [\n        {\n            \"Statement\": \"The travel policy is applicable to all full-time employees.\",\n            \"source\": \"Text Block 1 - N/A - 1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA\",\n        \"query\": \"hi jinie , could you please explain me tge travel policy\",\n        \"source\": \"Text Block 1\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1469,"generation_token_count":252,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8cb1eb8976eedc40a42e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:47:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'who is my hrbp?', 'conversation_id': 'a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2'}
INFO:__main__:Received query: who is my hrbp?
INFO:__main__:Received conversation_id: a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'da117c58-d9f2-408a-9ac5-9425ffb3e6c4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:47:57 GMT', 'content-type': 'application/json', 'content-length': '169', 'connection': 'keep-alive', 'x-amzn-requestid': 'da117c58-d9f2-408a-9ac5-9425ffb3e6c4', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '284'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720fa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"who is my HRBP in Gemini?\"\n}","prompt_token_count":284,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: who is my HRBP in Gemini?
INFO:__main__:Query stored successfully with ID: 672c8ccdeb8976eedc40a430
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5ab77431-5102-4917-a8c9-4a6f33e6d5b5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:48:00 GMT', 'content-type': 'application/json', 'content-length': '758', 'connection': 'keep-alive', 'x-amzn-requestid': '5ab77431-5102-4917-a8c9-4a6f33e6d5b5', 'x-amzn-bedrock-invocation-latency': '1832', 'x-amzn-bedrock-output-token-count': '215', 'x-amzn-bedrock-input-token-count': '1133'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47238b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Your HRBP (Human Resources Business Partner) can be viewed in the EC DC hierarchy on MIS.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can view the details in the EC DC hierarchy on MIS.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - 25\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2\",\n        \"query\": \"who is my HRBP in Gemini?\",\n        \"source\": \"HR - Onboarding Portal.csv\",\n        \"response_length\": \"43\"\n    }\n}","prompt_token_count":1133,"generation_token_count":215,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8cd0eb8976eedc40a431
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:48:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is my emp id', 'conversation_id': 'a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2'}
INFO:__main__:Received query: what is my emp id
INFO:__main__:Received conversation_id: a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5aba8840-cf63-4e48-ad31-d0da7fd01d01', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:48:26 GMT', 'content-type': 'application/json', 'content-length': '177', 'connection': 'keep-alive', 'x-amzn-requestid': '5aba8840-cf63-4e48-ad31-d0da7fd01d01', 'x-amzn-bedrock-invocation-latency': '285', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '363'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47208e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is my employee ID in Gemini?\"\n}","prompt_token_count":363,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is my employee ID in Gemini?
INFO:__main__:Query stored successfully with ID: 672c8ceaeb8976eedc40a433
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'df1d4523-b434-4aeb-8011-de4ae06bcfb4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:48:30 GMT', 'content-type': 'application/json', 'content-length': '1274', 'connection': 'keep-alive', 'x-amzn-requestid': 'df1d4523-b434-4aeb-8011-de4ae06bcfb4', 'x-amzn-bedrock-invocation-latency': '2855', 'x-amzn-bedrock-output-token-count': '339', 'x-amzn-bedrock-input-token-count': '1380'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Your Employee ID is a combination of your first name, middle name, and last name in lowercase, followed by the company domain. For example, if your name is John Smith, your Employee ID would be john.smith@gemsol.in. You can also find your Employee ID on your ID card, which is issued to you during the onboarding process.\",\n    \"References\": [\n        {\n            \"Statement\": \"Naming Standard: two characters of firstname.lastname (e.g. xx.xxxx)\",\n            \"source\": \"Gemini - Active Directory User management - SOP V1.2_India.pdf - 6 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Employee ID: (IN CAPITAL LETTERS)\",\n            \"source\": \"Gemini - Physical Security Policy_v3.4_India.pdf - 17 - N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2\",\n        \"query\": \"what is my employee ID in Gemini?\",\n        \"source\": \"Gemini - Active Directory User management - SOP V1.2_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1380,"generation_token_count":339,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8ceeeb8976eedc40a434
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:48:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is ztp policy', 'conversation_id': 'a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA'}
INFO:__main__:Received query: what is ztp policy
INFO:__main__:Received conversation_id: a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '735defda-6211-4ecb-a5e5-d32133c2d4de', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:49:04 GMT', 'content-type': 'application/json', 'content-length': '169', 'connection': 'keep-alive', 'x-amzn-requestid': '735defda-6211-4ecb-a5e5-d32133c2d4de', 'x-amzn-bedrock-invocation-latency': '266', 'x-amzn-bedrock-output-token-count': '21', 'x-amzn-bedrock-input-token-count': '295'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d5208f70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the travel policy\"\n}","prompt_token_count":295,"generation_token_count":21,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the travel policy
INFO:__main__:Query stored successfully with ID: 672c8d10eb8976eedc40a436
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c1077b55-3f0a-4601-ad69-05209c9f0fd9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:49:07 GMT', 'content-type': 'application/json', 'content-length': '958', 'connection': 'keep-alive', 'x-amzn-requestid': 'c1077b55-3f0a-4601-ad69-05209c9f0fd9', 'x-amzn-bedrock-invocation-latency': '2032', 'x-amzn-bedrock-output-token-count': '235', 'x-amzn-bedrock-input-token-count': '1445'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721780>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The travel policy at Gemini Solutions is applicable to all full-time employees. It outlines the guidelines for intra-country travel, including transportation expenses, accommodation, and client entertainment. The policy aims to ensure that employees' travel-related expenses are reimbursed fairly and efficiently.\",\n    \"References\": [\n        {\n            \"Statement\": \"The travel policy is applicable to all full-time employees.\",\n            \"source\": \"Text Block 1 - N/A - 1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA\",\n        \"query\": \"what is the travel policy\",\n        \"source\": \"Text Block 1\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1445,"generation_token_count":235,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8d13eb8976eedc40a437
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:49:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c8d4deb8976eedc40a439
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '51e896c3-d141-4581-b9c9-fe2851b0ffb5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:50:08 GMT', 'content-type': 'application/json', 'content-length': '698', 'connection': 'keep-alive', 'x-amzn-requestid': '51e896c3-d141-4581-b9c9-fe2851b0ffb5', 'x-amzn-bedrock-invocation-latency': '1678', 'x-amzn-bedrock-output-token-count': '198', 'x-amzn-bedrock-input-token-count': '918'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723dc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm an HR policy bot for Gemini Solutions. I'm here to help you with any queries or questions you may have regarding our company policies. Please feel free to ask me anything, and I'll do my best to provide you with accurate and clear information.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG\",\n        \"query\": \"hi\",\n        \"source\": \"Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":918,"generation_token_count":198,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8d50eb8976eedc40a43a
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:50:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'tell me everything you know', 'conversation_id': 'a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG'}
INFO:__main__:Received query: tell me everything you know
INFO:__main__:Received conversation_id: a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9e03457f-b3e7-4ab7-af0e-b8ac030277a4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:50:23 GMT', 'content-type': 'application/json', 'content-length': '248', 'connection': 'keep-alive', 'x-amzn-requestid': '9e03457f-b3e7-4ab7-af0e-b8ac030277a4', 'x-amzn-bedrock-invocation-latency': '343', 'x-amzn-bedrock-output-token-count': '34', 'x-amzn-bedrock-input-token-count': '235'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722d10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you summarize the information you've shared so far and provide more details on the company policies?\"\n}","prompt_token_count":235,"generation_token_count":34,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you summarize the information you've shared so far and provide more details on the company policies?
INFO:__main__:Query stored successfully with ID: 672c8d5feb8976eedc40a43c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6b94b92f-b4e4-4b79-b709-970c13610951', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:50:29 GMT', 'content-type': 'application/json', 'content-length': '2560', 'connection': 'keep-alive', 'x-amzn-requestid': '6b94b92f-b4e4-4b79-b709-970c13610951', 'x-amzn-bedrock-invocation-latency': '4431', 'x-amzn-bedrock-output-token-count': '537', 'x-amzn-bedrock-input-token-count': '1319'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42287c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has various company policies in place to ensure a positive and respectful online presence, effective communication, and responsible use of company resources. These policies include the Social Media Policy, which emphasizes the importance of representing the company in a positive and respectful manner, and the Information Protection Policy and Insider Trading Policy, which govern behavior in the online social media space. Additionally, the company has policies for hardware usage, communication, and acceptable use of company resources, including teleworking. These policies aim to promote a culture of transparency, respect, and responsibility within the organization.\",\n    \"References\": [\n        {\n            \"Statement\": \"commitment is true for all forms of social media. Besides, several other policies govern your behavior as a Company spokesperson in the online social media space, including the Information Protection Policy and the Insider Trading Policy.\",\n            \"source\": \"Social Media Policy_India.pdf - 8/N/A/N/A\"\n        },\n        {\n            \"Statement\": \"To ensure good organization management, information and knowledge has to be shared with staff and contractors through effective internal communications.\",\n            \"source\": \"Gemini - ISMS Communication Policy_Version 1.0_India.pdf - 4/N/A/N/A\"\n        },\n        {\n            \"Statement\": \"Secure usage of physical access cards, cryptographic keys, internet, and clear desk and clear screen policy are some of the guidelines for acceptable use of company resources.\",\n            \"source\": \"Gemini - Acceptable Use Policy_V1.5_India.pdf - 3/N/A/N/A\"\n        },\n        {\n            \"Statement\": \"The company has a teleworking policy that outlines guidelines for remote work and ensures that employees are responsible for their work and maintain the company's standards.\",\n            \"source\": \"Gemini - IT Teleworking v1.0_India.pdf - 3/N/A/N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG\",\n        \"query\": \"Can you summarize the information you've shared so far and provide more details on the company policies?\",\n        \"source\": \"Gemini Solutions Database\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1319,"generation_token_count":537,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8d65eb8976eedc40a43d
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:50:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the maximum possible salary in gemini for 10 year experience resource ', 'conversation_id': 'a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2'}
INFO:__main__:Received query: what is the maximum possible salary in gemini for 10 year experience resource 
INFO:__main__:Received conversation_id: a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6a4182ba-0f6b-452e-8506-e4800846ccea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:50:32 GMT', 'content-type': 'application/json', 'content-length': '225', 'connection': 'keep-alive', 'x-amzn-requestid': '6a4182ba-0f6b-452e-8506-e4800846ccea', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '31', 'x-amzn-bedrock-input-token-count': '443'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721b10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the maximum possible salary in Gemini for a 10-year experienced resource?\"\n}","prompt_token_count":443,"generation_token_count":31,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the maximum possible salary in Gemini for a 10-year experienced resource?
INFO:__main__:Query stored successfully with ID: 672c8d68eb8976eedc40a43f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e85d680c-71a9-458a-b73e-21e00fc3d48d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:50:37 GMT', 'content-type': 'application/json', 'content-length': '1402', 'connection': 'keep-alive', 'x-amzn-requestid': 'e85d680c-71a9-458a-b73e-21e00fc3d48d', 'x-amzn-bedrock-invocation-latency': '3180', 'x-amzn-bedrock-output-token-count': '382', 'x-amzn-bedrock-input-token-count': '1310'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229930>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The maximum possible salary in Gemini for a 10-year experienced resource is not explicitly mentioned in the provided texts. However, the annual limit for an employee, spouse, and 2 children is Rs. 5,00,000/-, as mentioned in Text Block 1. Additionally, the company provides a joining bonus, retention bonus, and other benefits, which may vary depending on the level of employees and their basic salary, as mentioned in Text Block 4.\",\n    \"References\": [\n        {\n            \"Statement\": \"Rs. 5,00,000/-\",\n            \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf - 8/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Joining Bonus, Retention Bonus, and other benefits\",\n            \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf - 4/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1DGVdXJlk2h1oJ57S9wkTAtm-9MjS72w3pRa_sBUZ_OU2fe2pysgZLTRCP2HN90LNfcum8K8e8cwa3sJMSHhaRIpYuDvd91yngSupEm5jhVnEmA49gdanNPWvwwzZzye2\",\n        \"query\": \"what is the maximum possible salary in Gemini for a 10-year experienced resource?\",\n        \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1310,"generation_token_count":382,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8d6deb8976eedc40a440
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:50:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'explain all the policies', 'conversation_id': 'a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG'}
INFO:__main__:Received query: explain all the policies
INFO:__main__:Received conversation_id: a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8c67560-2a22-41a6-8ccc-2a9859c034ba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:51:19 GMT', 'content-type': 'application/json', 'content-length': '215', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8c67560-2a22-41a6-8ccc-2a9859c034ba', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '616'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47233a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you provide more details on the company policies mentioned earlier?\"\n}","prompt_token_count":616,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you provide more details on the company policies mentioned earlier?
INFO:__main__:Query stored successfully with ID: 672c8d97eb8976eedc40a442
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9d5058c9-ab3f-4770-8e73-030e5e48fbe7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:51:25 GMT', 'content-type': 'application/json', 'content-length': '2790', 'connection': 'keep-alive', 'x-amzn-requestid': '9d5058c9-ab3f-4770-8e73-030e5e48fbe7', 'x-amzn-bedrock-invocation-latency': '4883', 'x-amzn-bedrock-output-token-count': '592', 'x-amzn-bedrock-input-token-count': '1337'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has various company policies that govern employee behavior. These policies include the Social Media Policy, which emphasizes the importance of representing the company in a positive and respectful manner online. Additionally, the company has policies on secure usage of physical access cards, cryptographic keys, and internet usage. The Clear Desk and Clear Screen Policy, Social Media/Social Networking Policy, and Weakness & Incident Reporting policy are also in place. Furthermore, the company has policies on Consequence Management/Disciplinary Action Procedure, Intellectual Property/ownership, Right to audit, and Question/clarifications/improvements. The company also has a Hardware Policy, which outlines guidelines for the use and maintenance of company equipment. Finally, the Vehicle/Cab Maintenance Policy ensures that company vehicles are safe and well-maintained.\",\n    \"References\": [\n        {\n            \"Statement\": \"commitment is true for all forms of social media. Besides, several other policies govern your behavior as a Company spokesperson in the online social media space, including the Information Protection Policy and the Insider Trading Policy.\",\n            \"source\": \"Social Media Policy_India.pdf - 8 - N/A\"\n        },\n        {\n            \"Statement\": \"Secure usage of physical access cards, Secure usage of cryptographic keys, Internet usage policy, Clear Desk and Clear Screen Policy, Social Media/Social networking Policy, Weakness & Incident Reporting, Consequence Management/Disciplinary action Procedure (DAP), Intellectual Property/ownership, Right to audit, Question/clarifications/improvements\",\n            \"source\": \"Gemini - Acceptable Use Policy_V1.5_India.pdf - 3 - N/A\"\n        },\n        {\n            \"Statement\": \"As a representative of [the Company], you must act with honesty and integrity in all matters.\",\n            \"source\": \"Social Media Policy_India.pdf - 8 - N/A\"\n        },\n        {\n            \"Statement\": \"Ensuring vehicles are safe before assigning them. Scheduling regular maintenance. Providing car insurance. Retiring and replacing cars as needed.\",\n            \"source\": \"Gemini-Vehicle Policy_Version 2.0._India.pdf - 7 - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG\",\n        \"query\": \"Can you provide more details on the company policies mentioned earlier?\",\n        \"source\": \"Gemini Solutions Database\",\n        \"response_length\": \"266\"\n    }\n}","prompt_token_count":1337,"generation_token_count":592,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8d9deb8976eedc40a443
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:51:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is posh policy please help me explain this', 'conversation_id': 'a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA'}
INFO:__main__:Received query: what is posh policy please help me explain this
INFO:__main__:Received conversation_id: a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a2acf527-96b3-4f34-a65a-3790f3940d4a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:52:10 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'a2acf527-96b3-4f34-a65a-3790f3940d4a', 'x-amzn-bedrock-invocation-latency': '311', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '404'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the travel policy please help me explain this\"\n}","prompt_token_count":404,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the travel policy please help me explain this
INFO:__main__:Query stored successfully with ID: 672c8dcaeb8976eedc40a445
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41031b99-ff0f-4212-bb68-eae56201bb79', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 09:52:14 GMT', 'content-type': 'application/json', 'content-length': '1455', 'connection': 'keep-alive', 'x-amzn-requestid': '41031b99-ff0f-4212-bb68-eae56201bb79', 'x-amzn-bedrock-invocation-latency': '2825', 'x-amzn-bedrock-output-token-count': '338', 'x-amzn-bedrock-input-token-count': '1454'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42297b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The travel policy at Gemini Solutions applies to all full-time employees. The policy outlines guidelines for temporary work-related travel, transportation expenses, accommodation, and other related matters. For domestic travel in India, employees need to fill up a travel requisition request form on the Helpdesk and get it approved by the respective DC Chair. The policy also provides classification of designation for travel purposes.\",\n    \"References\": [\n        {\n            \"Statement\": \"The travel policy is applicable to all full-time employees.\",\n            \"source\": \"Travel Policy.csv - 1/Sheet1 - 1\"\n        },\n        {\n            \"Statement\": \"For any tour/travel on official purpose, the colleagues have to fill-up a travel requisition request form on Helpdesk (https://helpdesk.geminisolutions.com/) and get it approved by the respective DC Chair.\",\n            \"source\": \"Domestic Travel Policy - Final.pdf - 8/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA\",\n        \"query\": \"what is the travel policy please help me explain this\",\n        \"source\": \"Database\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1454,"generation_token_count":338,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c8dceeb8976eedc40a446
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 09:52:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many leaves i can take in a year', 'conversation_id': 'a:1cUoUro4wwqIA2FK-pvE9n8NSf-AFQOGf_SR5vXepHYsOQiypPWlhQe3jmHvd1otfWi1FCa7ss6f2LITPsniC8eaGjuqv2CauCqiD6_vCC9pJGEq_tnmv3ewt5gW2FrRW'}
INFO:__main__:Received query: how many leaves i can take in a year
INFO:__main__:Received conversation_id: a:1cUoUro4wwqIA2FK-pvE9n8NSf-AFQOGf_SR5vXepHYsOQiypPWlhQe3jmHvd1otfWi1FCa7ss6f2LITPsniC8eaGjuqv2CauCqiD6_vCC9pJGEq_tnmv3ewt5gW2FrRW
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c910deb8976eedc40a448
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9c3b4554-eb07-4c90-8c41-89002cc0ae69', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 10:06:09 GMT', 'content-type': 'application/json', 'content-length': '1041', 'connection': 'keep-alive', 'x-amzn-requestid': '9c3b4554-eb07-4c90-8c41-89002cc0ae69', 'x-amzn-bedrock-invocation-latency': '2576', 'x-amzn-bedrock-output-token-count': '300', 'x-amzn-bedrock-input-token-count': '1120'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42295a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As a Gemini Solutions employee, you are credited with 7 Casual Leaves (CLs), 7 Sick Leaves (SLs), and 1.5 Privilege Leaves (PLs) annually. You can apply for up to 2 Casual Leaves (CLs) at a time. Note that these leaves are not cumulative, and you cannot carry forward unused leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Each year, you’ll receive 7 Casual Leaves (CLs), 7 Sick Leaves (SLs) credited annually and 1.5 Privilege Leaves (PLs) on monthly basis.\",\n            \"source\": \"HR - Leave Policy.csv - N/A/Sheet1 - 6\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1cUoUro4wwqIA2FK-pvE9n8NSf-AFQOGf_SR5vXepHYsOQiypPWlhQe3jmHvd1otfWi1FCa7ss6f2LITPsniC8eaGjuqv2CauCqiD6_vCC9pJGEq_tnmv3ewt5gW2FrRW\",\n        \"query\": \"how many leaves i can take in a year\",\n        \"source\": \"HR - Leave Policy.csv\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1120,"generation_token_count":300,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c9111eb8976eedc40a449
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 10:06:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2c76f9f5-3640-476c-8158-1c02af6a0549', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 10:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2c76f9f5-3640-476c-8158-1c02af6a0549', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51ccbe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672c96d5eb8976eedc40a44b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4bae475e-68f8-4b42-8ac0-5ed4d3f6d159', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 10:30:47 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '4bae475e-68f8-4b42-8ac0-5ed4d3f6d159', 'x-amzn-bedrock-invocation-latency': '1299', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229a80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c96d7eb8976eedc40a44c
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.223.90.71 - - [07/Nov/2024 10:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '464f4c4a-64ad-40c8-8ce6-dc324b05fa44', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 11:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '464f4c4a-64ad-40c8-8ce6-dc324b05fa44', 'x-amzn-bedrock-invocation-latency': '292', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721de0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672ca4beeb8976eedc40a44e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f372893a-b2b1-4dd3-8db1-f2d0d81b453a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 11:30:08 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'f372893a-b2b1-4dd3-8db1-f2d0d81b453a', 'x-amzn-bedrock-invocation-latency': '1324', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ca4c0eb8976eedc40a44f
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.215.118.14 - - [07/Nov/2024 11:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:188.166.87.67 - - [07/Nov/2024 11:38:07] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': "hi jinie, i'd like to know the steps to access my payslip-related information. can you provide the steps in points?\r\n ", 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hi jinie, i'd like to know the steps to access my payslip-related information. can you provide the steps in points?
 
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672caae0eb8976eedc40a451
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6a33581a-7075-4541-b0d5-83f8368e16da', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 11:56:21 GMT', 'content-type': 'application/json', 'content-length': '1331', 'connection': 'keep-alive', 'x-amzn-requestid': '6a33581a-7075-4541-b0d5-83f8368e16da', 'x-amzn-bedrock-invocation-latency': '2916', 'x-amzn-bedrock-output-token-count': '349', 'x-amzn-bedrock-input-token-count': '1138'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229cc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To access your payslip-related information, follow these steps:\\n* Log in to the GreytHR portal through the 'Accounts portal' tab on MIS.\\n* Navigate to the payslips section to view your monthly payslips.\",\n    \"References\": [\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the Accounts portal tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - Sheet1 - 15\"\n        },\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - N/A - Sheet1 - 43\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hi jinie, i'd like to know the steps to access my payslip-related information. can you provide the steps in points?\\n\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1138,"generation_token_count":349,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672caae5eb8976eedc40a452
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 11:56:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can you tell me how can i apply for lunch facility?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: can you tell me how can i apply for lunch facility?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '99649687-4c98-45fd-a87c-052124ffd548', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 11:56:49 GMT', 'content-type': 'application/json', 'content-length': '222', 'connection': 'keep-alive', 'x-amzn-requestid': '99649687-4c98-45fd-a87c-052124ffd548', 'x-amzn-bedrock-invocation-latency': '341', 'x-amzn-bedrock-output-token-count': '32', 'x-amzn-bedrock-input-token-count': '403'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3e80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"can you tell me how can i apply for employee benefits, such as lunch facility?\"\n}","prompt_token_count":403,"generation_token_count":32,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: can you tell me how can i apply for employee benefits, such as lunch facility?
INFO:__main__:Query stored successfully with ID: 672cab01eb8976eedc40a454
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c3dd7dfe-2c79-40f8-b2c7-4c892ef33680', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 11:56:54 GMT', 'content-type': 'application/json', 'content-length': '1351', 'connection': 'keep-alive', 'x-amzn-requestid': 'c3dd7dfe-2c79-40f8-b2c7-4c892ef33680', 'x-amzn-bedrock-invocation-latency': '2830', 'x-amzn-bedrock-output-token-count': '336', 'x-amzn-bedrock-input-token-count': '1274'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42298a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, the provided texts do not explicitly mention the process to apply for employee benefits like lunch facility. However, you can refer to Text Block 2, which mentions the Pluxee benefit, also known as Sodexo food wallet, which can be availed by receiving an email from colleagues.connect@geminisolutions.com. You can opt for it and INR 2000 will be credited to your Sodexo food wallet every month. For other benefits, please check the company's HR policies or consult with your HR representative.\",\n    \"References\": [\n        {\n            \"Statement\": \"To avail the Pluxee benefit, also known as Sodexo food wallet, you will receive an email from colleagues.connect@geminisolutions.com during the beginning of financial year or new hire onboarding.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"can you tell me how can i apply for employee benefits, such as lunch facility?\",\n        \"source\": \"Database\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1274,"generation_token_count":336,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cab06eb8976eedc40a455
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 11:56:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672caf4ceb8976eedc40a457
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f6d7793-8175-43e6-86ae-bbbf65560c86', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:15:15 GMT', 'content-type': 'application/json', 'content-length': '2459', 'connection': 'keep-alive', 'x-amzn-requestid': '7f6d7793-8175-43e6-86ae-bbbf65560c86', 'x-amzn-bedrock-invocation-latency': '5841', 'x-amzn-bedrock-output-token-count': '707', 'x-amzn-bedrock-input-token-count': '1088'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a2c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not have a specific policy for giving answers in markdown format. However, we can provide information on our company policies in a concise and clear manner. If you have any specific questions or concerns regarding our policies, please feel free to ask, and we will do our best to assist you.\\n\\n**Company Policies:**\\n* [Code of Conduct](https://www.geminisolutions.in/Code%20of%20Conduct_India.pdf)\\n* [Physical Security Policy](https://www.geminisolutions.in/Gemini%20-%20Physical%20Security%20Policy_v3.4_India.pdf)\\n* [Dress Code Policy](https://www.geminisolutions.in/Gemini-DRESS%20CODE%20POLICY_Version%204.0_India.pdf)\\n* [Fresher Hiring Policy](https://www.geminisolutions.in/Gemini-Fresher%20Hiring%20Policy_Version1.0_India.pdf)\\n* [Housekeeping Policy](https://www.geminisolutions.in/Gemini-Housekeeping%20Policy_Version%202.0._India.pdf)\\n\\n**References:**\\n* [Code of Conduct](https://www.geminisolutions.in/Code%20of%20Conduct_India.pdf) - 1\\n* [Physical Security Policy](https://www.geminisolutions.in/Gemini%20-%20Physical%20Security%20Policy_v3.4_India.pdf) - 17\\n* [Dress Code Policy](https://www.geminisolutions.in/Gemini-DRESS%20CODE%20POLICY_Version%204.0_India.pdf) - 3\\n* [Fresher Hiring Policy](https://www.geminisolutions.in/Gemini-Fresher%20Hiring%20Policy_Version1.0_India.pdf) - 4\\n* [Housekeeping Policy](https://www.geminisolutions.in/Gemini-Housekeeping%20Policy_Version%202.0._India.pdf) - 2\\n\\n**Metadata:**\\n{\n    \\\"conversation_id\\\": \\\"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\\\",\n    \\\"query\\\": \\\"give me answer in markdown format\\\",\n    \\\"source\\\": \\\"Company Policies\\\",\n    \\\"response_length\\\": \\\"250\\\"\n}\",\n    \"References\": [\n        {\n            \"Statement\": \"GEMINI SOLUTIONS VISUALIZE UCCESS\",\n            \"source\": \"Code of Conduct_India.pdf - 1\"\n        },\n        {\n            \"Statement\": \"Web: www.geminisolutions.in\",\n            \"source\": \"Gemini - Physical Security Policy_v3.4_India.pdf - 17\"\n        },\n        {\n            \"Statement\": \"Dress Code Policy Version 4.0\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 3\"\n        }\n    ]\n}","prompt_token_count":1088,"generation_token_count":707,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 1497 (char 1500)
INFO:werkzeug:124.253.6.253 - - [07/Nov/2024 12:15:15] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': '234589076ftre'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: 234589076ftre
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672cafbceb8976eedc40a459
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c04a9c26-69c3-49cf-9597-3254928595e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:17:05 GMT', 'content-type': 'application/json', 'content-length': '2109', 'connection': 'keep-alive', 'x-amzn-requestid': 'c04a9c26-69c3-49cf-9597-3254928595e8', 'x-amzn-bedrock-invocation-latency': '3636', 'x-amzn-bedrock-output-token-count': '440', 'x-amzn-bedrock-input-token-count': '906'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' dress code policy is governed by the **Dress Code Policy Version 4.0**. According to this policy, the purpose is to maintain a professional and respectful work environment. The scope of this policy applies to all employees. The objective is to ensure that employees dress appropriately for work, considering factors such as personal grooming and hygiene. The guidelines for dressing include adhering to a business casual dress code, and employees are expected to maintain a clean and tidy appearance. Personal grooming and hygiene are also emphasized. Any non-compliance with this policy will be addressed through a procedure outlined in the policy document.\\n\\n* Employees are expected to dress appropriately for work, considering factors such as personal grooming and hygiene.\\n* The policy applies to all employees.\\n* Any non-compliance with this policy will be addressed through a procedure outlined in the policy document.\",\n    \"References\": [\n        {\n            \"Statement\": \"Dress Code Policy Version 4.0\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 1/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Purpose is to maintain a professional and respectful work environment\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 2/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Scope of this policy applies to all employees\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 2/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Procedure for Non-Compliance\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 6/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"234589076ftre\",\n        \"query\": \"give me answer in markdown format\",\n        \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":906,"generation_token_count":440,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cafc1eb8976eedc40a45a
INFO:__main__:Process completed successfully.
INFO:werkzeug:124.253.6.253 - - [07/Nov/2024 12:17:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '224a78f8-c5be-400a-a152-0377faf29e9d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:26:04 GMT', 'content-type': 'application/json', 'content-length': '189', 'connection': 'keep-alive', 'x-amzn-requestid': '224a78f8-c5be-400a-a152-0377faf29e9d', 'x-amzn-bedrock-invocation-latency': '281', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"need_to_rewrite\": true,\n    \"query\": \"Provide the answer in Markdown format\"\n}","prompt_token_count":187,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Provide the answer in Markdown format
INFO:__main__:Query stored successfully with ID: 672cb1dceb8976eedc40a45c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'feca3f62-0475-43fd-8acd-28b91b627086', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:26:09 GMT', 'content-type': 'application/json', 'content-length': '1907', 'connection': 'keep-alive', 'x-amzn-requestid': 'feca3f62-0475-43fd-8acd-28b91b627086', 'x-amzn-bedrock-invocation-latency': '3672', 'x-amzn-bedrock-output-token-count': '442', 'x-amzn-bedrock-input-token-count': '1054'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has guidelines for social media usage and IT backup and recovery procedures. Employees are expected to follow these guidelines to ensure the security and integrity of company data. Failure to comply with these policies may result in future participation being put at risk.\\n\\n* Employees are expected to be trained and understand the social media guidelines.\\n* The guidelines will evolve as new technologies and social networking tools emerge.\\n* IT backup and recovery procedures are in place to ensure data security.\\n* Employees are expected to follow the guidelines and procedures to maintain data security and integrity.\",\n    \"References\": [\n        {\n            \"Statement\": \"It is expected for all who are participating in social media on behalf of GEMINI to be trained, to understand, and to follow these guidelines.\",\n            \"source\": \"Social Media Policy_India.pdf - 4/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"These guidelines will continually evolve as new technologies and social networking tools emerge.\",\n            \"source\": \"Social Media Policy_India.pdf - 4/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"IT Backup and Recovery Procedure\",\n            \"source\": \"Gemini - IT Backup and Restore_v1.0_India.pdf - 1/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"Provide the answer in Markdown format\",\n        \"source\": \"BC _ DR plans V1.4_India.pdf, Social Media Policy_India.pdf, Gemini - IT Backup and Restore_v1.0_India.pdf\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1054,"generation_token_count":442,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cb1e1eb8976eedc40a45d
INFO:__main__:Process completed successfully.
INFO:werkzeug:124.253.6.253 - - [07/Nov/2024 12:26:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672cb315eb8976eedc40a45f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2d25ca2c-8270-483e-ba98-039d8d4f95a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:31:20 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '2d25ca2c-8270-483e-ba98-039d8d4f95a0', 'x-amzn-bedrock-invocation-latency': '1256', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422ab30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cb318eb8976eedc40a460
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.101.97 - - [07/Nov/2024 12:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'clear history', 'conversation_id': 'a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA'}
INFO:__main__:Received query: clear history
INFO:__main__:Received conversation_id: a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672cb34beb8976eedc40a462
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '379f35aa-3434-4be6-b807-f21ef6395a96', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:32:15 GMT', 'content-type': 'application/json', 'content-length': '1188', 'connection': 'keep-alive', 'x-amzn-requestid': '379f35aa-3434-4be6-b807-f21ef6395a96', 'x-amzn-bedrock-invocation-latency': '2556', 'x-amzn-bedrock-output-token-count': '304', 'x-amzn-bedrock-input-token-count': '1471'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not have a specific policy or procedure for clearing employee history. However, our Exit Policy (Version 7.0) states that a full and final settlement will be processed within 45 days from completion of clearance formalities and settlement of all dues (if any) by the employees to the company. This may include the clearance of employee records.\",\n    \"References\": [\n        {\n            \"Statement\": \"13.1.1 Full and final settlement will be processed with 45 days from completion of clearance formalities and settlement of all dues (if any) by the employees to the company\",\n            \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf - 10/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA\",\n        \"query\": \"clear history\",\n        \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1471,"generation_token_count":304,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cb34feb8976eedc40a463
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 12:32:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'help me explain posh policy', 'conversation_id': 'a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA'}
INFO:__main__:Received query: help me explain posh policy
INFO:__main__:Received conversation_id: a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed5dff2c-2f1a-4c7d-afcc-84b4102d720a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:32:47 GMT', 'content-type': 'application/json', 'content-length': '186', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed5dff2c-2f1a-4c7d-afcc-84b4102d720a', 'x-amzn-bedrock-invocation-latency': '253', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '327'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"help me explain Gemini Solutions' policies\"\n}","prompt_token_count":327,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: help me explain Gemini Solutions' policies
INFO:__main__:Query stored successfully with ID: 672cb36feb8976eedc40a465
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '91452e44-9b95-4ee0-9510-f192eca766ba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:32:52 GMT', 'content-type': 'application/json', 'content-length': '2225', 'connection': 'keep-alive', 'x-amzn-requestid': '91452e44-9b95-4ee0-9510-f192eca766ba', 'x-amzn-bedrock-invocation-latency': '4094', 'x-amzn-bedrock-output-token-count': '497', 'x-amzn-bedrock-input-token-count': '1245'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422acb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has implemented various company policies to meet its privacy goals, including its Security Program, Information Security policies, Code of Conduct and Ethics, and agreements with vendors, customers, and employees. These policies are available on the MIS under the 'Policies' section. Additionally, the company has an Acceptable Use Policy, Risk Management Policy, and E-Policy that outline guidelines for employee behavior and usage of company resources. *These policies aim to provide a comprehensive and systematic approach to managing risks and ensuring the security and confidentiality of company data.*\",\n    \"References\": [\n        {\n            \"Statement\": \"with its Privacy Policy. In order to meet its privacy goals, Gemini Solutions has implemented various company policies encompassing privacy and security.\",\n            \"source\": \"Gemini - Privacy Policy V1.1_India.pdf - 4 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"You can find the internal Gemini policies on MIS, under the 'Policies' section.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - Sheet1 - 21\"\n        },\n        {\n            \"Statement\": \"Gemini Solution is committed to using a comprehensive and systematic approach to manage risks to information security.\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - 3 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"c) Employees are forbidden to use any messenger/chat applications such as (but not limited to) like MSN Messenger, Yahoo messenger etc unless explicitly permitted.\",\n            \"source\": \"Gemini - Acceptable Use Policy_V1.5_India.pdf - 7 - N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA\",\n        \"query\": \"help me explain Gemini Solutions' policies\",\n        \"source\": \"Gemini Solutions' policies database\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1245,"generation_token_count":497,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cb374eb8976eedc40a466
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 12:32:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are different policy in gemini solutions', 'conversation_id': 'a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA'}
INFO:__main__:Received query: what are different policy in gemini solutions
INFO:__main__:Received conversation_id: a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '32e900b6-63b8-4bd4-9abd-cb8297bd20ed', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:33:42 GMT', 'content-type': 'application/json', 'content-length': '195', 'connection': 'keep-alive', 'x-amzn-requestid': '32e900b6-63b8-4bd4-9abd-cb8297bd20ed', 'x-amzn-bedrock-invocation-latency': '270', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '674'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3310>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are the different policies in Gemini Solutions\"\n}","prompt_token_count":674,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are the different policies in Gemini Solutions
INFO:__main__:Query stored successfully with ID: 672cb3a6eb8976eedc40a468
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c6f07e70-0bbf-470f-831a-5f6aa653a1c3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:33:47 GMT', 'content-type': 'application/json', 'content-length': '1892', 'connection': 'keep-alive', 'x-amzn-requestid': 'c6f07e70-0bbf-470f-831a-5f6aa653a1c3', 'x-amzn-bedrock-invocation-latency': '3675', 'x-amzn-bedrock-output-token-count': '443', 'x-amzn-bedrock-input-token-count': '1223'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42286a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has implemented various company policies encompassing privacy and security, including its Security Program, Information Security policies, Code of Conduct and Ethics, and agreements with vendors, customers, and employees. Additionally, the company has internal policies on MIS, software development, risk management, and hardware installation.\",\n    \"References\": [\n        {\n            \"Statement\": \"with its Privacy Policy. In order to meet its privacy goals, Gemini Solutions has implemented various company policies encompassing privacy and security.\",\n            \"source\": \"Gemini - Privacy Policy V1.1_India.pdf - 4 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"You can find the internal Gemini policies on MIS, under the Policies section.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - Sheet1 - 21\"\n        },\n        {\n            \"Statement\": \"Software Development policy\",\n            \"source\": \"Gemini - IT Software Development v1.0_India.pdf - 4 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Risk Management Policy\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - 3 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Hardware policy\",\n            \"source\": \"Gemini - IT Hardware Policy v1.0_India.pdf - 4 - N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA\",\n        \"query\": \"what are the different policies in Gemini Solutions\",\n        \"source\": \"Gemini Solutions Database\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1223,"generation_token_count":443,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cb3abeb8976eedc40a469
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 12:33:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is code of conduct and ethics', 'conversation_id': 'a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA'}
INFO:__main__:Received query: what is code of conduct and ethics
INFO:__main__:Received conversation_id: a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4aae98a9-a50e-458a-9632-7ef8957905ef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:34:15 GMT', 'content-type': 'application/json', 'content-length': '196', 'connection': 'keep-alive', 'x-amzn-requestid': '4aae98a9-a50e-458a-9632-7ef8957905ef', 'x-amzn-bedrock-invocation-latency': '304', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '805'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is Gemini Solutions' Code of Conduct and Ethics\"\n}","prompt_token_count":805,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is Gemini Solutions' Code of Conduct and Ethics
INFO:__main__:Query stored successfully with ID: 672cb3c7eb8976eedc40a46b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '46d4d37a-5d27-435c-ae63-eaeef1bc7d48', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 12:34:20 GMT', 'content-type': 'application/json', 'content-length': '1978', 'connection': 'keep-alive', 'x-amzn-requestid': '46d4d37a-5d27-435c-ae63-eaeef1bc7d48', 'x-amzn-bedrock-invocation-latency': '3731', 'x-amzn-bedrock-output-token-count': '448', 'x-amzn-bedrock-input-token-count': '1304'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b010>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' Code of Conduct and Ethics is a set of guidelines that outlines the expected professional standards and conduct for employees. It emphasizes the importance of maintaining the highest standards of integrity, honesty, and respect in the performance of duties and responsibilities. The Code also prohibits certain behaviors, such as sending or receiving proprietary data, operating a business, or soliciting money for personal gain, and promotes a culture of respect, inclusivity, and diversity.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are expected to maintain the highest standards of conduct and integrity in the performance of their duties and responsibilities.\",\n            \"source\": \"Code of Conduct_India.pdf - 2/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"An employee who fails to conform to a reasonable standard of professional and personal behavior in carrying out assigned duties or who has a disregard for laws, rules, or regulations will face disciplinary action.\",\n            \"source\": \"Code of Conduct_India.pdf - 2/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Sending, receiving, printing, or otherwise disseminating proprietary data, Client's information and data or other confidential information.\",\n            \"source\": \"Geimini - E POLICY V1.6_India.pdf - 5/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1V8Tl7T29Y9bjX6ww-5rxMVOJjblSgSJ-CFit4AxfaI5SmhZX6Ul3gtifZw-3wt6JAJJqJxbbkCADdkQvd3zDtExaTyqe9swZ4CVhniWxKKHpHuZ-myqDnpKRYCVaualA\",\n        \"query\": \"what is Gemini Solutions' Code of Conduct and Ethics\",\n        \"source\": \"Gemini - Privacy Policy V1.1_India.pdf, Code of Conduct_India.pdf, Geimini - E POLICY V1.6_India.pdf\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1304,"generation_token_count":448,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cb3cceb8976eedc40a46c
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 12:34:20] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.156.129.77 - - [07/Nov/2024 12:53:49] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b87545a9-c688-48c6-a9e1-39f108ccc14c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 13:31:19 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'b87545a9-c688-48c6-a9e1-39f108ccc14c', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422ba90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":238,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672cc127eb8976eedc40a46e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f8044c3e-4018-40fc-bbe1-20858bffccde', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 13:31:22 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'f8044c3e-4018-40fc-bbe1-20858bffccde', 'x-amzn-bedrock-invocation-latency': '1212', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422bdf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cc12aeb8976eedc40a46f
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.174.107.86 - - [07/Nov/2024 13:31:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ccf3feb8976eedc40a471
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2a55db59-c7ec-4b4e-9a79-0786e6757919', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 14:31:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '2a55db59-c7ec-4b4e-9a79-0786e6757919', 'x-amzn-bedrock-invocation-latency': '1195', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229ff0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ccf41eb8976eedc40a472
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.197.209.171 - - [07/Nov/2024 14:31:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '82d839df-de0a-41d9-9e57-2a85af78cfd8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 15:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '82d839df-de0a-41d9-9e57-2a85af78cfd8', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51ccc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672cdd02eb8976eedc40a474
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '55fb2784-1a30-46aa-b752-d53f70c6ae92', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 15:30:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '55fb2784-1a30-46aa-b752-d53f70c6ae92', 'x-amzn-bedrock-invocation-latency': '1317', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229f90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cdd05eb8976eedc40a475
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.44.145 - - [07/Nov/2024 15:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ceb39eb8976eedc40a477
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8cf61ee9-ece1-49d7-a24f-7b157ced9fc6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 16:30:51 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '8cf61ee9-ece1-49d7-a24f-7b157ced9fc6', 'x-amzn-bedrock-invocation-latency': '1270', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ceb3beb8976eedc40a478
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.253.237 - - [07/Nov/2024 16:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0727a5f0-e827-4b97-9eca-6ad9d9fe9c3f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 17:30:41 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0727a5f0-e827-4b97-9eca-6ad9d9fe9c3f', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672cf941eb8976eedc40a47a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0387f049-f2fa-4ddd-8bc3-a5562308746d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 17:30:44 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '0387f049-f2fa-4ddd-8bc3-a5562308746d', 'x-amzn-bedrock-invocation-latency': '1328', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672cf944eb8976eedc40a47b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.161.65.214 - - [07/Nov/2024 17:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672d08adeb8976eedc40a47d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0139c0b9-c3b2-461f-bc15-6e90238823ba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 18:36:32 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0139c0b9-c3b2-461f-bc15-6e90238823ba', 'x-amzn-bedrock-invocation-latency': '1293', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229510>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d08b0eb8976eedc40a47e
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.41.96 - - [07/Nov/2024 18:36:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3884e2b0-81b7-493d-ae63-38999c219686', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 19:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3884e2b0-81b7-493d-ae63-38999c219686', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672d1546eb8976eedc40a480
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd30f4bef-92a6-4d96-94f9-f2d861106b57', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 19:30:16 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'd30f4bef-92a6-4d96-94f9-f2d861106b57', 'x-amzn-bedrock-invocation-latency': '1216', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42283d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d1548eb8976eedc40a481
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.215.118.14 - - [07/Nov/2024 19:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:157.230.42.12 - - [07/Nov/2024 20:28:40] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672d2362eb8976eedc40a483
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '968947b0-cb7a-479a-ba86-7147cf4d20d6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 20:30:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '968947b0-cb7a-479a-ba86-7147cf4d20d6', 'x-amzn-bedrock-invocation-latency': '1259', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42280d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d2365eb8976eedc40a484
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.46.28 - - [07/Nov/2024 20:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.30 - - [07/Nov/2024 20:58:31] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672d3197eb8976eedc40a486
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8db5a66-a910-48c1-a3bb-07751c825e0e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 21:31:06 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8db5a66-a910-48c1-a3bb-07751c825e0e', 'x-amzn-bedrock-invocation-latency': '1266', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d319aeb8976eedc40a487
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.87.134.93 - - [07/Nov/2024 21:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f683a9c9-cfec-4334-9daf-9448a6e20a8d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 22:30:58 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f683a9c9-cfec-4334-9daf-9448a6e20a8d', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672d3fa2eb8976eedc40a489
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0dbc9e8e-855c-43fc-b61c-ced5209fc05b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 22:31:00 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0dbc9e8e-855c-43fc-b61c-ced5209fc05b', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d3fa4eb8976eedc40a48a
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.241.212 - - [07/Nov/2024 22:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04dbd8df-da6c-4f8e-9acc-b24ba154a538', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 23:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '04dbd8df-da6c-4f8e-9acc-b24ba154a538', 'x-amzn-bedrock-invocation-latency': '375', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672d4d9ceb8976eedc40a48c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b2cbc3ba-4c46-44b2-9206-40de06ca13de', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 23:30:38 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'b2cbc3ba-4c46-44b2-9206-40de06ca13de', 'x-amzn-bedrock-invocation-latency': '1316', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d4d9eeb8976eedc40a48d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.161.24.29 - - [07/Nov/2024 23:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '211a8bce-6a3a-48ca-b816-4b07656f91c4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 00:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '211a8bce-6a3a-48ca-b816-4b07656f91c4', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722fb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672d5ba2eb8976eedc40a48f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '16fba64b-71b5-42b0-9dc8-df7d03836d18', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 00:30:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '16fba64b-71b5-42b0-9dc8-df7d03836d18', 'x-amzn-bedrock-invocation-latency': '1215', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d360>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d5ba5eb8976eedc40a490
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.215.118.14 - - [08/Nov/2024 00:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672d69e6eb8976eedc40a492
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f89b93ee-87c7-4844-96d0-75e795879633', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 01:31:21 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'f89b93ee-87c7-4844-96d0-75e795879633', 'x-amzn-bedrock-invocation-latency': '1206', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ccd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d69e9eb8976eedc40a493
INFO:__main__:Process completed successfully.
INFO:werkzeug:50.17.29.35 - - [08/Nov/2024 01:31:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '17bc3996-4dbe-4dd8-9100-798d2428c99d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 02:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '17bc3996-4dbe-4dd8-9100-798d2428c99d', 'x-amzn-bedrock-invocation-latency': '359', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722b00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672d77c5eb8976eedc40a495
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04e9bfee-71ef-424b-b641-769f37b3fc14', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 02:30:32 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '04e9bfee-71ef-424b-b641-769f37b3fc14', 'x-amzn-bedrock-invocation-latency': '1352', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229600>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d77c8eb8976eedc40a496
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.208.146.133 - - [08/Nov/2024 02:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672d85f1eb8976eedc40a498
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5bcffe72-8e1a-41c2-b65e-13e95501d78c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 03:31:00 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '5bcffe72-8e1a-41c2-b65e-13e95501d78c', 'x-amzn-bedrock-invocation-latency': '1381', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51cc7c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d85f4eb8976eedc40a499
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.176.142 - - [08/Nov/2024 03:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9dd0362c-47a3-4951-b0ce-d0e4029c2e2d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 04:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9dd0362c-47a3-4951-b0ce-d0e4029c2e2d', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672d93e5eb8976eedc40a49b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '757f3299-f1df-41a5-8fe6-4aaee8ac8284', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 04:30:31 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '757f3299-f1df-41a5-8fe6-4aaee8ac8284', 'x-amzn-bedrock-invocation-latency': '1219', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d1e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672d93e7eb8976eedc40a49c
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.214.39.66 - - [08/Nov/2024 04:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672da19deb8976eedc40a49e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c897a655-8ab6-4c1d-99bd-6549afccaed2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:29:09 GMT', 'content-type': 'application/json', 'content-length': '3090', 'connection': 'keep-alive', 'x-amzn-requestid': 'c897a655-8ab6-4c1d-99bd-6549afccaed2', 'x-amzn-bedrock-invocation-latency': '6355', 'x-amzn-bedrock-output-token-count': '775', 'x-amzn-bedrock-input-token-count': '1088'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472da50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not have a specific policy for giving answers in markdown format. However, we can provide information on our company policies in a concise and clear manner. If you have any specific questions or concerns regarding our policies, please feel free to ask, and we will do our best to assist you.\\n\\n**Code of Conduct:** Our Code of Conduct is available in the [Code of Conduct_India.pdf](Code%20of%20Conduct_India.pdf) document, which outlines the expected behavior and standards for all employees.\\n\\n**Dress Code Policy:** Our Dress Code Policy is available in the [Gemini-DRESS CODE POLICY_Version 4.0_India.pdf](Gemini-DRESS%20CODE%20POLICY_Version%204.0_India.pdf) document, which outlines the guidelines for dressing and personal grooming hygiene.\\n\\n**Physical Security Policy:** Our Physical Security Policy is available in the [Gemini - Physical Security Policy_v3.4_India.pdf](Gemini%20-%20Physical%20Security%20Policy_v3.4_India.pdf) document, which outlines the procedures for ensuring the physical security of our premises.\\n\\n**Fresher Hiring Policy:** Our Fresher Hiring Policy is available in the [Gemini-Fresher Hiring Policy_Version1.0_India.pdf](Gemini-Fresher%20Hiring%20Policy_Version1.0_India.pdf) document, which outlines the procedures for hiring freshers.\\n\\n**Housekeeping Policy:** Our Housekeeping Policy is available in the [Gemini-Housekeeping Policy_Version 2.0._India.pdf](Gemini-Housekeeping%20Policy_Version%202.0._India.pdf) document, which outlines the procedures for maintaining a clean and organized work environment.\\n\\nIf you have any further questions or concerns, please do not hesitate to reach out to us.\",\n    \"References\": [\n        {\n            \"Statement\": \"GEMINI SOLUTIONS VISUALIZE UCCESS\",\n            \"source\": \"Code of Conduct_India.pdf - 1/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Dress Code Policy Version 4.0\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 1/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Physical Security Policy_v3.4_India.pdf\",\n            \"source\": \"Gemini - Physical Security Policy_v3.4_India.pdf - 17/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Fresher Hiring Policy_Version1.0_India.pdf\",\n            \"source\": \"Gemini-Fresher Hiring Policy_Version1.0_India.pdf - 4/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Housekeeping Policy_Version 2.0._India.pdf\",\n            \"source\": \"Gemini-Housekeeping Policy_Version 2.0._India.pdf - 2/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"give me answer in markdown format\",\n        \"source\": \"Gemini Solutions\",\n        \"response_length\": \"546\"\n    }\n}","prompt_token_count":1088,"generation_token_count":775,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672da1a5eb8976eedc40a49f
INFO:__main__:Process completed successfully.
INFO:werkzeug:124.253.0.39 - - [08/Nov/2024 05:29:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': '234589076ftre'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: 234589076ftre
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672da1c3eb8976eedc40a4a1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e9f375c-c608-4263-bf89-72fe354eacd9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:29:44 GMT', 'content-type': 'application/json', 'content-length': '1777', 'connection': 'keep-alive', 'x-amzn-requestid': '1e9f375c-c608-4263-bf89-72fe354eacd9', 'x-amzn-bedrock-invocation-latency': '3171', 'x-amzn-bedrock-output-token-count': '382', 'x-amzn-bedrock-input-token-count': '906'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51cc190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has a dress code policy that aims to promote a professional and respectful work environment. The policy is applicable to all employees and outlines guidelines for dressing and personal grooming. Employees are expected to maintain a high level of personal hygiene and adhere to the dress code guidelines. Any non-compliance will be addressed through a procedure outlined in the policy.\\n\\n* The policy aims to promote a professional and respectful work environment.\\n* The policy is applicable to all employees.\\n* Employees are expected to maintain a high level of personal hygiene.\\n* Non-compliance will be addressed through a procedure outlined in the policy.\",\n    \"References\": [\n        {\n            \"Statement\": \"Dress Code Policy Version 4.0\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 1/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Guidelines for Dressing\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 4/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Personal Grooming Hygiene\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 5/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Procedure for Non-Compliance\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 6/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"234589076ftre\",\n        \"query\": \"give me answer in markdown format\",\n        \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf\",\n        \"response_length\": \"166\"\n    }\n}","prompt_token_count":906,"generation_token_count":382,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672da1c8eb8976eedc40a4a2
INFO:__main__:Process completed successfully.
INFO:werkzeug:124.253.0.39 - - [08/Nov/2024 05:29:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2f4a99ce-182a-47ed-9a20-6a5e07079993', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:00 GMT', 'content-type': 'application/json', 'content-length': '178', 'connection': 'keep-alive', 'x-amzn-requestid': '2f4a99ce-182a-47ed-9a20-6a5e07079993', 'x-amzn-bedrock-invocation-latency': '263', 'x-amzn-bedrock-output-token-count': '22', 'x-amzn-bedrock-input-token-count': '770'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b8e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"give me answer in markdown format\"\n}","prompt_token_count":770,"generation_token_count":22,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: give me answer in markdown format
INFO:__main__:Query stored successfully with ID: 672da1d8eb8976eedc40a4a4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '306c1ebd-21b0-427a-aa0d-41f4589e620e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:08 GMT', 'content-type': 'application/json', 'content-length': '2652', 'connection': 'keep-alive', 'x-amzn-requestid': '306c1ebd-21b0-427a-aa0d-41f4589e620e', 'x-amzn-bedrock-invocation-latency': '6145', 'x-amzn-bedrock-output-token-count': '750', 'x-amzn-bedrock-input-token-count': '1088'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not have a specific policy for giving answers in markdown format. However, we can provide information on our company policies in a concise and clear manner. If you have any specific questions or concerns regarding our policies, please feel free to ask, and we will do our best to assist you.\\n\\n**Company Policies:**\\n* [Code of Conduct](https://www.geminisolutions.in/Code%20of%20Conduct_India.pdf)\\n* [Physical Security Policy](https://www.geminisolutions.in/Gemini%20-%20Physical%20Security%20Policy_v3.4_India.pdf)\\n* [Dress Code Policy](https://www.geminisolutions.in/Gemini-DRESS%20CODE%20POLICY_Version%204.0_India.pdf)\\n* [Fresher Hiring Policy](https://www.geminisolutions.in/Gemini-Fresher%20Hiring%20Policy_Version1.0_India.pdf)\\n* [Housekeeping Policy](https://www.geminisolutions.in/Gemini-Housekeeping%20Policy_Version%202.0._India.pdf)\\n\\n**References:**\\n* [Code of Conduct](https://www.geminisolutions.in/Code%20of%20Conduct_India.pdf) - 1\\n* [Physical Security Policy](https://www.geminisolutions.in/Gemini%20-%20Physical%20Security%20Policy_v3.4_India.pdf) - 17\\n* [Dress Code Policy](https://www.geminisolutions.in/Gemini-DRESS%20CODE%20POLICY_Version%204.0_India.pdf) - 3\\n* [Fresher Hiring Policy](https://www.geminisolutions.in/Gemini-Fresher%20Hiring%20Policy_Version1.0_India.pdf) - 4\\n* [Housekeeping Policy](https://www.geminisolutions.in/Gemini-Housekeeping%20Policy_Version%202.0._India.pdf) - 2\\n\\n**Metadata:**\\n{\n    \\\"conversation_id\\\": \\\"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\\\",\n    \\\"query\\\": \\\"give me answer in markdown format\\\",\n    \\\"source\\\": \\\"Company Policies\\\",\n    \\\"response_length\\\": \\\"250\\\"\n}\",\n    \"References\": [\n        {\n            \"Statement\": \"GEMINI SOLUTIONS VISUALIZE UCCESS\",\n            \"source\": \"Code of Conduct_India.pdf - 1\"\n        },\n        {\n            \"Statement\": \"GEMINI SOLUTIONS VISUALIZE SUCCESS\",\n            \"source\": \"Dress Code Policy_Version 4.0_India.pdf - 1\"\n        },\n        {\n            \"Statement\": \"coordinator, package to be offered, planned date of visit in the campus.\",\n            \"source\": \"Gemini-Fresher Hiring Policy_Version1.0_India.pdf - 4\"\n        },\n        {\n            \"Statement\": \"04-12-2022\",\n            \"source\": \"Gemini-Housekeeping Policy_Version 2.0._India.pdf - 2\"\n        }\n    ]\n}","prompt_token_count":1088,"generation_token_count":750,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 1497 (char 1500)
INFO:werkzeug:124.253.0.39 - - [08/Nov/2024 05:30:08] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': '234589076ftre'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: 234589076ftre
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c8602d13-adb3-4b69-82f8-ae10c569c07c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:17 GMT', 'content-type': 'application/json', 'content-length': '178', 'connection': 'keep-alive', 'x-amzn-requestid': 'c8602d13-adb3-4b69-82f8-ae10c569c07c', 'x-amzn-bedrock-invocation-latency': '259', 'x-amzn-bedrock-output-token-count': '22', 'x-amzn-bedrock-input-token-count': '468'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422bc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"give me answer in markdown format\"\n}","prompt_token_count":468,"generation_token_count":22,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: give me answer in markdown format
INFO:__main__:Query stored successfully with ID: 672da1e9eb8976eedc40a4a6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1cdac527-8f26-42f0-926a-25a334b3272f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1cdac527-8f26-42f0-926a-25a334b3272f', 'x-amzn-bedrock-invocation-latency': '283', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47850f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672da1eaeb8976eedc40a4a8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a5f8e392-3916-4de5-860e-0a010fac56cc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:20 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'a5f8e392-3916-4de5-860e-0a010fac56cc', 'x-amzn-bedrock-invocation-latency': '1329', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786dd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672da1eceb8976eedc40a4a9
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.215.245.64 - - [08/Nov/2024 05:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f6f57b37-80c2-480d-a2a0-f8e74cb93b89', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:21 GMT', 'content-type': 'application/json', 'content-length': '1831', 'connection': 'keep-alive', 'x-amzn-requestid': 'f6f57b37-80c2-480d-a2a0-f8e74cb93b89', 'x-amzn-bedrock-invocation-latency': '3268', 'x-amzn-bedrock-output-token-count': '394', 'x-amzn-bedrock-input-token-count': '906'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ebf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has a dress code policy that aims to promote a professional and respectful work environment. The policy is applicable to all employees and outlines guidelines for dressing and personal grooming. Employees are expected to maintain a high level of personal hygiene and adhere to the dress code guidelines. Any non-compliance with the policy will be addressed through a procedure outlined in the policy document.\\n\\n* The policy aims to promote a professional and respectful work environment.\\n* The policy is applicable to all employees.\\n* Employees are expected to maintain a high level of personal hygiene.\\n* Non-compliance with the policy will be addressed through a procedure outlined in the policy document.\",\n    \"References\": [\n        {\n            \"Statement\": \"Dress Code Policy Version 4.0\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 1/sheet1 - 0\"\n        },\n        {\n            \"Statement\": \"Guidelines for Dressing\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 4/sheet1 - 0\"\n        },\n        {\n            \"Statement\": \"Personal Grooming Hygiene\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 5/sheet1 - 0\"\n        },\n        {\n            \"Statement\": \"Procedure for Non-Compliance\",\n            \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf - 6/sheet1 - 0\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"234589076ftre\",\n        \"query\": \"give me answer in markdown format\",\n        \"source\": \"Gemini-DRESS CODE POLICY_Version 4.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":906,"generation_token_count":394,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672da1edeb8976eedc40a4aa
INFO:__main__:Process completed successfully.
INFO:werkzeug:124.253.0.39 - - [08/Nov/2024 05:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: give me answer in markdown format
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '86c440e1-b7e4-4a98-bb1d-cfc8c8c6fde3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:46 GMT', 'content-type': 'application/json', 'content-length': '209', 'connection': 'keep-alive', 'x-amzn-requestid': '86c440e1-b7e4-4a98-bb1d-cfc8c8c6fde3', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '790'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d2a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Please provide information on company policies in markdown format\"\n}","prompt_token_count":790,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Please provide information on company policies in markdown format
INFO:__main__:Query stored successfully with ID: 672da206eb8976eedc40a4ac
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '468a5f15-0d1b-4113-b54d-72840a85428b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 05:30:52 GMT', 'content-type': 'application/json', 'content-length': '2300', 'connection': 'keep-alive', 'x-amzn-requestid': '468a5f15-0d1b-4113-b54d-72840a85428b', 'x-amzn-bedrock-invocation-latency': '4559', 'x-amzn-bedrock-output-token-count': '552', 'x-amzn-bedrock-input-token-count': '1414'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51cc1f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Here is a summary of Gemini Solutions' company policies in markdown format:\\n\\n**Acceptable Use Policy**\\n* Secure usage of physical access cards\\n* Secure usage of cryptographic keys\\n* Internet usage policy\\n* Clear Desk and Clear Screen Policy\\n* Social Media/Social networking Policy\\n* Weakness & Incident Reporting\\n* Consequence Management/Disciplinary action Procedure (DAP)\\n* Intellectual Property/ownership\\n* Right to audit\\n* Question/clarifications/improvements\\n\\n**IT Hardware Policy**\\n* Guidelines for hardware usage\\n* Responsibility for hardware\\n* Non-compliance with Policy\\n\\n**Social Media Policy**\\n* Guidelines for company representatives on social media\\n\\n**Leave Policy**\\n* Rules for availing leaves\\n* Types of leaves\\n\\n**Housekeeping Policy**\\n* Guidelines for housekeeping\\n\\nPlease refer to the provided documents for more information.\\n\\n\",\n    \"References\": [\n        {\n            \"Statement\": \"Secure usage of physical access cards\",\n            \"source\": \"Gemini - Acceptable Use Policy_V1.5_India.pdf - 3 - N/A\"\n        },\n        {\n            \"Statement\": \"Guidelines for hardware usage\",\n            \"source\": \"Gemini - IT Hardware Policy v1.0_India.pdf - 3 - N/A\"\n        },\n        {\n            \"Statement\": \"Guidelines for company representatives on social media\",\n            \"source\": \"Social Media Policy_India.pdf - 8 - N/A\"\n        },\n        {\n            \"Statement\": \"Rules for availing leaves\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - 2 - N/A\"\n        },\n        {\n            \"Statement\": \"Guidelines for housekeeping\",\n            \"source\": \"Gemini-Housekeeping Policy_Version 2.0._India.pdf - 2 - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"Please provide information on company policies in markdown format\",\n        \"source\": \"Gemini Solutions' documents\",\n        \"response_length\": \"346\"\n    }\n}","prompt_token_count":1414,"generation_token_count":552,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672da20ceb8976eedc40a4ad
INFO:__main__:Process completed successfully.
INFO:werkzeug:124.253.0.39 - - [08/Nov/2024 05:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'give me answer in markdown format\r\n ', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: give me answer in markdown format
 
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b4c6577b-e61f-4c82-9c04-2fbb5cdbbded', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 06:25:01 GMT', 'content-type': 'application/json', 'content-length': '218', 'connection': 'keep-alive', 'x-amzn-requestid': 'b4c6577b-e61f-4c82-9c04-2fbb5cdbbded', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '1140'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e5f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"need_to_rewrite\": true,\n    \"query\": \"Please provide information on company policies in markdown format\"\n}","prompt_token_count":1140,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Please provide information on company policies in markdown format
INFO:__main__:Query stored successfully with ID: 672daebdeb8976eedc40a4af
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0919cac2-23f7-481c-96bb-92a1065c12ac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 06:25:07 GMT', 'content-type': 'application/json', 'content-length': '2300', 'connection': 'keep-alive', 'x-amzn-requestid': '0919cac2-23f7-481c-96bb-92a1065c12ac', 'x-amzn-bedrock-invocation-latency': '4537', 'x-amzn-bedrock-output-token-count': '552', 'x-amzn-bedrock-input-token-count': '1414'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Here is a summary of Gemini Solutions' company policies in markdown format:\\n\\n**Acceptable Use Policy**\\n* Secure usage of physical access cards\\n* Secure usage of cryptographic keys\\n* Internet usage policy\\n* Clear Desk and Clear Screen Policy\\n* Social Media/Social networking Policy\\n* Weakness & Incident Reporting\\n* Consequence Management/Disciplinary action Procedure (DAP)\\n* Intellectual Property/ownership\\n* Right to audit\\n* Question/clarifications/improvements\\n\\n**IT Hardware Policy**\\n* Guidelines for hardware usage\\n* Responsibility for hardware\\n* Non-compliance with policy\\n\\n**Social Media Policy**\\n* Guidelines for company representatives on social media\\n\\n**Leave Policy**\\n* Rules for availing leaves\\n* Types of leaves\\n\\n**Housekeeping Policy**\\n* Guidelines for housekeeping\\n\\nPlease refer to the provided documents for more information.\\n\\n\",\n    \"References\": [\n        {\n            \"Statement\": \"Secure usage of physical access cards\",\n            \"source\": \"Gemini - Acceptable Use Policy_V1.5_India.pdf - 3 - N/A\"\n        },\n        {\n            \"Statement\": \"Guidelines for hardware usage\",\n            \"source\": \"Gemini - IT Hardware Policy v1.0_India.pdf - 3 - N/A\"\n        },\n        {\n            \"Statement\": \"Guidelines for company representatives on social media\",\n            \"source\": \"Social Media Policy_India.pdf - 8 - N/A\"\n        },\n        {\n            \"Statement\": \"Rules for availing leaves\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - 2 - N/A\"\n        },\n        {\n            \"Statement\": \"Guidelines for housekeeping\",\n            \"source\": \"Gemini-Housekeeping Policy_Version 2.0._India.pdf - 2 - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"Please provide information on company policies in markdown format\",\n        \"source\": \"Gemini Solutions' documents\",\n        \"response_length\": \"346\"\n    }\n}","prompt_token_count":1414,"generation_token_count":552,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672daec3eb8976eedc40a4b0
INFO:__main__:Process completed successfully.
INFO:werkzeug:124.253.109.214 - - [08/Nov/2024 06:25:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672daffdeb8976eedc40a4b2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fc9550bb-ef97-41a7-a2a3-a91dd8e500ef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 06:30:24 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'fc9550bb-ef97-41a7-a2a3-a91dd8e500ef', 'x-amzn-bedrock-invocation-latency': '1268', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672db000eb8976eedc40a4b3
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.1.246 - - [08/Nov/2024 06:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:172.202.177.59 - - [08/Nov/2024 07:07:46] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672dbe58eb8976eedc40a4b5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '35926c09-2fc5-4301-a697-32aaad3c36d0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 07:31:38 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '35926c09-2fc5-4301-a697-32aaad3c36d0', 'x-amzn-bedrock-invocation-latency': '1312', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672dbe5aeb8976eedc40a4b6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.165.59.117 - - [08/Nov/2024 07:31:38] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:65.49.1.72 - - [08/Nov/2024 08:23:24] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:65.49.1.72 - - [08/Nov/2024 08:23:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c6d292ff-bff4-462a-a6de-9535aa670da2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 08:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c6d292ff-bff4-462a-a6de-9535aa670da2', 'x-amzn-bedrock-invocation-latency': '292', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472dd80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672dcc30eb8976eedc40a4b8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cf12e42e-a9f6-4684-a93c-af04c06f36d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 08:30:42 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'cf12e42e-a9f6-4684-a93c-af04c06f36d8', 'x-amzn-bedrock-invocation-latency': '1326', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229fc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672dcc32eb8976eedc40a4b9
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.213.133.47 - - [08/Nov/2024 08:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672dda68eb8976eedc40a4bb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '245aa53b-8209-403d-b1b9-5f026ba1783d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 09:31:23 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '245aa53b-8209-403d-b1b9-5f026ba1783d', 'x-amzn-bedrock-invocation-latency': '1211', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672dda6beb8976eedc40a4bc
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.91.161 - - [08/Nov/2024 09:31:23] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.43 - - [08/Nov/2024 09:54:28] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5d1b7576-bfe1-4d40-93ed-34de749d5168', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 10:31:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5d1b7576-bfe1-4d40-93ed-34de749d5168', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672de86eeb8976eedc40a4be
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '804d16ce-d1a2-4a11-aeec-466adc7163e6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 10:31:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '804d16ce-d1a2-4a11-aeec-466adc7163e6', 'x-amzn-bedrock-invocation-latency': '1299', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785840>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672de871eb8976eedc40a4bf
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.213.133.47 - - [08/Nov/2024 10:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd24e7f2d-18a0-44da-9fdb-2018bc3898ee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 11:30:50 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd24e7f2d-18a0-44da-9fdb-2018bc3898ee', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229f30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672df66aeb8976eedc40a4c1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '46922a7b-0ae0-448b-aea1-684b90ebf9c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 11:30:52 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '46922a7b-0ae0-448b-aea1-684b90ebf9c6', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422bd90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672df66ceb8976eedc40a4c2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.94.153.122 - - [08/Nov/2024 11:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a3171118-9938-4717-b905-ca60e5eb83a3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 12:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a3171118-9938-4717-b905-ca60e5eb83a3', 'x-amzn-bedrock-invocation-latency': '303', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672e044eeb8976eedc40a4c4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dfe69138-725f-4a82-b8a4-2e60ef6b64b9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 12:30:09 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'dfe69138-725f-4a82-b8a4-2e60ef6b64b9', 'x-amzn-bedrock-invocation-latency': '1311', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e0451eb8976eedc40a4c5
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.27.229 - - [08/Nov/2024 12:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672e1298eb8976eedc40a4c7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '18166cb0-7e29-4203-8aed-eab22804d262', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 13:31:07 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '18166cb0-7e29-4203-8aed-eab22804d262', 'x-amzn-bedrock-invocation-latency': '1253', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0c10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e129beb8976eedc40a4c8
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.182.189 - - [08/Nov/2024 13:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6ad8bc9d-74fe-4b79-a071-0247c5888654', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 14:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6ad8bc9d-74fe-4b79-a071-0247c5888654', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0ac0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672e2079eb8976eedc40a4ca
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8b2a8241-f70d-4b5f-9916-a39580f9175e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 14:30:19 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '8b2a8241-f70d-4b5f-9916-a39580f9175e', 'x-amzn-bedrock-invocation-latency': '1191', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cbb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e207beb8976eedc40a4cb
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.223.79.60 - - [08/Nov/2024 14:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672e2e99eb8976eedc40a4cd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd0a760a9-6321-45b6-a89d-8be844bea165', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 15:30:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'd0a760a9-6321-45b6-a89d-8be844bea165', 'x-amzn-bedrock-invocation-latency': '1292', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e2e9beb8976eedc40a4ce
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.214.18.66 - - [08/Nov/2024 15:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672e3cbaeb8976eedc40a4d0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a6e32b5b-e604-4106-af66-ef04cf86c58a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 16:30:53 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'a6e32b5b-e604-4106-af66-ef04cf86c58a', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f36a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e3cbdeb8976eedc40a4d1
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.84.50.107 - - [08/Nov/2024 16:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1fbbd27d-f049-4879-9f8e-3e2ca2a21cdc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 17:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1fbbd27d-f049-4879-9f8e-3e2ca2a21cdc', 'x-amzn-bedrock-invocation-latency': '326', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f04f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672e4aabeb8976eedc40a4d3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6705f883-95f2-4c26-8053-f1cc26bdb375', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 17:30:22 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '6705f883-95f2-4c26-8053-f1cc26bdb375', 'x-amzn-bedrock-invocation-latency': '1200', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e890>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e4aaeeb8976eedc40a4d4
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.57.207 - - [08/Nov/2024 17:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672e599eeb8976eedc40a4d6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83755bda-ed0d-4445-9024-9c12363bc7b0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 18:34:08 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '83755bda-ed0d-4445-9024-9c12363bc7b0', 'x-amzn-bedrock-invocation-latency': '1369', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cf40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e59a0eb8976eedc40a4d7
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.57.207 - - [08/Nov/2024 18:34:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd2452d48-3cc0-420f-b794-9b699420baf5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 19:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd2452d48-3cc0-420f-b794-9b699420baf5', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721c30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672e66d7eb8976eedc40a4d9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e6606d40-df27-45be-a47b-2e2ae8e7393c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 19:30:34 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'e6606d40-df27-45be-a47b-2e2ae8e7393c', 'x-amzn-bedrock-invocation-latency': '1306', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e66daeb8976eedc40a4da
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.150.56 - - [08/Nov/2024 19:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672e750beb8976eedc40a4dc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '086023f6-a953-40d6-9d05-19115b49db2f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 20:31:10 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '086023f6-a953-40d6-9d05-19115b49db2f', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d520aa10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e750eeb8976eedc40a4dd
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.57.207 - - [08/Nov/2024 20:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'de52a915-626d-4c06-b5cb-73ae60a27249', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 21:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'de52a915-626d-4c06-b5cb-73ae60a27249', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672e82e3eb8976eedc40a4df
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0a023804-dd62-4bd4-9762-12a6fc0e29af', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 21:30:13 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0a023804-dd62-4bd4-9762-12a6fc0e29af', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e82e5eb8976eedc40a4e0
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.57.207 - - [08/Nov/2024 21:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.47 - - [08/Nov/2024 21:53:48] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672e9112eb8976eedc40a4e2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '42d4677f-1506-43cd-b719-66610a8ed064', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 22:30:45 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '42d4677f-1506-43cd-b719-66610a8ed064', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d0f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e9115eb8976eedc40a4e3
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.57.207 - - [08/Nov/2024 22:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4b86987f-022e-4e1e-8b01-1ceb802c9886', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 23:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4b86987f-022e-4e1e-8b01-1ceb802c9886', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722950>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672e9f0eeb8976eedc40a4e5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '693839cc-ffbe-4d44-bcbb-0b7ce8234c36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 08 Nov 2024 23:30:25 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '693839cc-ffbe-4d44-bcbb-0b7ce8234c36', 'x-amzn-bedrock-invocation-latency': '1217', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672e9f11eb8976eedc40a4e6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.152.115.107 - - [08/Nov/2024 23:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ead48eb8976eedc40a4e8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3ee99cdf-2b19-4216-bd1f-0435da1b25e9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 00:31:07 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3ee99cdf-2b19-4216-bd1f-0435da1b25e9', 'x-amzn-bedrock-invocation-latency': '1280', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ead4beb8976eedc40a4e9
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.153.157.116 - - [09/Nov/2024 00:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'af2fc646-52ba-476b-9d9f-0879ea19ca5c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 01:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'af2fc646-52ba-476b-9d9f-0879ea19ca5c', 'x-amzn-bedrock-invocation-latency': '289', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672ebb21eb8976eedc40a4eb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '174647d1-19f1-44a4-8e1b-e5b2ea8f23f5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 01:30:11 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '174647d1-19f1-44a4-8e1b-e5b2ea8f23f5', 'x-amzn-bedrock-invocation-latency': '1319', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472fa60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ebb23eb8976eedc40a4ec
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.207.71 - - [09/Nov/2024 01:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ec95beb8976eedc40a4ee
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '154957cf-b11f-4972-857c-1439636b5029', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 02:30:54 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '154957cf-b11f-4972-857c-1439636b5029', 'x-amzn-bedrock-invocation-latency': '1355', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472da20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ec95eeb8976eedc40a4ef
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.207.71 - - [09/Nov/2024 02:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ed772eb8976eedc40a4f1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b83b3a5f-9e51-47b6-a65b-22b1c668a6b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 03:31:00 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'b83b3a5f-9e51-47b6-a65b-22b1c668a6b6', 'x-amzn-bedrock-invocation-latency': '1260', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ed774eb8976eedc40a4f2
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.91.231.51 - - [09/Nov/2024 03:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ee5a4eb8976eedc40a4f4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13fe29ef-2113-44cd-b263-f45038f9cd09', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 04:31:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '13fe29ef-2113-44cd-b263-f45038f9cd09', 'x-amzn-bedrock-invocation-latency': '1281', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472eec0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ee5a7eb8976eedc40a4f5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.91.231.51 - - [09/Nov/2024 04:31:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b1756569-fe4f-40bf-986f-9df099bba547', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 05:30:12 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b1756569-fe4f-40bf-986f-9df099bba547', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f36a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672ef364eb8976eedc40a4f7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2bddb9bb-c3fc-4da3-b0f1-3603561c87df', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 05:30:15 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '2bddb9bb-c3fc-4da3-b0f1-3603561c87df', 'x-amzn-bedrock-invocation-latency': '1198', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d3c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ef367eb8976eedc40a4f8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.143.69 - - [09/Nov/2024 05:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f0194eb8976eedc40a4fa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9878fe0f-5f30-424a-997a-05035f287b74', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 06:30:46 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '9878fe0f-5f30-424a-997a-05035f287b74', 'x-amzn-bedrock-invocation-latency': '1261', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f1c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f0196eb8976eedc40a4fb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.147.113.32 - - [09/Nov/2024 06:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.29 - - [09/Nov/2024 06:41:25] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e7bd116c-f1e6-4a74-8995-feea12135639', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 07:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e7bd116c-f1e6-4a74-8995-feea12135639', 'x-amzn-bedrock-invocation-latency': '301', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672f0f8aeb8976eedc40a4fd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2cd72c81-fb93-4a35-9b38-e1afc23913cc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 07:30:20 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '2cd72c81-fb93-4a35-9b38-e1afc23913cc', 'x-amzn-bedrock-invocation-latency': '1208', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a290>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f0f8ceb8976eedc40a4fe
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.56.109 - - [09/Nov/2024 07:30:20] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [09/Nov/2024 07:53:25] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [09/Nov/2024 07:53:25] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f1db1eb8976eedc40a500
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ccd4c54b-7226-4569-9d5d-f2ee9c7fddb0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 08:30:44 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ccd4c54b-7226-4569-9d5d-f2ee9c7fddb0', 'x-amzn-bedrock-invocation-latency': '1394', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ece0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f1db4eb8976eedc40a501
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.230.118.130 - - [09/Nov/2024 08:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f2be1eb8976eedc40a503
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c52eb7cc-7d4e-49b5-bcb8-887232bedb1b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 09:31:16 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'c52eb7cc-7d4e-49b5-bcb8-887232bedb1b', 'x-amzn-bedrock-invocation-latency': '1241', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cd60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f2be4eb8976eedc40a504
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.147.113.32 - - [09/Nov/2024 09:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.227.93.5 - - [09/Nov/2024 09:57:36] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ee861d62-47b1-4ffa-9313-bf5ba03c8d2c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 10:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ee861d62-47b1-4ffa-9313-bf5ba03c8d2c', 'x-amzn-bedrock-invocation-latency': '319', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cd60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672f39b2eb8976eedc40a506
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd9c12a67-4b99-42e0-979f-17976067e4b9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 10:30:12 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'd9c12a67-4b99-42e0-979f-17976067e4b9', 'x-amzn-bedrock-invocation-latency': '1315', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228af0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f39b4eb8976eedc40a507
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.186.40 - - [09/Nov/2024 10:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:161.35.210.170 - - [09/Nov/2024 11:15:44] "[33mGET / HTTP/1.0[0m" 404 -
ERROR:werkzeug:64.227.127.20 - - [09/Nov/2024 11:15:45] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:64.227.127.20 - - [09/Nov/2024 11:15:45] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03\x0fZ¾ß$`×\x0b$S:Ôóé\x9a\x18z\x1bpEVXõSý\x90*\x7f\x00\x06\x8cY e\x11¹§WçQî\x15¸ø\x9d)8\x9e=·OÑ%¹\x83 \x8aGïk\x83`¢$\x95\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" 400 -
INFO:werkzeug:167.172.105.166 - - [09/Nov/2024 11:15:45] "[33mGET /v2/_catalog HTTP/1.1[0m" 404 -
INFO:werkzeug:64.227.127.20 - - [09/Nov/2024 11:15:45] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:138.68.88.124 - - [09/Nov/2024 11:15:45] "[33mGET /cgi-bin/authLogin.cgi HTTP/1.1[0m" 404 -
INFO:werkzeug:138.68.85.55 - - [09/Nov/2024 11:15:45] "[33mGET /solr/admin/info/system HTTP/1.1[0m" 404 -
ERROR:werkzeug:167.172.103.155 - - [09/Nov/2024 11:15:45] code 400, message Bad request version ("\x88¸~\x00\x05¶ù,\x03#c\x08Ã[\x8b\x8deÛ\x1a\x90iø¸A\x175=\x7f\x13\x89Ôæ\x00>\x13\x02\x13\x03\x13\x01À,À0\x00\x9fÌ©Ì¨ÌªÀ+À/\x00\x9eÀ$À(\x00kÀ#À'\x00gÀ")
INFO:werkzeug:167.172.103.155 - - [09/Nov/2024 11:15:45] "[31m[1m\x16\x03\x01\x01$\x01\x00\x01 \x03\x03¦\x7f|x)\x1a\x9fohØÑxõ\x17cª\x99òÆHBö\x06)n\x17\x12\x00\x16Ü\x08_ \x88¸~\x00\x05¶ù,\x03#c\x08Ã[\x8b\x8deÛ\x1a\x90iø¸A\x175=\x7f\x13\x89Ôæ\x00>\x13\x02\x13\x03\x13\x01À,À0\x00\x9fÌ©Ì¨ÌªÀ+À/\x00\x9eÀ$À(\x00kÀ#À'\x00gÀ[0m" 400 -
INFO:werkzeug:139.59.145.26 - - [09/Nov/2024 11:15:45] "[33mGET /query?q=SHOW+DIAGNOSTICS HTTP/1.1[0m" 404 -
ERROR:werkzeug:64.227.127.20 - - [09/Nov/2024 11:15:45] code 400, message Bad request syntax ('\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03zVÿ³í\x14')
INFO:werkzeug:64.227.127.20 - - [09/Nov/2024 11:15:45] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03zVÿ³í\x14[0m" 400 -
INFO:werkzeug:138.68.85.55 - - [09/Nov/2024 11:15:45] "[33mGET /solr/admin/cores?action=STATUS&wt=json HTTP/1.1[0m" 404 -
ERROR:werkzeug:64.227.127.20 - - [09/Nov/2024 11:15:45] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:64.227.127.20 - - [09/Nov/2024 11:15:45] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03\x9bÅ\x0bÓóU÷a½\x98>µ3\x9d¹D{Ã-\x06\x7fõXaÇc\x16h{ºy% Å\x05\x87ðJ¬LBáê\x84P+}\x18¡YÐ&Ç7Ê:\x80ùê\x0dýËµR\x10\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" 400 -
INFO:werkzeug:52.76.71.100 - - [09/Nov/2024 11:15:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f47d9eb8976eedc40a509
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '27afae3d-1b94-47d1-bc88-573e6937bbca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 11:30:35 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '27afae3d-1b94-47d1-bc88-573e6937bbca', 'x-amzn-bedrock-invocation-latency': '1427', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e890>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f47dbeb8976eedc40a50a
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.200.237.87 - - [09/Nov/2024 11:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f55f5eb8976eedc40a50c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '55b0593e-0fde-43bc-9e0a-a857a3d51039', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 12:30:48 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '55b0593e-0fde-43bc-9e0a-a857a3d51039', 'x-amzn-bedrock-invocation-latency': '1234', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cb80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f55f8eb8976eedc40a50d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.56.67 - - [09/Nov/2024 12:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f640beb8976eedc40a50f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7940deb6-9a94-4662-b878-17a114515541', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 13:30:54 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '7940deb6-9a94-4662-b878-17a114515541', 'x-amzn-bedrock-invocation-latency': '1265', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f640eeb8976eedc40a510
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.165.72 - - [09/Nov/2024 13:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '883dc6e9-fdbb-4c78-936f-54679d1f8e9e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 14:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '883dc6e9-fdbb-4c78-936f-54679d1f8e9e', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f0d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672f71feeb8976eedc40a512
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ee08b6ab-1641-4f1f-a939-06ef7cdef9dc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 14:30:24 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'ee08b6ab-1641-4f1f-a939-06ef7cdef9dc', 'x-amzn-bedrock-invocation-latency': '1246', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f7200eb8976eedc40a513
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.249.255 - - [09/Nov/2024 14:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f802deb8976eedc40a515
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '97380f2f-91df-471c-974a-3dc735622c31', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 15:30:56 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '97380f2f-91df-471c-974a-3dc735622c31', 'x-amzn-bedrock-invocation-latency': '1358', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472df60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f8030eb8976eedc40a516
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.201.190 - - [09/Nov/2024 15:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13e96e39-75ef-4d81-ab5d-e32d08d4448e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 16:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '13e96e39-75ef-4d81-ab5d-e32d08d4448e', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e050>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672f8e0feb8976eedc40a518
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db449234-52df-4fef-bfc9-57961dd36a72', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 16:30:09 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'db449234-52df-4fef-bfc9-57961dd36a72', 'x-amzn-bedrock-invocation-latency': '1317', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a080>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f8e11eb8976eedc40a519
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.160.203 - - [09/Nov/2024 16:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672f9c2beb8976eedc40a51b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'caaab762-b8a8-4aaa-873d-948337c79003', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 17:30:22 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'caaab762-b8a8-4aaa-873d-948337c79003', 'x-amzn-bedrock-invocation-latency': '1391', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a950>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672f9c2eeb8976eedc40a51c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.227.188 - - [09/Nov/2024 17:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672faa46eb8976eedc40a51e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4b671703-efe2-4d1c-ada4-9a8aff8b204f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 18:30:33 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '4b671703-efe2-4d1c-ada4-9a8aff8b204f', 'x-amzn-bedrock-invocation-latency': '1368', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672faa49eb8976eedc40a51f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.42.58 - - [09/Nov/2024 18:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672fb85beb8976eedc40a521
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '44dc077f-8299-4750-8a72-a03ea77fab49', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 19:30:38 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '44dc077f-8299-4750-8a72-a03ea77fab49', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e2f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672fb85eeb8976eedc40a522
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.48.89 - - [09/Nov/2024 19:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672fc674eb8976eedc40a524
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7c405ce5-6958-40bc-8ddd-0e0468846aba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 20:30:47 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '7c405ce5-6958-40bc-8ddd-0e0468846aba', 'x-amzn-bedrock-invocation-latency': '1282', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42285b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672fc677eb8976eedc40a525
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.160.203 - - [09/Nov/2024 20:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:152.32.252.211 - - [09/Nov/2024 20:35:39] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672fd48beb8976eedc40a527
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '467044e2-82ad-4a8a-b6ff-215ff79a99c1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 21:30:54 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '467044e2-82ad-4a8a-b6ff-215ff79a99c1', 'x-amzn-bedrock-invocation-latency': '1337', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a920>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672fd48eeb8976eedc40a528
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.183.211 - - [09/Nov/2024 21:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '863eaf16-1459-460b-9013-e291438d3084', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 22:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '863eaf16-1459-460b-9013-e291438d3084', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672fe277eb8976eedc40a52a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0cc4eae8-0300-4ed1-9df6-107d4588d9f6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 22:30:17 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '0cc4eae8-0300-4ed1-9df6-107d4588d9f6', 'x-amzn-bedrock-invocation-latency': '1320', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47856c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672fe279eb8976eedc40a52b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.233.234 - - [09/Nov/2024 22:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ff093eb8976eedc40a52d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed0f317d-6291-4585-a92d-062967d67af5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 09 Nov 2024 23:30:30 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed0f317d-6291-4585-a92d-062967d67af5', 'x-amzn-bedrock-invocation-latency': '1384', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ff096eb8976eedc40a52e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.132.31 - - [09/Nov/2024 23:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ffec1eb8976eedc40a530
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5d79e1d3-11f4-4927-8cbf-3c9db0dddbf9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 00:31:00 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '5d79e1d3-11f4-4927-8cbf-3c9db0dddbf9', 'x-amzn-bedrock-invocation-latency': '1361', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422beb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ffec4eb8976eedc40a531
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.84.117.130 - - [10/Nov/2024 00:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c8cb6eb8-2887-4ac2-9ddf-b82f739f2380', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 01:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c8cb6eb8-2887-4ac2-9ddf-b82f739f2380', 'x-amzn-bedrock-invocation-latency': '324', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422bdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67300ca3eb8976eedc40a533
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c1fec23b-4927-4470-82c0-fe604a0fee61', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 01:30:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c1fec23b-4927-4470-82c0-fe604a0fee61', 'x-amzn-bedrock-invocation-latency': '1335', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67300ca5eb8976eedc40a534
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.24.20.68 - - [10/Nov/2024 01:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67301ac9eb8976eedc40a536
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9eb32ca0-2bd9-48b7-874c-9f414f3ffd7d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 02:30:36 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '9eb32ca0-2bd9-48b7-874c-9f414f3ffd7d', 'x-amzn-bedrock-invocation-latency': '1336', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47851b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67301acceb8976eedc40a537
INFO:__main__:Process completed successfully.
INFO:werkzeug:67.202.37.50 - - [10/Nov/2024 02:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.234 - - [10/Nov/2024 03:09:27] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673028e6eb8976eedc40a539
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '040ff836-834b-430a-923d-29cdc02da238', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 03:30:49 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '040ff836-834b-430a-923d-29cdc02da238', 'x-amzn-bedrock-invocation-latency': '1224', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c4c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673028e9eb8976eedc40a53a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.50.195 - - [10/Nov/2024 03:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67303712eb8976eedc40a53c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '88ee0703-f581-437b-b537-e191094d9976', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 04:31:16 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '88ee0703-f581-437b-b537-e191094d9976', 'x-amzn-bedrock-invocation-latency': '1250', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67303714eb8976eedc40a53d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.97.183 - - [10/Nov/2024 04:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '329a26ca-f7bc-4b3c-849b-1fbaa28b7e28', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 05:30:46 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '329a26ca-f7bc-4b3c-849b-1fbaa28b7e28', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f0a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67304506eb8976eedc40a53f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fb8816ef-8df9-4058-b885-85a5373b023f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 05:30:49 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'fb8816ef-8df9-4058-b885-85a5373b023f', 'x-amzn-bedrock-invocation-latency': '1228', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784ac0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67304509eb8976eedc40a540
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.108.24 - - [10/Nov/2024 05:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67305332eb8976eedc40a542
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0ba05f07-0b88-4569-9cc4-06ad59ee4e95', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 06:31:17 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0ba05f07-0b88-4569-9cc4-06ad59ee4e95', 'x-amzn-bedrock-invocation-latency': '1234', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785a50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67305335eb8976eedc40a543
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.173.5 - - [10/Nov/2024 06:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '884ca695-9ea5-4cd9-94ec-df42dbe59854', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 07:30:38 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '884ca695-9ea5-4cd9-94ec-df42dbe59854', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6730611eeb8976eedc40a545
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eeeeedd3-5de9-43ed-9526-e28b340cbb60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 07:30:40 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'eeeeedd3-5de9-43ed-9526-e28b340cbb60', 'x-amzn-bedrock-invocation-latency': '1320', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42294e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67306120eb8976eedc40a546
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.196.214.137 - - [10/Nov/2024 07:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '523eae06-856f-4b9b-b226-b55e5629c9d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 08:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '523eae06-856f-4b9b-b226-b55e5629c9d8', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422aad0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67306f28eb8976eedc40a548
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0c550488-19e8-4eaf-8970-ecf7e03f9bb1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 08:30:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0c550488-19e8-4eaf-8970-ecf7e03f9bb1', 'x-amzn-bedrock-invocation-latency': '1207', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67306f2beb8976eedc40a549
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.226.142.159 - - [10/Nov/2024 08:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67307d70eb8976eedc40a54b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f4931f88-b40b-430e-8437-218a527266fb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 09:31:30 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'f4931f88-b40b-430e-8437-218a527266fb', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67307d72eb8976eedc40a54c
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.84.44.58 - - [10/Nov/2024 09:31:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '956f5da8-1bee-4194-a70d-1f1a66256521', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 10:31:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '956f5da8-1bee-4194-a70d-1f1a66256521', 'x-amzn-bedrock-invocation-latency': '351', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d520a530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67308b6beb8976eedc40a54e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fae89750-f720-4f72-a70f-87f8ccb242ff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 10:31:09 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'fae89750-f720-4f72-a70f-87f8ccb242ff', 'x-amzn-bedrock-invocation-latency': '1312', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47849a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67308b6deb8976eedc40a54f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.39.101 - - [10/Nov/2024 10:31:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6730998eeb8976eedc40a551
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f1abdafd-9eaa-449d-af18-3ef1aa699f53', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 11:31:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'f1abdafd-9eaa-449d-af18-3ef1aa699f53', 'x-amzn-bedrock-invocation-latency': '1251', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67309991eb8976eedc40a552
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.39.101 - - [10/Nov/2024 11:31:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8896b02d-bc6b-436f-b8c0-30179b357dd5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 12:31:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8896b02d-bc6b-436f-b8c0-30179b357dd5', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6730a79eeb8976eedc40a554
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0aa51ce7-ab1e-4781-99c4-f839b95dc496', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 12:31:28 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '0aa51ce7-ab1e-4781-99c4-f839b95dc496', 'x-amzn-bedrock-invocation-latency': '1323', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f21a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6730a7a0eb8976eedc40a555
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.122.153 - - [10/Nov/2024 12:31:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fb1e0236-5323-4f18-8c74-59dd45ee648a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 13:31:00 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fb1e0236-5323-4f18-8c74-59dd45ee648a', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229420>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6730b594eb8976eedc40a557
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '506d42fc-2d06-4ce6-a36f-f2004ec57c69', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 13:31:03 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '506d42fc-2d06-4ce6-a36f-f2004ec57c69', 'x-amzn-bedrock-invocation-latency': '1222', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f11b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6730b597eb8976eedc40a558
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.92.110 - - [10/Nov/2024 13:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '35f8a15f-c20a-429d-9799-6017807b286c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 14:30:50 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '35f8a15f-c20a-429d-9799-6017807b286c', 'x-amzn-bedrock-invocation-latency': '326', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6730c39aeb8976eedc40a55a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3005f808-f08b-4548-a165-d58660601366', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 14:30:52 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '3005f808-f08b-4548-a165-d58660601366', 'x-amzn-bedrock-invocation-latency': '1317', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6730c39ceb8976eedc40a55b
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.192.37.108 - - [10/Nov/2024 14:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f1b1ace8-a4d1-4376-aca7-ce0bfcbfe771', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 15:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f1b1ace8-a4d1-4376-aca7-ce0bfcbfe771', 'x-amzn-bedrock-invocation-latency': '313', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6730d191eb8976eedc40a55d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c55511c7-6259-4df3-8554-18253ca4e728', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 15:30:28 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c55511c7-6259-4df3-8554-18253ca4e728', 'x-amzn-bedrock-invocation-latency': '1305', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47219f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6730d194eb8976eedc40a55e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.204.206.159 - - [10/Nov/2024 15:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6730dfaaeb8976eedc40a560
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'af10aaea-dc5b-41fd-81f8-7af9afc37fff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 16:30:37 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'af10aaea-dc5b-41fd-81f8-7af9afc37fff', 'x-amzn-bedrock-invocation-latency': '1374', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d520a0b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6730dfadeb8976eedc40a561
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.233.183 - - [10/Nov/2024 16:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6730edc4eb8976eedc40a563
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8a28b646-ccdc-4895-b31e-1f7298171a6e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 17:30:47 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '8a28b646-ccdc-4895-b31e-1f7298171a6e', 'x-amzn-bedrock-invocation-latency': '1380', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721690>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6730edc7eb8976eedc40a564
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.233.183 - - [10/Nov/2024 17:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6730fcc2eb8976eedc40a566
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c1a34c73-243c-487a-910e-5abaac7e620c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 18:34:44 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'c1a34c73-243c-487a-910e-5abaac7e620c', 'x-amzn-bedrock-invocation-latency': '1249', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722e30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6730fcc4eb8976eedc40a567
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.233.183 - - [10/Nov/2024 18:34:44] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.150 - - [10/Nov/2024 18:56:35] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2bd438f0-374e-4b18-8f48-fd71b6579577', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 19:31:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2bd438f0-374e-4b18-8f48-fd71b6579577', 'x-amzn-bedrock-invocation-latency': '382', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51ccb80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673109feeb8976eedc40a569
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2993221d-98ae-4fd9-b922-2fd324a7010e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 19:31:12 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '2993221d-98ae-4fd9-b922-2fd324a7010e', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47208b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67310a00eb8976eedc40a56a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.200.181 - - [10/Nov/2024 19:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '38023cb6-334d-4a7f-a7f9-b38f7f31f3cf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 20:31:01 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '38023cb6-334d-4a7f-a7f9-b38f7f31f3cf', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229150>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67311805eb8976eedc40a56c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cd8fbc4f-ad3d-4edd-b520-55976154a87e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 20:31:04 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'cd8fbc4f-ad3d-4edd-b520-55976154a87e', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67311808eb8976eedc40a56d
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.49.96 - - [10/Nov/2024 20:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '61faa2fb-429f-406c-b194-6fc5fbe7c159', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 21:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '61faa2fb-429f-406c-b194-6fc5fbe7c159', 'x-amzn-bedrock-invocation-latency': '285', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673125ebeb8976eedc40a56f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b3e5aab3-0feb-4d45-97cf-2c336a863a81', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 21:30:21 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'b3e5aab3-0feb-4d45-97cf-2c336a863a81', 'x-amzn-bedrock-invocation-latency': '1326', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673125edeb8976eedc40a570
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.198.93 - - [10/Nov/2024 21:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.198 - - [10/Nov/2024 22:21:44] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6731342ceb8976eedc40a572
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b1dfcde6-4844-49da-aaab-ba87bef3426a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 22:31:11 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'b1dfcde6-4844-49da-aaab-ba87bef3426a', 'x-amzn-bedrock-invocation-latency': '1292', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731342feb8976eedc40a573
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.219.35.134 - - [10/Nov/2024 22:31:11] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:134.209.16.212 - - [10/Nov/2024 22:31:19] code 400, message Bad request version ('À\x14À')
INFO:werkzeug:134.209.16.212 - - [10/Nov/2024 22:31:19] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x0bØ2\x146~\x8bÑ\x06>\x9a·MÅâ<\x10\x87i®s\x04]Rm\x98Q¢\x8f\x90M¾\x00\x00\x1aÀ/À+À\x11À\x07À\x13À\x09À\x14À[0m" 400 -
ERROR:werkzeug:134.209.16.212 - - [10/Nov/2024 22:31:19] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03É\x14{7\x19dó6UqM°µkâ!\x81d-$W\x05\x89Û³-³5\x89$¤[\x00\x00\x1aÀ/À+À\x11À\x07À\x13À')
INFO:werkzeug:134.209.16.212 - - [10/Nov/2024 22:31:19] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03É\x14{7\x19dó6UqM°µkâ!\x81d-$W\x05\x89Û³-³5\x89$¤[\x00\x00\x1aÀ/À+À\x11À\x07À\x13À\x09À\x14À[0m" 400 -
INFO:werkzeug:134.209.16.212 - - [10/Nov/2024 22:31:20] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:198.235.24.23 - - [10/Nov/2024 22:57:35] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a30d1dc-0aa6-47f8-a1ff-9faa695efb3d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 23:30:28 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3a30d1dc-0aa6-47f8-a1ff-9faa695efb3d', 'x-amzn-bedrock-invocation-latency': '336', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67314214eb8976eedc40a575
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3039dc98-ea11-46fc-aef8-7f1558216228', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 10 Nov 2024 23:30:31 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3039dc98-ea11-46fc-aef8-7f1558216228', 'x-amzn-bedrock-invocation-latency': '1218', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722bc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67314217eb8976eedc40a576
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.159.108 - - [10/Nov/2024 23:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6731502aeb8976eedc40a578
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '78358ee3-63cb-4253-b189-ef967e6313e5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 00:30:36 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '78358ee3-63cb-4253-b189-ef967e6313e5', 'x-amzn-bedrock-invocation-latency': '1233', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731502ceb8976eedc40a579
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.163.83.104 - - [11/Nov/2024 00:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67315e60eb8976eedc40a57b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f9783a0e-29ee-4b8c-b2f4-b931dde005f7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 01:31:15 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'f9783a0e-29ee-4b8c-b2f4-b931dde005f7', 'x-amzn-bedrock-invocation-latency': '1376', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721420>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67315e63eb8976eedc40a57c
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.251.202 - - [11/Nov/2024 01:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:80.82.77.139 - - [11/Nov/2024 01:58:57] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:80.82.77.139 - - [11/Nov/2024 01:58:58] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67316c76eb8976eedc40a57e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6d9f5136-e601-41db-9288-3b4f62e4a52a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 02:31:21 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '6d9f5136-e601-41db-9288-3b4f62e4a52a', 'x-amzn-bedrock-invocation-latency': '1374', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723430>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67316c79eb8976eedc40a57f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.134.217 - - [11/Nov/2024 02:31:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fc7e4ed5-eeff-4c4f-b745-1b5cede85d73', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 03:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fc7e4ed5-eeff-4c4f-b745-1b5cede85d73', 'x-amzn-bedrock-invocation-latency': '329', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67317a3deb8976eedc40a581
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '32126356-8922-4218-852e-4367c068fd0d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 03:30:08 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '32126356-8922-4218-852e-4367c068fd0d', 'x-amzn-bedrock-invocation-latency': '1318', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67317a40eb8976eedc40a582
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.210.205.45 - - [11/Nov/2024 03:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67318894eb8976eedc40a584
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '99834845-ed3b-494e-bc81-18c557b0c257', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 04:31:18 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '99834845-ed3b-494e-bc81-18c557b0c257', 'x-amzn-bedrock-invocation-latency': '1358', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47234c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67318896eb8976eedc40a585
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.208.92.215 - - [11/Nov/2024 04:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ccdf4927-592e-486b-9608-a68ddc56f8ea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 05:31:04 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ccdf4927-592e-486b-9608-a68ddc56f8ea', 'x-amzn-bedrock-invocation-latency': '311', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42290f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67319698eb8976eedc40a587
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41c27a21-702e-471b-b2df-947edd4bcbde', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 05:31:07 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '41c27a21-702e-471b-b2df-947edd4bcbde', 'x-amzn-bedrock-invocation-latency': '1205', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47237f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731969beb8976eedc40a588
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.206.182.185 - - [11/Nov/2024 05:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '25629da6-868a-42dc-ab64-bdff1b859410', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 06:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '25629da6-868a-42dc-ab64-bdff1b859410', 'x-amzn-bedrock-invocation-latency': '301', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42295a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6731a486eb8976eedc40a58a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e941c24a-16d8-458c-b90c-aa05705b1c57', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 06:30:33 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'e941c24a-16d8-458c-b90c-aa05705b1c57', 'x-amzn-bedrock-invocation-latency': '1193', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722740>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731a489eb8976eedc40a58b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.43.81 - - [11/Nov/2024 06:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd1081b32-578e-4a8a-af41-0835b9df506e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 07:30:28 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd1081b32-578e-4a8a-af41-0835b9df506e', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722e60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6731b294eb8976eedc40a58d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8dbea6e0-2ae4-4a8e-a54e-7ba84a74913b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 07:30:30 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '8dbea6e0-2ae4-4a8e-a54e-7ba84a74913b', 'x-amzn-bedrock-invocation-latency': '1199', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d240>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731b296eb8976eedc40a58e
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.206.71.9 - - [11/Nov/2024 07:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5e203162-7199-40a4-a92e-bfa769332432', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 08:30:29 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '5e203162-7199-40a4-a92e-bfa769332432', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422bf10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":238,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6731c0a5eb8976eedc40a590
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '57ec71a4-11fa-4247-a056-94a0da631a68', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 08:30:32 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '57ec71a4-11fa-4247-a056-94a0da631a68', 'x-amzn-bedrock-invocation-latency': '1211', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47239a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731c0a8eb8976eedc40a591
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.211.212.159 - - [11/Nov/2024 08:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'da042d5b-5b09-4e52-8f60-977d9051d56d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 09:30:28 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'da042d5b-5b09-4e52-8f60-977d9051d56d', 'x-amzn-bedrock-invocation-latency': '314', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a980>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6731ceb4eb8976eedc40a593
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd93303de-ff6a-46b7-a479-eabafaa74c0b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 09:30:31 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'd93303de-ff6a-46b7-a479-eabafaa74c0b', 'x-amzn-bedrock-invocation-latency': '1194', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47220b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731ceb7eb8976eedc40a594
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.135.175 - - [11/Nov/2024 09:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c7a4c4d5-6106-474d-a82e-d40887111a8a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 10:30:24 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'c7a4c4d5-6106-474d-a82e-d40887111a8a', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6731dcc0eb8976eedc40a596
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f12cfbde-5b5d-41f1-9794-44c12b83dd1f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 10:30:26 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'f12cfbde-5b5d-41f1-9794-44c12b83dd1f', 'x-amzn-bedrock-invocation-latency': '1201', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731dcc2eb8976eedc40a597
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.114.206 - - [11/Nov/2024 10:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6731eafaeb8976eedc40a599
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '836c437d-e80b-4206-bc71-3d019ab7bb52', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 11:31:12 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '836c437d-e80b-4206-bc71-3d019ab7bb52', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731eb00eb8976eedc40a59a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.214.157 - - [11/Nov/2024 11:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '791c6ea2-6a03-4f77-900e-39a87ce04b6e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 12:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '791c6ea2-6a03-4f77-900e-39a87ce04b6e', 'x-amzn-bedrock-invocation-latency': '322', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721f60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6731f8efeb8976eedc40a59c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ccf8086c-f7ce-489e-9d13-02802790807f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 12:30:42 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ccf8086c-f7ce-489e-9d13-02802790807f', 'x-amzn-bedrock-invocation-latency': '1317', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6731f8f2eb8976eedc40a59d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.59.19 - - [11/Nov/2024 12:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67320711eb8976eedc40a59f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1430dbf7-a653-4fa5-befa-db167c035b8e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 13:30:59 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '1430dbf7-a653-4fa5-befa-db167c035b8e', 'x-amzn-bedrock-invocation-latency': '1227', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67320713eb8976eedc40a5a0
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.156.25 - - [11/Nov/2024 13:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1aadd1e2-2c7e-408b-b9fd-62e00122950f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 14:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1aadd1e2-2c7e-408b-b9fd-62e00122950f', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67321513eb8976eedc40a5a2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9eac0d0a-648b-457c-916b-1427971d0611', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 14:30:45 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '9eac0d0a-648b-457c-916b-1427971d0611', 'x-amzn-bedrock-invocation-latency': '1215', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d840>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67321515eb8976eedc40a5a3
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.45.63 - - [11/Nov/2024 14:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:172.169.207.117 - - [11/Nov/2024 14:37:30] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6732234aeb8976eedc40a5a5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e80de8ce-085c-456d-bf86-e88701223abe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 15:31:25 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'e80de8ce-085c-456d-bf86-e88701223abe', 'x-amzn-bedrock-invocation-latency': '1371', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e590>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732234deb8976eedc40a5a6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.184.53 - - [11/Nov/2024 15:31:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '27ec8faf-cbbe-4758-9121-b88996253574', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 16:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '27ec8faf-cbbe-4758-9121-b88996253574', 'x-amzn-bedrock-invocation-latency': '308', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721510>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6732311ceb8976eedc40a5a8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '514ae5e6-630f-4717-9dd8-efc06d6a0a17', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 16:30:23 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '514ae5e6-630f-4717-9dd8-efc06d6a0a17', 'x-amzn-bedrock-invocation-latency': '1218', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3be0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732311feb8976eedc40a5a9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.94.187.117 - - [11/Nov/2024 16:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aab34bc4-074b-45cc-9647-ac1b23df51c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 17:30:21 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'aab34bc4-074b-45cc-9647-ac1b23df51c6', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720f70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":238,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67323f2deb8976eedc40a5ab
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c07fdd0a-397d-4eec-93d4-6416b8c9e20f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 17:30:24 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'c07fdd0a-397d-4eec-93d4-6416b8c9e20f', 'x-amzn-bedrock-invocation-latency': '1223', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e9e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67323f30eb8976eedc40a5ac
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.197.237 - - [11/Nov/2024 17:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67324dc1eb8976eedc40a5ae
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '293c3130-7fac-4b71-86e5-0a7dcf34966d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 18:32:36 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '293c3130-7fac-4b71-86e5-0a7dcf34966d', 'x-amzn-bedrock-invocation-latency': '1361', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67324dc4eb8976eedc40a5af
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.207.165.78 - - [11/Nov/2024 18:32:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a43a0c73-24a7-4345-8f5c-cf7f86e63444', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 19:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a43a0c73-24a7-4345-8f5c-cf7f86e63444', 'x-amzn-bedrock-invocation-latency': '308', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721b70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67325b5beb8976eedc40a5b1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0ca4c5cd-c752-4a73-9c4b-ec1df4db4f12', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 19:30:37 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0ca4c5cd-c752-4a73-9c4b-ec1df4db4f12', 'x-amzn-bedrock-invocation-latency': '1219', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d420>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67325b5deb8976eedc40a5b2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.207.232 - - [11/Nov/2024 19:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67326976eb8976eedc40a5b4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4b8f49ca-ec98-4ebd-98d8-bd0173ef40fc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 20:30:49 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '4b8f49ca-ec98-4ebd-98d8-bd0173ef40fc', 'x-amzn-bedrock-invocation-latency': '1354', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722aa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67326979eb8976eedc40a5b5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.204.162.87 - - [11/Nov/2024 20:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '522e85d3-2aa8-4655-99db-5558c403be33', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 21:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '522e85d3-2aa8-4655-99db-5558c403be33', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6732776feb8976eedc40a5b7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '140e8e0a-09ab-4d75-a9e8-8baa674bc055', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 21:30:26 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '140e8e0a-09ab-4d75-a9e8-8baa674bc055', 'x-amzn-bedrock-invocation-latency': '1328', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67327772eb8976eedc40a5b8
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.75.225 - - [11/Nov/2024 21:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6732858eeb8976eedc40a5ba
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '177115d9-2285-40ec-8af7-790f1219f75f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 22:30:41 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '177115d9-2285-40ec-8af7-790f1219f75f', 'x-amzn-bedrock-invocation-latency': '1393', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67328591eb8976eedc40a5bb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.174.90.136 - - [11/Nov/2024 22:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:52.160.67.129 - - [11/Nov/2024 23:22:51] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b93cde9-0df3-484b-8749-7986814c2c06', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 23:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1b93cde9-0df3-484b-8749-7986814c2c06', 'x-amzn-bedrock-invocation-latency': '353', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51ccd00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67329399eb8976eedc40a5bd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6b92e472-e6cb-4010-bb3d-045c7136288f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 11 Nov 2024 23:30:35 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '6b92e472-e6cb-4010-bb3d-045c7136288f', 'x-amzn-bedrock-invocation-latency': '1328', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ceb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732939beb8976eedc40a5be
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.133.34 - - [11/Nov/2024 23:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6732a1cbeb8976eedc40a5c0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6df93868-f628-4a58-a4fe-162aaaec9d1a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 00:31:10 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '6df93868-f628-4a58-a4fe-162aaaec9d1a', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732a1ceeb8976eedc40a5c1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.4.139 - - [12/Nov/2024 00:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '932bc2a0-7e21-4344-b637-3e20c26b8890', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 01:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '932bc2a0-7e21-4344-b637-3e20c26b8890', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721de0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6732afaceb8976eedc40a5c3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e34fd9b-bc46-46a9-9348-521e6040d10c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 01:30:23 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '1e34fd9b-bc46-46a9-9348-521e6040d10c', 'x-amzn-bedrock-invocation-latency': '1223', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f4c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732afafeb8976eedc40a5c4
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.60.143 - - [12/Nov/2024 01:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6732bdedeb8976eedc40a5c6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e87f402b-0ba6-4acd-bf38-1cdc830c7666', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 02:31:11 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'e87f402b-0ba6-4acd-bf38-1cdc830c7666', 'x-amzn-bedrock-invocation-latency': '1290', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e1d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732bdefeb8976eedc40a5c7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.151.107 - - [12/Nov/2024 02:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '070eefd3-a581-4f09-b478-ca0b27e929fd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 03:30:51 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '070eefd3-a581-4f09-b478-ca0b27e929fd', 'x-amzn-bedrock-invocation-latency': '296', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6732cbebeb8976eedc40a5c9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b78ecd51-347f-42e7-abde-92d869e9daae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 03:30:53 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'b78ecd51-347f-42e7-abde-92d869e9daae', 'x-amzn-bedrock-invocation-latency': '1299', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732cbedeb8976eedc40a5ca
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.232.133.196 - - [12/Nov/2024 03:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:34.38.48.249 - - [12/Nov/2024 04:03:40] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '14d9d3a0-1f64-4cb2-90e0-de4019dd3d79', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 04:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '14d9d3a0-1f64-4cb2-90e0-de4019dd3d79', 'x-amzn-bedrock-invocation-latency': '359', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229420>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6732d9d8eb8976eedc40a5cc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8ac873d5-44c8-49f4-ae18-7f71b048eb1e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 04:30:19 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '8ac873d5-44c8-49f4-ae18-7f71b048eb1e', 'x-amzn-bedrock-invocation-latency': '1311', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732d9dbeb8976eedc40a5cd
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.172.247.172 - - [12/Nov/2024 04:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6732e80aeb8976eedc40a5cf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fe19d89c-e5e0-40e3-be4c-f515aba1a731', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 05:30:53 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'fe19d89c-e5e0-40e3-be4c-f515aba1a731', 'x-amzn-bedrock-invocation-latency': '1251', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c8b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732e80deb8976eedc40a5d0
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.173.219.106 - - [12/Nov/2024 05:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6732f62feb8976eedc40a5d2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b1fa37c9-d82a-4e95-9529-1832ba9559da', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 06:31:14 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'b1fa37c9-d82a-4e95-9529-1832ba9559da', 'x-amzn-bedrock-invocation-latency': '1343', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472df60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6732f632eb8976eedc40a5d3
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.172.247.172 - - [12/Nov/2024 06:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd234a402-cf4c-454e-97fe-de1216ee6390', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 07:30:24 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd234a402-cf4c-454e-97fe-de1216ee6390', 'x-amzn-bedrock-invocation-latency': '282', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472caf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67330410eb8976eedc40a5d5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2eefaf93-3ebc-4022-9ec2-f4d3ba285537', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 07:30:26 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '2eefaf93-3ebc-4022-9ec2-f4d3ba285537', 'x-amzn-bedrock-invocation-latency': '1194', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47862c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67330412eb8976eedc40a5d6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.86.70 - - [12/Nov/2024 07:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '91d68297-a13c-42de-94d1-75f7b6fcdc7e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 08:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '91d68297-a13c-42de-94d1-75f7b6fcdc7e', 'x-amzn-bedrock-invocation-latency': '351', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422aaa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6733121eeb8976eedc40a5d8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3d5bf906-37ce-4516-81ed-68a383436b11', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 08:30:25 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '3d5bf906-37ce-4516-81ed-68a383436b11', 'x-amzn-bedrock-invocation-latency': '1315', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ff40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67331221eb8976eedc40a5d9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.231.222.138 - - [12/Nov/2024 08:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6cd42bdf-9381-46e8-9be5-79240656c986', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 09:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6cd42bdf-9381-46e8-9be5-79240656c986', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67332025eb8976eedc40a5db
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '48f884f0-61b9-4a0e-927e-849426530c7b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 09:30:16 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '48f884f0-61b9-4a0e-927e-849426530c7b', 'x-amzn-bedrock-invocation-latency': '1192', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67332028eb8976eedc40a5dc
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.242.84.222 - - [12/Nov/2024 09:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67332e77eb8976eedc40a5de
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '312ba694-9466-414b-802d-7285feb0ff07', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 10:31:21 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '312ba694-9466-414b-802d-7285feb0ff07', 'x-amzn-bedrock-invocation-latency': '1201', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d750>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67332e79eb8976eedc40a5df
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.8.99 - - [12/Nov/2024 10:31:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'df1eb530-1bc1-4a76-bec7-35e53d30b5ad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 11:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'df1eb530-1bc1-4a76-bec7-35e53d30b5ad', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d150>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67333c56eb8976eedc40a5e1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd66df2ab-a2e2-4a94-9b62-8ce86452d778', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 11:30:32 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'd66df2ab-a2e2-4a94-9b62-8ce86452d778', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67333c59eb8976eedc40a5e2
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.153.142.2 - - [12/Nov/2024 11:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67334a9feb8976eedc40a5e4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fe760a0c-3780-4dcb-9e3c-248661d225d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 12:31:30 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'fe760a0c-3780-4dcb-9e3c-248661d225d8', 'x-amzn-bedrock-invocation-latency': '1277', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ef20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67334aa2eb8976eedc40a5e5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.172.247.172 - - [12/Nov/2024 12:31:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'when we have to visit the gurgaon office from panchkula. do company provide travel reimbursement ', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: when we have to visit the gurgaon office from panchkula. do company provide travel reimbursement 
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67335684eb8976eedc40a5e7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '186288c0-8410-42a1-9af6-055de37beaf0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 13:22:17 GMT', 'content-type': 'application/json', 'content-length': '1683', 'connection': 'keep-alive', 'x-amzn-requestid': '186288c0-8410-42a1-9af6-055de37beaf0', 'x-amzn-bedrock-invocation-latency': '3357', 'x-amzn-bedrock-output-token-count': '395', 'x-amzn-bedrock-input-token-count': '1620'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e200>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Yes, the company provides travel reimbursement for visiting the Gurgaon office from Panchkula. According to the Domestic Travel Policy, the company reimburses transportation, accommodation, and per diem expenses for business travel. For air travel, a two-way ticket in economy/coach class is entitled, and the request must be raised on the Helpdesk at least a week prior. The reimbursement will be initiated only on the presentation of the travel log, which must be documented by the colleague on MIS who has applied for reimbursement.\",\n    \"References\": [\n        {\n            \"Statement\": \"The request must be raised on Helpdesk https://helpdesk.geminisolutions.com/ at least a week prior under the header- \\\"Domestic Travel.\\\"\",\n            \"source\": \"Domestic Travel Policy - Final.pdf - 4 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"The reimbursement will be initiated only on the presentation of the travel log which must be documented by the colleague on MIS who has applied for reimbursement.\",\n            \"source\": \"Intra Country Travel Policy 1.pdf - 9 - N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"when we have to visit the gurgaon office from panchkula. do company provide travel reimbursement \",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1620,"generation_token_count":395,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67335689eb8976eedc40a5e8
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [12/Nov/2024 13:22:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e0bfb34d-7147-428e-981a-a9b7ef80c720', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 13:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e0bfb34d-7147-428e-981a-a9b7ef80c720', 'x-amzn-bedrock-invocation-latency': '358', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472dfc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67335879eb8976eedc40a5ea
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5162af6d-66e4-4ece-b230-5efb5017eb99', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 13:30:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '5162af6d-66e4-4ece-b230-5efb5017eb99', 'x-amzn-bedrock-invocation-latency': '1196', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784d30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6733587beb8976eedc40a5eb
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.69.63 - - [12/Nov/2024 13:30:35] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [12/Nov/2024 14:13:22] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [12/Nov/2024 14:13:22] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '931d4400-8837-4562-aaa4-818c88883f88', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 14:30:08 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '931d4400-8837-4562-aaa4-818c88883f88', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cfa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67336670eb8976eedc40a5ed
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71afa6cf-c324-40dd-a36c-6aad85bddbb1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 14:30:10 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '71afa6cf-c324-40dd-a36c-6aad85bddbb1', 'x-amzn-bedrock-invocation-latency': '1307', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47861a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67336672eb8976eedc40a5ee
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.203.230.121 - - [12/Nov/2024 14:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67337493eb8976eedc40a5f0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71634214-6167-479c-8e03-6724769877cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 15:30:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '71634214-6167-479c-8e03-6724769877cb', 'x-amzn-bedrock-invocation-latency': '1300', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472efb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67337495eb8976eedc40a5f1
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.109.197 - - [12/Nov/2024 15:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673382b0eb8976eedc40a5f3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a58d12a-2d9d-4139-bbd3-065961615a8c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 16:30:43 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3a58d12a-2d9d-4139-bbd3-065961615a8c', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673382b3eb8976eedc40a5f4
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.204.69.29 - - [12/Nov/2024 16:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '972df8b0-9c89-48ff-962e-ae04435cf335', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 17:30:12 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '972df8b0-9c89-48ff-962e-ae04435cf335', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d520a740>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673390a4eb8976eedc40a5f6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3b44084-2464-4568-991c-a9d97324ea3d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 17:30:14 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3b44084-2464-4568-991c-a9d97324ea3d', 'x-amzn-bedrock-invocation-latency': '1204', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673390a6eb8976eedc40a5f7
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.206.134.39 - - [12/Nov/2024 17:30:14] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.22 - - [12/Nov/2024 18:09:26] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67339f42eb8976eedc40a5f9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '62d8505d-c5e6-4f79-b0de-a96acc9c3ea3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 18:32:37 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '62d8505d-c5e6-4f79-b0de-a96acc9c3ea3', 'x-amzn-bedrock-invocation-latency': '1369', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67339f45eb8976eedc40a5fa
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.174.190.206 - - [12/Nov/2024 18:32:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '549b4d44-8582-42a4-83ae-5cee0326e4b2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 19:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '549b4d44-8582-42a4-83ae-5cee0326e4b2', 'x-amzn-bedrock-invocation-latency': '365', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472eec0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6733acbeeb8976eedc40a5fc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64a2794a-96a3-403b-bcf0-5bc0859b5b80', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 19:30:08 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '64a2794a-96a3-403b-bcf0-5bc0859b5b80', 'x-amzn-bedrock-invocation-latency': '1222', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6733acc0eb8976eedc40a5fd
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.76.32 - - [12/Nov/2024 19:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6733bb1eeb8976eedc40a5ff
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ff7d5b9a-504f-44ed-9e48-2d998c50ec3d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 20:31:29 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ff7d5b9a-504f-44ed-9e48-2d998c50ec3d', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6733bb21eb8976eedc40a600
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.225.3.98 - - [12/Nov/2024 20:31:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9d68caad-e45c-4cf8-97c9-7e197ddec34f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 21:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9d68caad-e45c-4cf8-97c9-7e197ddec34f', 'x-amzn-bedrock-invocation-latency': '358', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6733c8eaeb8976eedc40a602
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a7c5e398-bb48-4aed-8d9c-b7086956a9f4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 21:30:21 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'a7c5e398-bb48-4aed-8d9c-b7086956a9f4', 'x-amzn-bedrock-invocation-latency': '1224', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6733c8edeb8976eedc40a603
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.227.69.163 - - [12/Nov/2024 21:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6733d704eb8976eedc40a605
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ea2d840c-ad7d-4658-ac8a-fc9e428d6fd4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 22:30:31 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ea2d840c-ad7d-4658-ac8a-fc9e428d6fd4', 'x-amzn-bedrock-invocation-latency': '1340', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785f30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6733d707eb8976eedc40a606
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.173.186.80 - - [12/Nov/2024 22:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5acc855b-8532-444c-92d6-1a92eaa1ecf4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 23:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5acc855b-8532-444c-92d6-1a92eaa1ecf4', 'x-amzn-bedrock-invocation-latency': '328', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472fcd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6733e513eb8976eedc40a608
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '17fbff06-2e74-49c4-ae99-b3536ee98556', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 12 Nov 2024 23:30:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '17fbff06-2e74-49c4-ae99-b3536ee98556', 'x-amzn-bedrock-invocation-latency': '1215', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f02b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6733e515eb8976eedc40a609
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.86.38.57 - - [12/Nov/2024 23:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6733f34aeb8976eedc40a60b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c34d647e-b30b-4c25-baf6-944d832da9b7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 00:31:08 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'c34d647e-b30b-4c25-baf6-944d832da9b7', 'x-amzn-bedrock-invocation-latency': '1244', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f07f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6733f34ceb8976eedc40a60c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.69.162 - - [13/Nov/2024 00:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b14c24f-f7fe-4981-9bd1-41c7c1f862a3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 01:31:00 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1b14c24f-f7fe-4981-9bd1-41c7c1f862a3', 'x-amzn-bedrock-invocation-latency': '322', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ca00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67340154eb8976eedc40a60e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8edac8c2-cca2-4104-9cea-e4bd4a51d5c2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 01:31:03 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '8edac8c2-cca2-4104-9cea-e4bd4a51d5c2', 'x-amzn-bedrock-invocation-latency': '1221', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786020>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67340157eb8976eedc40a60f
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.109.197 - - [13/Nov/2024 01:31:03] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:35.203.210.239 - - [13/Nov/2024 01:34:32] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:35.203.210.239 - - [13/Nov/2024 01:34:32] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03\x83üyr©Û\x8d\x00Rö\x05\x86\x00/»\x93¹Dî\x1aÀ\x9dSX\x07\x82l6\x1c\x10¤õ \x948ÖA$a|ih@½úû®[\x8e\x1b\x9eãé«qlÁ>ÖýÃ§Àvá\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" 400 -
ERROR:werkzeug:35.203.210.239 - - [13/Nov/2024 01:34:32] code 400, message Bad request version ('À(À$À\x14À')
INFO:werkzeug:35.203.210.239 - - [13/Nov/2024 01:34:32] "[31m[1m\x16\x03\x01\x00Ê\x01\x00\x00Æ\x03\x03}m\x1e\x17réÇø©ë\x81£½\x18ô\x8d\x0dSÞúÛÅi»\x1aUÜ½¹×¯T\x00\x00hÌ\x14Ì\x13À/À+À0À,À\x11À\x07À'À#À\x13À\x09À(À$À\x14À[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67340f7beb8976eedc40a611
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9c34dc1-5fd8-409d-b6b6-455fefc3600d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 02:31:26 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9c34dc1-5fd8-409d-b6b6-455fefc3600d', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785e10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67340f7eeb8976eedc40a612
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.227.18.69 - - [13/Nov/2024 02:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e069b61a-8b49-4157-899b-320643b0b8de', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 03:30:51 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e069b61a-8b49-4157-899b-320643b0b8de', 'x-amzn-bedrock-invocation-latency': '318', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67341d6beb8976eedc40a614
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c7b61ad-a21c-40d2-92ad-bf8c85ad5157', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 03:30:53 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '6c7b61ad-a21c-40d2-92ad-bf8c85ad5157', 'x-amzn-bedrock-invocation-latency': '1309', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4187a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67341d6deb8976eedc40a615
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.167.193.18 - - [13/Nov/2024 03:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a4dec89-e11b-47f2-a1ad-f3bbe07143ec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 04:30:42 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3a4dec89-e11b-47f2-a1ad-f3bbe07143ec', 'x-amzn-bedrock-invocation-latency': '335', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2260>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67342b72eb8976eedc40a617
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7ebbd039-985f-4601-a8c0-524df452a53b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 04:30:44 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '7ebbd039-985f-4601-a8c0-524df452a53b', 'x-amzn-bedrock-invocation-latency': '1290', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47864d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67342b74eb8976eedc40a618
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.167.193.18 - - [13/Nov/2024 04:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67343986eb8976eedc40a61a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '50e327d3-91ec-49bd-9631-b148be2f7842', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 05:30:49 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '50e327d3-91ec-49bd-9631-b148be2f7842', 'x-amzn-bedrock-invocation-latency': '1280', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786020>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67343989eb8976eedc40a61b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.167.193.18 - - [13/Nov/2024 05:30:49] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:45.95.169.130 - - [13/Nov/2024 05:54:42] code 400, message Bad HTTP/0.9 request type ('\x00\x00\x00\x11\x00\x00\x01é\x00\x01\x00\x00\x00ÿÿÿÿ\x01\x00\x00\x00\x00\x00\x00\x00')
INFO:werkzeug:45.95.169.130 - - [13/Nov/2024 05:54:42] "[31m[1m\x00\x00\x00\x11\x00\x00\x01é\x00\x01\x00\x00\x00ÿÿÿÿ\x01\x00\x00\x00\x00\x00\x00\x00\x0c\x02\x00\x00\x00\x10MyCustomAssembly\x05\x01\x00\x00\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6734479aeb8976eedc40a61d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cc1c94c9-22d2-45c7-bcab-7ef2c1d993eb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 06:30:53 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'cc1c94c9-22d2-45c7-bcab-7ef2c1d993eb', 'x-amzn-bedrock-invocation-latency': '1382', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786770>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734479deb8976eedc40a61e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.247.48 - - [13/Nov/2024 06:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c57fef63-03a2-4f49-b4fa-136f11ee0e88', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 07:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c57fef63-03a2-4f49-b4fa-136f11ee0e88', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d240>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673455a8eb8976eedc40a620
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '15ff0600-2f8d-48a2-8778-ced96d165cea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 07:30:50 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '15ff0600-2f8d-48a2-8778-ced96d165cea', 'x-amzn-bedrock-invocation-latency': '1302', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f13f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673455aaeb8976eedc40a621
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.70.39 - - [13/Nov/2024 07:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '27546ccd-cbc9-4b03-addc-1de0d459599d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 08:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '27546ccd-cbc9-4b03-addc-1de0d459599d', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1270>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673463aceb8976eedc40a623
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '98200a89-507c-463a-aa6b-aef681b23a0c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 08:30:38 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '98200a89-507c-463a-aa6b-aef681b23a0c', 'x-amzn-bedrock-invocation-latency': '1316', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786aa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673463aeeb8976eedc40a624
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.162.79 - - [13/Nov/2024 08:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4aa9e3bd-0efd-4f94-99bd-5484e9a1b008', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 09:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4aa9e3bd-0efd-4f94-99bd-5484e9a1b008', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722c80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673471b9eb8976eedc40a626
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9c78857f-4314-4674-8e60-331d9090743e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 09:30:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '9c78857f-4314-4674-8e60-331d9090743e', 'x-amzn-bedrock-invocation-latency': '1258', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47864a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673471bbeb8976eedc40a627
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.69.63 - - [13/Nov/2024 09:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67348008eb8976eedc40a629
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '583dcc93-deb3-4f62-a6b8-595a003fd505', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 10:31:39 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '583dcc93-deb3-4f62-a6b8-595a003fd505', 'x-amzn-bedrock-invocation-latency': '1326', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734800beb8976eedc40a62a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.196.32.201 - - [13/Nov/2024 10:31:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83e84dad-3dc6-4f9a-a96b-4b8cf8edd458', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 11:31:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '83e84dad-3dc6-4f9a-a96b-4b8cf8edd458', 'x-amzn-bedrock-invocation-latency': '285', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ee30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67348e0aeb8976eedc40a62c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'feebdbbe-7b31-4b07-96fe-5bfac61e5111', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 11:31:25 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'feebdbbe-7b31-4b07-96fe-5bfac61e5111', 'x-amzn-bedrock-invocation-latency': '1343', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67348e0deb8976eedc40a62d
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.109.197 - - [13/Nov/2024 11:31:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '93f544bc-1630-446f-bfc1-e20ba99b42b4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 12:30:52 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '93f544bc-1630-446f-bfc1-e20ba99b42b4', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f14e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67349bfceb8976eedc40a62f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd19250e8-ba86-4c29-93bf-f2a8ab19d864', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 12:30:55 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'd19250e8-ba86-4c29-93bf-f2a8ab19d864', 'x-amzn-bedrock-invocation-latency': '1208', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67349bffeb8976eedc40a630
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.48.156 - - [13/Nov/2024 12:30:55] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [13/Nov/2024 12:34:22] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [13/Nov/2024 12:34:22] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:werkzeug:13.58.97.162 - - [13/Nov/2024 13:03:29] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6734aa20eb8976eedc40a632
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f69715b3-cc0b-4540-835d-50c45377b684', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 13:31:15 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'f69715b3-cc0b-4540-835d-50c45377b684', 'x-amzn-bedrock-invocation-latency': '1390', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734aa23eb8976eedc40a633
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.109.197 - - [13/Nov/2024 13:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6734b836eb8976eedc40a635
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4345ec59-a762-4b97-a0fc-7b83f3b564a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 14:31:21 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '4345ec59-a762-4b97-a0fc-7b83f3b564a0', 'x-amzn-bedrock-invocation-latency': '1229', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734b839eb8976eedc40a636
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.133.112 - - [13/Nov/2024 14:31:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '63ded100-122f-4117-a921-798cb1aa0e51', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 15:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '63ded100-122f-4117-a921-798cb1aa0e51', 'x-amzn-bedrock-invocation-latency': '334', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6734c611eb8976eedc40a638
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ea8d1fd8-2538-4943-b84d-74ecfb53cc0f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 15:30:27 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ea8d1fd8-2538-4943-b84d-74ecfb53cc0f', 'x-amzn-bedrock-invocation-latency': '1293', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47872b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734c613eb8976eedc40a639
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.133.112 - - [13/Nov/2024 15:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '14464e2f-7cd5-433a-a9b1-33baae5db92b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 16:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '14464e2f-7cd5-433a-a9b1-33baae5db92b', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47200a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6734d413eb8976eedc40a63b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4255a62a-a7ac-4533-967b-fb4f5d2cd038', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 16:30:14 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '4255a62a-a7ac-4533-967b-fb4f5d2cd038', 'x-amzn-bedrock-invocation-latency': '1210', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785c90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734d416eb8976eedc40a63c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.131.120 - - [13/Nov/2024 16:30:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6734e254eb8976eedc40a63e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f9dac8b2-cd26-442e-a8dc-2e83ede50051', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 17:31:02 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'f9dac8b2-cd26-442e-a8dc-2e83ede50051', 'x-amzn-bedrock-invocation-latency': '1248', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785d80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734e256eb8976eedc40a63f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.191.174 - - [13/Nov/2024 17:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6734f0dbeb8976eedc40a641
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '33647541-4129-4b71-aeb4-b36644eec19a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 18:33:01 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '33647541-4129-4b71-aeb4-b36644eec19a', 'x-amzn-bedrock-invocation-latency': '1331', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786aa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734f0ddeb8976eedc40a642
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.156.28 - - [13/Nov/2024 18:33:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '22d974a7-cfc5-481a-8de1-1125df973f7e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 19:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '22d974a7-cfc5-481a-8de1-1125df973f7e', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ce50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6734fe47eb8976eedc40a644
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a18fc7c9-6bb0-4ee3-a75c-91a8ef44e753', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 19:30:17 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'a18fc7c9-6bb0-4ee3-a75c-91a8ef44e753', 'x-amzn-bedrock-invocation-latency': '1214', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3f40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6734fe49eb8976eedc40a645
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.238.118.185 - - [13/Nov/2024 19:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67350c98eb8976eedc40a647
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9713693a-8a55-4f04-b815-640a09a9b3e1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 20:31:23 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '9713693a-8a55-4f04-b815-640a09a9b3e1', 'x-amzn-bedrock-invocation-latency': '1383', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47219f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67350c9beb8976eedc40a648
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.193.203.254 - - [13/Nov/2024 20:31:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a967ea4-97b8-4142-91e5-7a46752759fe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 21:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9a967ea4-97b8-4142-91e5-7a46752759fe', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67351a7deb8976eedc40a64a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c931e0bf-dd46-440b-8712-eb9fc888d5fb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 21:30:40 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c931e0bf-dd46-440b-8712-eb9fc888d5fb', 'x-amzn-bedrock-invocation-latency': '1333', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67351a80eb8976eedc40a64b
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.193.203.254 - - [13/Nov/2024 21:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3d04a057-57be-4023-8b2e-8028a35b7cff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 22:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3d04a057-57be-4023-8b2e-8028a35b7cff', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721330>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67352887eb8976eedc40a64d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '898957b7-552a-4c9b-b86b-a19ea8a91668', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 22:30:34 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '898957b7-552a-4c9b-b86b-a19ea8a91668', 'x-amzn-bedrock-invocation-latency': '1216', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735288aeb8976eedc40a64e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.216.133.23 - - [13/Nov/2024 22:30:34] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:198.199.75.226 - - [13/Nov/2024 23:29:03] code 400, message Bad request syntax ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x9bLçÁ\x00Ê7Æ¸\x81+\x11³×\x93{')
INFO:werkzeug:198.199.75.226 - - [13/Nov/2024 23:29:03] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x9bLçÁ\x00Ê7Æ¸\x81+\x11³×\x93{[0m" 400 -
ERROR:werkzeug:198.199.75.226 - - [13/Nov/2024 23:29:04] code 400, message Bad request version ('À\x14À')
INFO:werkzeug:198.199.75.226 - - [13/Nov/2024 23:29:04] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03 õÇÇ\x9a³\x00\\B=¸UU\x86©»\x02-^j¤+$\x8e\x84ñ!¨Õheì\x00\x00\x1aÀ/À+À\x11À\x07À\x13À\x09À\x14À[0m" 400 -
INFO:werkzeug:198.199.75.226 - - [13/Nov/2024 23:29:04] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673536afeb8976eedc40a650
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e81f703b-30d6-4944-a4c5-cbf489120430', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 13 Nov 2024 23:30:58 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'e81f703b-30d6-4944-a4c5-cbf489120430', 'x-amzn-bedrock-invocation-latency': '1334', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51ccdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673536b2eb8976eedc40a651
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.166.133 - - [13/Nov/2024 23:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '024c5c38-b763-469c-b38a-44f55d820dc8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 00:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '024c5c38-b763-469c-b38a-44f55d820dc8', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51cc8e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67354492eb8976eedc40a653
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '35c8db0c-4899-4f19-8e6b-18956c0b7eca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 00:30:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '35c8db0c-4899-4f19-8e6b-18956c0b7eca', 'x-amzn-bedrock-invocation-latency': '1303', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67354495eb8976eedc40a654
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.175.174 - - [14/Nov/2024 00:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673552ceeb8976eedc40a656
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '467a013b-7fa1-4c06-a1b5-d1a0f03a2665', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 01:30:56 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '467a013b-7fa1-4c06-a1b5-d1a0f03a2665', 'x-amzn-bedrock-invocation-latency': '1363', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422ba90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673552d0eb8976eedc40a657
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.80.225.13 - - [14/Nov/2024 01:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8f731c91-4845-4ea1-83d5-636bc59ce0a5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 02:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8f731c91-4845-4ea1-83d5-636bc59ce0a5', 'x-amzn-bedrock-invocation-latency': '299', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d520a860>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673560c3eb8976eedc40a659
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e3bac49f-33cf-4795-a039-889275783049', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 02:30:30 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'e3bac49f-33cf-4795-a039-889275783049', 'x-amzn-bedrock-invocation-latency': '1363', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228310>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673560c6eb8976eedc40a65a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.83.160.114 - - [14/Nov/2024 02:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67356efeeb8976eedc40a65c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9acce3a7-dc9d-4833-b192-b9a815e2071c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 03:31:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '9acce3a7-dc9d-4833-b192-b9a815e2071c', 'x-amzn-bedrock-invocation-latency': '1369', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a6b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67356f01eb8976eedc40a65d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.229.192 - - [14/Nov/2024 03:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67357d22eb8976eedc40a65f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e7d248b3-2ab4-45af-946c-9012d877832a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 04:31:33 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'e7d248b3-2ab4-45af-946c-9012d877832a', 'x-amzn-bedrock-invocation-latency': '1235', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229c30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67357d25eb8976eedc40a660
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.202.160 - - [14/Nov/2024 04:31:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '58dea89f-dd19-4916-ae25-9e47e0c92748', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 05:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '58dea89f-dd19-4916-ae25-9e47e0c92748', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4187e50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67358ae8eb8976eedc40a662
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'de61c8a9-7708-45d0-aa5c-9e788d0bf24f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 05:30:19 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'de61c8a9-7708-45d0-aa5c-9e788d0bf24f', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42296f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67358aebeb8976eedc40a663
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.202.160 - - [14/Nov/2024 05:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6735990beb8976eedc40a665
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f551293d-c1fc-45fd-b255-d381ef9db4ab', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 06:30:38 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'f551293d-c1fc-45fd-b255-d381ef9db4ab', 'x-amzn-bedrock-invocation-latency': '1334', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422be80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735990eeb8976eedc40a666
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.109.116 - - [14/Nov/2024 06:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd0123879-be3f-4fc4-ba1c-5727a1137738', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 07:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd0123879-be3f-4fc4-ba1c-5727a1137738', 'x-amzn-bedrock-invocation-latency': '327', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422aaa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6735a713eb8976eedc40a668
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5017168a-2edd-4017-846b-06b25bea5ca1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 07:30:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '5017168a-2edd-4017-846b-06b25bea5ca1', 'x-amzn-bedrock-invocation-latency': '1210', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a7d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735a715eb8976eedc40a669
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.83.160.114 - - [14/Nov/2024 07:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '70400a01-c72e-4b02-9acc-c4c237df98c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 08:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '70400a01-c72e-4b02-9acc-c4c237df98c5', 'x-amzn-bedrock-invocation-latency': '306', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2080>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6735b522eb8976eedc40a66b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed31d3f8-f034-4ac3-9a6b-97410b5835a4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 08:30:29 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed31d3f8-f034-4ac3-9a6b-97410b5835a4', 'x-amzn-bedrock-invocation-latency': '1292', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422ada0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735b525eb8976eedc40a66c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.205.169.117 - - [14/Nov/2024 08:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6735c357eb8976eedc40a66e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5497c2f9-6c92-4bcb-9680-daba011b6a17', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 09:31:06 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '5497c2f9-6c92-4bcb-9680-daba011b6a17', 'x-amzn-bedrock-invocation-latency': '1301', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a6e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735c35aeb8976eedc40a66f
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.201.247.60 - - [14/Nov/2024 09:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hey ginie', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hey ginie
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6735cf3feb8976eedc40a671
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '30e00d59-1024-4afa-9d64-bbe41469a474', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 10:21:55 GMT', 'content-type': 'application/json', 'content-length': '693', 'connection': 'keep-alive', 'x-amzn-requestid': '30e00d59-1024-4afa-9d64-bbe41469a474', 'x-amzn-bedrock-invocation-latency': '1799', 'x-amzn-bedrock-output-token-count': '202', 'x-amzn-bedrock-input-token-count': '1188'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e3e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hi! I'm Ginie, your HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. If you have any questions or concerns, feel free to ask! You can also reach out to HR at hr@geminisolutions.com.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hey ginie\",\n        \"source\": \"Casual Conversation\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1188,"generation_token_count":202,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735cf43eb8976eedc40a672
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [14/Nov/2024 10:21:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can you tell me what is the process to apply for remuneration?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: can you tell me what is the process to apply for remuneration?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b249f66-a61d-4f81-aca3-1eb9036ad210', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 10:22:23 GMT', 'content-type': 'application/json', 'content-length': '211', 'connection': 'keep-alive', 'x-amzn-requestid': '1b249f66-a61d-4f81-aca3-1eb9036ad210', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '250'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What is the process to apply for a salary increase or remuneration?\"\n}","prompt_token_count":250,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What is the process to apply for a salary increase or remuneration?
INFO:__main__:Query stored successfully with ID: 6735cf5feb8976eedc40a674
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7275102a-477d-4f2d-881e-c8ac0b6ce427', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 10:22:28 GMT', 'content-type': 'application/json', 'content-length': '1955', 'connection': 'keep-alive', 'x-amzn-requestid': '7275102a-477d-4f2d-881e-c8ac0b6ce427', 'x-amzn-bedrock-invocation-latency': '3933', 'x-amzn-bedrock-output-token-count': '477', 'x-amzn-bedrock-input-token-count': '1307'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1780>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To apply for a salary increase or remuneration, you need to make a request through the dedicated HRBP with the amount and purpose. The request will be processed only if you meet the eligibility criteria, which includes having completed 12 months of service, not having taken any salary advance in the last 365 days, and not being in the process of resigning. Once approved, you'll get a confirmation email.\",\n    \"References\": [\n        {\n            \"Statement\": \"To request a salary advance, just make a request through the dedicated HRBP with the amount and purpose.\",\n            \"source\": \"Accounts - Remuneration.csv - N/A - Sheet1 - 15\"\n        },\n        {\n            \"Statement\": \"You're eligible for a salary advance if you've completed 12 months of service and haven't taken any salary advance in the last 365 days.\",\n            \"source\": \"Accounts - Remuneration.csv - N/A - Sheet1 - 14\"\n        },\n        {\n            \"Statement\": \"Salary Advance can be taken only if: Employee should have completed 12 months of service (Not eligible for Technical Trainee/GET) There must be no Loan installment deduction in the last month Salary Employee has not taken any salary advance in the last 365 days Employee should not have resigned from services\",\n            \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf - 9 - N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"What is the process to apply for a salary increase or remuneration?\",\n        \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1307,"generation_token_count":477,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735cf64eb8976eedc40a675
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [14/Nov/2024 10:22:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'okay thanks', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: okay thanks
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'faf9c238-75b2-4f4f-bef7-38e24b27777b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 10:22:51 GMT', 'content-type': 'application/json', 'content-length': '156', 'connection': 'keep-alive', 'x-amzn-requestid': 'faf9c238-75b2-4f4f-bef7-38e24b27777b', 'x-amzn-bedrock-invocation-latency': '223', 'x-amzn-bedrock-output-token-count': '18', 'x-amzn-bedrock-input-token-count': '561'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722e00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"okay thanks\"\n}","prompt_token_count":561,"generation_token_count":18,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: okay thanks
INFO:__main__:Query stored successfully with ID: 6735cf7beb8976eedc40a677
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '885fcc7a-d21e-4f66-ad21-e4952de8568a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 10:22:54 GMT', 'content-type': 'application/json', 'content-length': '688', 'connection': 'keep-alive', 'x-amzn-requestid': '885fcc7a-d21e-4f66-ad21-e4952de8568a', 'x-amzn-bedrock-invocation-latency': '1625', 'x-amzn-bedrock-output-token-count': '191', 'x-amzn-bedrock-input-token-count': '1324'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d930>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Thank you for reaching out! I'm a bot designed to assist with company policies. If you have any specific questions or concerns, feel free to ask, and I'll do my best to provide accurate and clear responses.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"okay thanks\",\n        \"source\": \" Gemini Solutions HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1324,"generation_token_count":191,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735cf7eeb8976eedc40a678
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [14/Nov/2024 10:22:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2065311f-a813-4f33-820c-5b6c341d153e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 10:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2065311f-a813-4f33-820c-5b6c341d153e', 'x-amzn-bedrock-invocation-latency': '282', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6735d13aeb8976eedc40a67a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '874be3c9-321a-438c-af70-2e65be84196b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 10:30:21 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '874be3c9-321a-438c-af70-2e65be84196b', 'x-amzn-bedrock-invocation-latency': '1305', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e740>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735d13deb8976eedc40a67b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.231.209.124 - - [14/Nov/2024 10:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.161 - - [14/Nov/2024 11:11:50] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6735df61eb8976eedc40a67d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3470b54-3c71-4f57-bd29-5bed939b2780', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 11:30:44 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3470b54-3c71-4f57-bd29-5bed939b2780', 'x-amzn-bedrock-invocation-latency': '1358', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735df64eb8976eedc40a67e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.237.203.225 - - [14/Nov/2024 11:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b204545f-2c19-4702-bbe0-d718bf5caf26', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 12:30:34 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b204545f-2c19-4702-bbe0-d718bf5caf26', 'x-amzn-bedrock-invocation-latency': '371', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f38b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6735ed6aeb8976eedc40a680
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd1729862-9d40-4ea5-bca4-077bfd4387e4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 12:30:37 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'd1729862-9d40-4ea5-bca4-077bfd4387e4', 'x-amzn-bedrock-invocation-latency': '1195', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cb80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735ed6deb8976eedc40a681
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.171.3 - - [14/Nov/2024 12:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6735fba1eb8976eedc40a683
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'af53fef9-e3a5-4ff1-8f29-e9f0dc957641', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 13:31:15 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'af53fef9-e3a5-4ff1-8f29-e9f0dc957641', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ea40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6735fba3eb8976eedc40a684
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.117.7 - - [14/Nov/2024 13:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fb1812b2-4af4-4693-b000-18a92e19d63d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 14:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fb1812b2-4af4-4693-b000-18a92e19d63d', 'x-amzn-bedrock-invocation-latency': '307', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a5c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67360986eb8976eedc40a686
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0905ce26-464e-4582-84bb-127254fb815c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 14:30:33 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0905ce26-464e-4582-84bb-127254fb815c', 'x-amzn-bedrock-invocation-latency': '1208', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cf70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67360989eb8976eedc40a687
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.227.95.173 - - [14/Nov/2024 14:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673617aeeb8976eedc40a689
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bd49f359-47a2-4fd6-80b2-37c677efc973', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 15:30:56 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'bd49f359-47a2-4fd6-80b2-37c677efc973', 'x-amzn-bedrock-invocation-latency': '1326', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f5b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673617b0eb8976eedc40a68a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.5.56 - - [14/Nov/2024 15:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '81a09042-2d2a-410a-92b6-502a17b95b0d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 16:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '81a09042-2d2a-410a-92b6-502a17b95b0d', 'x-amzn-bedrock-invocation-latency': '365', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6736259feb8976eedc40a68c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '343283bd-9a08-4a4b-9545-362ce226297d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 16:30:26 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '343283bd-9a08-4a4b-9545-362ce226297d', 'x-amzn-bedrock-invocation-latency': '1219', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673625a2eb8976eedc40a68d
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.123.133 - - [14/Nov/2024 16:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673633c3eb8976eedc40a68f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '29040e01-7971-43bc-9b99-6de600fb0ed7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 17:30:46 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '29040e01-7971-43bc-9b99-6de600fb0ed7', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d1b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673633c6eb8976eedc40a690
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.24.65.37 - - [14/Nov/2024 17:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67364266eb8976eedc40a692
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '074c2511-1827-4270-b2d8-67e0819e391d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 18:33:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '074c2511-1827-4270-b2d8-67e0819e391d', 'x-amzn-bedrock-invocation-latency': '1318', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cd30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67364269eb8976eedc40a693
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.204.202.10 - - [14/Nov/2024 18:33:13] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:188.166.87.67 - - [14/Nov/2024 18:55:13] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '907076e9-53a9-4b0a-9f9a-84bfcd9e2397', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 19:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '907076e9-53a9-4b0a-9f9a-84bfcd9e2397', 'x-amzn-bedrock-invocation-latency': '323', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ce80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67364fc1eb8976eedc40a695
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a7b9b710-f811-4f0b-8402-6bfe1d34989f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 19:30:12 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'a7b9b710-f811-4f0b-8402-6bfe1d34989f', 'x-amzn-bedrock-invocation-latency': '1310', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784c10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67364fc4eb8976eedc40a696
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.173.139.131 - - [14/Nov/2024 19:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67365e21eb8976eedc40a698
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4609ab1d-8a59-440f-a0e5-76d111538d85', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 20:31:31 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '4609ab1d-8a59-440f-a0e5-76d111538d85', 'x-amzn-bedrock-invocation-latency': '1262', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ee30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67365e23eb8976eedc40a699
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.28.145 - - [14/Nov/2024 20:31:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '80e867f5-3f49-49a1-99fb-0d0d9159d948', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 21:30:24 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '80e867f5-3f49-49a1-99fb-0d0d9159d948', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d520a800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67366bf0eb8976eedc40a69b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5c4c8923-d200-4c96-93a9-c300fff19feb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 21:30:27 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '5c4c8923-d200-4c96-93a9-c300fff19feb', 'x-amzn-bedrock-invocation-latency': '1214', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472fdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67366bf3eb8976eedc40a69c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.124.235 - - [14/Nov/2024 21:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c674d03a-12fa-4a59-9f50-fac3ccb74eef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 22:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c674d03a-12fa-4a59-9f50-fac3ccb74eef', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673679f6eb8976eedc40a69e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64d1bc82-c836-48ea-99e0-ce2a432f0554', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 22:30:17 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '64d1bc82-c836-48ea-99e0-ce2a432f0554', 'x-amzn-bedrock-invocation-latency': '1316', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673679f9eb8976eedc40a69f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.145.117.34 - - [14/Nov/2024 22:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6736880beb8976eedc40a6a1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b8f6feac-eae3-412e-9b9d-28218dc289e3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 14 Nov 2024 23:30:22 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'b8f6feac-eae3-412e-9b9d-28218dc289e3', 'x-amzn-bedrock-invocation-latency': '1394', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47867a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736880eeb8976eedc40a6a2
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.224.164 - - [14/Nov/2024 23:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6736963feb8976eedc40a6a4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3fa10250-d703-4c53-bbe9-7f4da297ff0c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 00:30:57 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '3fa10250-d703-4c53-bbe9-7f4da297ff0c', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722890>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67369641eb8976eedc40a6a5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.169.129 - - [15/Nov/2024 00:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:51.8.223.81 - - [15/Nov/2024 00:46:26] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b7c9760f-a2e1-4297-9481-fdceaa0f0c53', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 01:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b7c9760f-a2e1-4297-9481-fdceaa0f0c53', 'x-amzn-bedrock-invocation-latency': '311', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a3b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6736a427eb8976eedc40a6a7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ffddce63-f46b-49c3-a905-20b3b35d9625', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 01:30:18 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ffddce63-f46b-49c3-a905-20b3b35d9625', 'x-amzn-bedrock-invocation-latency': '1309', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47861d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736a42aeb8976eedc40a6a8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.3.202 - - [15/Nov/2024 01:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6736b259eb8976eedc40a6aa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2e92dfd0-07df-468a-8ed2-dd3d39f401e2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 02:30:52 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '2e92dfd0-07df-468a-8ed2-dd3d39f401e2', 'x-amzn-bedrock-invocation-latency': '1251', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736b25ceb8976eedc40a6ab
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.168.4 - - [15/Nov/2024 02:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '87b1785e-9f44-43cc-b43e-5cb2070dec4c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 03:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '87b1785e-9f44-43cc-b43e-5cb2070dec4c', 'x-amzn-bedrock-invocation-latency': '303', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6736c03eeb8976eedc40a6ad
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5905fe67-2b8d-404f-97ef-3fa7b478f38f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 03:30:09 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '5905fe67-2b8d-404f-97ef-3fa7b478f38f', 'x-amzn-bedrock-invocation-latency': '1314', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736c041eb8976eedc40a6ae
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.168.4 - - [15/Nov/2024 03:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6736ce9deb8976eedc40a6b0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd493e5e7-e354-405b-9c43-476083142ee5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 04:31:28 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'd493e5e7-e354-405b-9c43-476083142ee5', 'x-amzn-bedrock-invocation-latency': '1269', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47865f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736cea0eb8976eedc40a6b1
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.64.102 - - [15/Nov/2024 04:31:28] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [15/Nov/2024 04:37:27] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [15/Nov/2024 04:37:27] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '01c67f1f-d730-4aeb-a136-dafa3493d4f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 05:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '01c67f1f-d730-4aeb-a136-dafa3493d4f2', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472fe80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6736dc6feb8976eedc40a6b3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '77bea227-35f0-4d7f-89bd-7453c65c1a88', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 05:30:26 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '77bea227-35f0-4d7f-89bd-7453c65c1a88', 'x-amzn-bedrock-invocation-latency': '1303', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47864d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736dc72eb8976eedc40a6b4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.18.59 - - [15/Nov/2024 05:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6736ea92eb8976eedc40a6b6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7d316126-5296-473e-bf9f-2662ef5883d3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 06:30:45 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '7d316126-5296-473e-bf9f-2662ef5883d3', 'x-amzn-bedrock-invocation-latency': '1380', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47872e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736ea95eb8976eedc40a6b7
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.18.59 - - [15/Nov/2024 06:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '82ef16ac-bd8f-4bed-8bc3-53c121e707b7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 07:30:43 GMT', 'content-type': 'application/json', 'content-length': '193', 'connection': 'keep-alive', 'x-amzn-requestid': '82ef16ac-bd8f-4bed-8bc3-53c121e707b7', 'x-amzn-bedrock-invocation-latency': '282', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '251'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What are the types of leaves in Gemini Solutions?\"\n}","prompt_token_count":251,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the types of leaves in Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6736f8a3eb8976eedc40a6b9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5fe42466-1fec-4193-b589-b2e7d0ac8d38', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 07:30:45 GMT', 'content-type': 'application/json', 'content-length': '720', 'connection': 'keep-alive', 'x-amzn-requestid': '5fe42466-1fec-4193-b589-b2e7d0ac8d38', 'x-amzn-bedrock-invocation-latency': '1221', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What are the types of leaves in Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6736f8a5eb8976eedc40a6ba
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.249.59 - - [15/Nov/2024 07:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673706b7eb8976eedc40a6bc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e86407e9-dc50-48d0-b64d-9702072c737c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 08:30:50 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'e86407e9-dc50-48d0-b64d-9702072c737c', 'x-amzn-bedrock-invocation-latency': '1326', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47847f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673706baeb8976eedc40a6bd
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.220.167.15 - - [15/Nov/2024 08:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2aea94a5-12b4-4b22-8b7d-4f2dd1daf2ee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 09:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2aea94a5-12b4-4b22-8b7d-4f2dd1daf2ee', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f2b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673714bceb8976eedc40a6bf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3adff596-a88c-4fa5-887b-fb99dba01723', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 09:30:38 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3adff596-a88c-4fa5-887b-fb99dba01723', 'x-amzn-bedrock-invocation-latency': '1202', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47858a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673714beeb8976eedc40a6c0
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.86.214 - - [15/Nov/2024 09:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a6222f7d-b9e4-4c2d-95c1-b12a061adb62', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 10:30:28 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a6222f7d-b9e4-4c2d-95c1-b12a061adb62', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786c20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673722c4eb8976eedc40a6c2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '255f2544-e8a0-461f-af52-175b638eef5a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 10:30:31 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '255f2544-e8a0-461f-af52-175b638eef5a', 'x-amzn-bedrock-invocation-latency': '1312', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47858d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673722c7eb8976eedc40a6c3
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.220.167.15 - - [15/Nov/2024 10:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '10159209-7448-4ea0-bed6-feb9e2789d98', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 11:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '10159209-7448-4ea0-bed6-feb9e2789d98', 'x-amzn-bedrock-invocation-latency': '351', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673730cdeb8976eedc40a6c5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2f85af09-240f-4120-a98e-7c1a27d32035', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 11:30:24 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '2f85af09-240f-4120-a98e-7c1a27d32035', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4224a30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673730d0eb8976eedc40a6c6
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.188.173 - - [15/Nov/2024 11:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67373f01eb8976eedc40a6c8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0592c9ce-8525-4dcf-9c2f-2fff3ddb6ca2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 12:31:00 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0592c9ce-8525-4dcf-9c2f-2fff3ddb6ca2', 'x-amzn-bedrock-invocation-latency': '1217', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47853f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67373f04eb8976eedc40a6c9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.249.59 - - [15/Nov/2024 12:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67374d22eb8976eedc40a6cb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fc9089a5-6bbe-4a25-93fc-34db65326bab', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 13:31:17 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'fc9089a5-6bbe-4a25-93fc-34db65326bab', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47878b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67374d25eb8976eedc40a6cc
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.249.59 - - [15/Nov/2024 13:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.160 - - [15/Nov/2024 14:29:57] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.197.160 - - [15/Nov/2024 14:30:04] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4d73de1b-ec53-460a-9ec6-290bc43b658c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 14:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4d73de1b-ec53-460a-9ec6-290bc43b658c', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67375afeeb8976eedc40a6ce
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '754bbe61-c0bc-49ac-9d00-ab598b2de79d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 14:30:25 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '754bbe61-c0bc-49ac-9d00-ab598b2de79d', 'x-amzn-bedrock-invocation-latency': '1206', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4224b20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67375b01eb8976eedc40a6cf
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.249.59 - - [15/Nov/2024 14:30:25] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:134.209.53.204 - - [15/Nov/2024 14:38:51] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03_')
INFO:werkzeug:134.209.53.204 - - [15/Nov/2024 14:38:51] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03_\x0b®1ÀÜ\x9fìük2Á\x96<\x94\x8dÅ_HJ\x06\x14[0m" 400 -
ERROR:werkzeug:134.209.53.204 - - [15/Nov/2024 14:38:51] code 400, message Bad request version ('À\x14À')
INFO:werkzeug:134.209.53.204 - - [15/Nov/2024 14:38:51] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03Ï\x1bN\x80L<iV4\x96d\x9a\x98à\x99\x0cþA®)×(\x1b\x84\x90|ø¶±éÄ#\x00\x00\x1aÀ/À+À\x11À\x07À\x13À\x09À\x14À[0m" 400 -
INFO:werkzeug:134.209.53.204 - - [15/Nov/2024 14:38:52] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67376913eb8976eedc40a6d1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2a3ccd22-a3b2-4f88-8847-3a79b8eedb47', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 15:30:30 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '2a3ccd22-a3b2-4f88-8847-3a79b8eedb47', 'x-amzn-bedrock-invocation-latency': '1375', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4225150>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67376916eb8976eedc40a6d2
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.169.205 - - [15/Nov/2024 15:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '89c0ad7e-58d0-427e-9f20-ba178013cac9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 16:30:24 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '89c0ad7e-58d0-427e-9f20-ba178013cac9', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422bc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67377720eb8976eedc40a6d4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71b7420c-d679-448e-aa07-43fb82d24672', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 16:30:27 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '71b7420c-d679-448e-aa07-43fb82d24672', 'x-amzn-bedrock-invocation-latency': '1320', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722050>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67377723eb8976eedc40a6d5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.162.82.140 - - [15/Nov/2024 16:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6e3b8975-4523-46f9-88c9-5d63f490f461', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 17:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6e3b8975-4523-46f9-88c9-5d63f490f461', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6737851feb8976eedc40a6d7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '65c1ffb1-73e2-4ebe-ba0b-a12c70aefc15', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 17:30:10 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '65c1ffb1-73e2-4ebe-ba0b-a12c70aefc15', 'x-amzn-bedrock-invocation-latency': '1315', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f01c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67378522eb8976eedc40a6d8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.134.40 - - [15/Nov/2024 17:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67379478eb8976eedc40a6da
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0f9b8e1d-77b4-4f75-b1a4-0bef0455ddba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 18:35:38 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0f9b8e1d-77b4-4f75-b1a4-0bef0455ddba', 'x-amzn-bedrock-invocation-latency': '1204', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737947aeb8976eedc40a6db
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.131.98 - - [15/Nov/2024 18:35:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b5d2152b-2af5-4cbe-8d48-329ee5c7417d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 19:30:24 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b5d2152b-2af5-4cbe-8d48-329ee5c7417d', 'x-amzn-bedrock-invocation-latency': '293', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3ac0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6737a150eb8976eedc40a6dd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ade77aa1-c76d-4a57-800e-652e2686dd52', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 19:30:26 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'ade77aa1-c76d-4a57-800e-652e2686dd52', 'x-amzn-bedrock-invocation-latency': '1196', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47868f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737a152eb8976eedc40a6de
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.215.93 - - [15/Nov/2024 19:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6737af91eb8976eedc40a6e0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c13c5bbd-ae32-42d4-b63c-06ea665b2f85', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 20:31:16 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c13c5bbd-ae32-42d4-b63c-06ea665b2f85', 'x-amzn-bedrock-invocation-latency': '1374', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737af94eb8976eedc40a6e1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.220.63 - - [15/Nov/2024 20:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d28c079-f02a-47ca-86f5-15a8d456def8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 21:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8d28c079-f02a-47ca-86f5-15a8d456def8', 'x-amzn-bedrock-invocation-latency': '378', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6737bd6deb8976eedc40a6e3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3c6f6fc7-218e-473f-9dfc-1ab510b4d70d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 21:30:23 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '3c6f6fc7-218e-473f-9dfc-1ab510b4d70d', 'x-amzn-bedrock-invocation-latency': '1320', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784dc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737bd6feb8976eedc40a6e4
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.220.63 - - [15/Nov/2024 21:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6737cb86eb8976eedc40a6e6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ee6eeaf1-3fda-4c97-915a-50306ddec384', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 22:30:33 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ee6eeaf1-3fda-4c97-915a-50306ddec384', 'x-amzn-bedrock-invocation-latency': '1384', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47858a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737cb89eb8976eedc40a6e7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.146.196 - - [15/Nov/2024 22:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a60062c2-af62-4d44-a12f-b57be296a45f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 23:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a60062c2-af62-4d44-a12f-b57be296a45f', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1960>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6737d995eb8976eedc40a6e9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7079ff5f-fd57-4e47-8064-900942d42a47', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 15 Nov 2024 23:30:31 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '7079ff5f-fd57-4e47-8064-900942d42a47', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737d997eb8976eedc40a6ea
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.222.200 - - [15/Nov/2024 23:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'when is the appraisal ', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: when is the appraisal 
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6737e363eb8976eedc40a6ec
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8a2f7c9-0364-49a8-9993-9665aaaa7286', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 00:12:23 GMT', 'content-type': 'application/json', 'content-length': '1571', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8a2f7c9-0364-49a8-9993-9665aaaa7286', 'x-amzn-bedrock-invocation-latency': '3279', 'x-amzn-bedrock-output-token-count': '384', 'x-amzn-bedrock-input-token-count': '1235'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f09a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The appraisal cycle runs from April 1st to March 31st of the financial year. Employees who transfer after September 30th will not be eligible for an appraisal within the same calendar year. Appraisals will be conducted on a prorated basis in the subsequent year if the employee has a minimum of six months of employment in the home country by March 31st.\",\n    \"References\": [\n        {\n            \"Statement\": \"The appraisal cycle runs from April 1st to March 31st of the financial year.\",\n            \"source\": \"ITAdmin - Misscellaneous.csv - N/A - 23\"\n        },\n        {\n            \"Statement\": \"Employees who transfer after September 30th will not be eligible for an appraisal within the same calendar year.\",\n            \"source\": \"Travel Policy.csv - N/A - 33\"\n        },\n        {\n            \"Statement\": \"Appraisals will be conducted on a prorated basis in the subsequent year if the employee has a minimum of six months of employment in the home country by March 31st.\",\n            \"source\": \"Travel Policy.csv - N/A - 33\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"when is the appraisal \",\n        \"source\": \"ITAdmin - Misscellaneous.csv, Travel Policy.csv\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1235,"generation_token_count":384,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737e367eb8976eedc40a6ed
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [16/Nov/2024 00:12:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'i have joined on 7 october.', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: i have joined on 7 october.
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0b0ddbf3-c355-4fce-b001-5bc0fbc35133', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 00:14:12 GMT', 'content-type': 'application/json', 'content-length': '185', 'connection': 'keep-alive', 'x-amzn-requestid': '0b0ddbf3-c355-4fce-b001-5bc0fbc35133', 'x-amzn-bedrock-invocation-latency': '278', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '402'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"am i eligible for an appraisal this year?\"\n}","prompt_token_count":402,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: am i eligible for an appraisal this year?
INFO:__main__:Query stored successfully with ID: 6737e3d4eb8976eedc40a6ef
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c8996c56-82ba-4a15-826c-b27aa834e87e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 00:14:16 GMT', 'content-type': 'application/json', 'content-length': '1350', 'connection': 'keep-alive', 'x-amzn-requestid': 'c8996c56-82ba-4a15-826c-b27aa834e87e', 'x-amzn-bedrock-invocation-latency': '2771', 'x-amzn-bedrock-output-token-count': '331', 'x-amzn-bedrock-input-token-count': '1247'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To be eligible for an appraisal this year, you must have a minimum of six months of employment in the home country by March 31st. If you transfer after September 30th, you will not be eligible for an appraisal within the same calendar year, but you will be considered for a prorated appraisal in the subsequent year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees who transfer after September 30th will not be eligible for an appraisal within the same calendar year.\",\n            \"source\": \"Travel Policy.csv - N/A/Sheet1 - 33\"\n        },\n        {\n            \"Statement\": \"Appraisals will be conducted on a prorated basis in the subsequent year if the employee has a minimum of six months of employment in the home country by March 31st.\",\n            \"source\": \"Travel Policy.csv - N/A/Sheet1 - 33\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"am i eligible for an appraisal this year?\",\n        \"source\": \"International Transfer Policy.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1247,"generation_token_count":331,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737e3d8eb8976eedc40a6f0
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [16/Nov/2024 00:14:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': "i didn't get", 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: i didn't get
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1f9aaf74-aa98-46fb-b6b3-ec252dc2b83c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 00:14:53 GMT', 'content-type': 'application/json', 'content-length': '175', 'connection': 'keep-alive', 'x-amzn-requestid': '1f9aaf74-aa98-46fb-b6b3-ec252dc2b83c', 'x-amzn-bedrock-invocation-latency': '275', 'x-amzn-bedrock-output-token-count': '22', 'x-amzn-bedrock-input-token-count': '595'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f02e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"am i eligible for an appraisal?\"\n}","prompt_token_count":595,"generation_token_count":22,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: am i eligible for an appraisal?
INFO:__main__:Query stored successfully with ID: 6737e3fdeb8976eedc40a6f2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '90d41f18-bb7a-46db-914a-0ae682e782ed', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 00:14:58 GMT', 'content-type': 'application/json', 'content-length': '1579', 'connection': 'keep-alive', 'x-amzn-requestid': '90d41f18-bb7a-46db-914a-0ae682e782ed', 'x-amzn-bedrock-invocation-latency': '3162', 'x-amzn-bedrock-output-token-count': '380', 'x-amzn-bedrock-input-token-count': '1241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784cd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"You are eligible for an appraisal if you have a minimum of six months of employment in the home country by March 31st of the subsequent year. However, if you are serving a notice period (NP) or have transferred after September 30th, you will not be eligible for an appraisal within the same calendar year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Eligibility for appraisals requires a minimum of six months of employment in the home country by March 31st.\",\n            \"source\": \"International Transfer Policy.pdf - 6/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Employees who transfer after September 30th will not be eligible for an appraisal within the same calendar year.\",\n            \"source\": \"Travel Policy.csv - N/A/Sheet1 - 33\"\n        },\n        {\n            \"Statement\": \"No. Also, if he/she resigns within a month of the increment letter released, the letter stands withdrawn and he/she would be paid as per the previous appraisal letter.\",\n            \"source\": \"HR - Exit Policy.csv - N/A/Sheet1 - 13\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"am i eligible for an appraisal?\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1241,"generation_token_count":380,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737e402eb8976eedc40a6f3
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [16/Nov/2024 00:14:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6737e7b2eb8976eedc40a6f5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7692ac16-a7dd-4cbe-aab7-eba8be066854', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 00:30:45 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '7692ac16-a7dd-4cbe-aab7-eba8be066854', 'x-amzn-bedrock-invocation-latency': '1243', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737e7b5eb8976eedc40a6f6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.211.12.166 - - [16/Nov/2024 00:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ea914098-75f3-44c8-b9fd-09c58cd843ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 01:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ea914098-75f3-44c8-b9fd-09c58cd843ce', 'x-amzn-bedrock-invocation-latency': '351', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784cd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6737f5bceb8976eedc40a6f8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '663b806e-dde6-4d2e-8213-dd169dc84ca2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 01:30:38 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '663b806e-dde6-4d2e-8213-dd169dc84ca2', 'x-amzn-bedrock-invocation-latency': '1212', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47855d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6737f5beeb8976eedc40a6f9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.22.121 - - [16/Nov/2024 01:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '28e8103d-db3a-4b09-b3aa-7b0eaaf98f71', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 02:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '28e8103d-db3a-4b09-b3aa-7b0eaaf98f71', 'x-amzn-bedrock-invocation-latency': '298', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673803c2eb8976eedc40a6fb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '200f3162-b850-4b03-97a7-c9e21c310f7c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 02:30:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '200f3162-b850-4b03-97a7-c9e21c310f7c', 'x-amzn-bedrock-invocation-latency': '1187', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673803c5eb8976eedc40a6fc
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.128.127 - - [16/Nov/2024 02:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673811f9eb8976eedc40a6fe
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e38f882d-bfdd-4cb4-ae95-cf8df677b358', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 03:31:08 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'e38f882d-bfdd-4cb4-ae95-cf8df677b358', 'x-amzn-bedrock-invocation-latency': '1251', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673811fceb8976eedc40a6ff
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.195.35 - - [16/Nov/2024 03:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8ca455ff-95d2-42ee-b9f2-94f05e99c8e1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 04:30:44 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8ca455ff-95d2-42ee-b9f2-94f05e99c8e1', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67381ff4eb8976eedc40a701
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '715b3e90-11b1-497c-97e4-6381ebe4ab46', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 04:30:47 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '715b3e90-11b1-497c-97e4-6381ebe4ab46', 'x-amzn-bedrock-invocation-latency': '1210', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ee30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67381ff7eb8976eedc40a702
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.236.13.213 - - [16/Nov/2024 04:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9e1c7f3-f08a-4219-b2b7-dae4fba1ad7c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 05:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9e1c7f3-f08a-4219-b2b7-dae4fba1ad7c', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787e80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67382de8eb8976eedc40a704
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4dd151f7-ed45-491e-abc2-8cf333809cc0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 05:30:19 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '4dd151f7-ed45-491e-abc2-8cf333809cc0', 'x-amzn-bedrock-invocation-latency': '1224', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67382debeb8976eedc40a705
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.147.12 - - [16/Nov/2024 05:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.151 - - [16/Nov/2024 06:28:58] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67383c3beb8976eedc40a707
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f09e641a-3c6b-4479-93a0-4e989435ed0f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 06:31:26 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'f09e641a-3c6b-4479-93a0-4e989435ed0f', 'x-amzn-bedrock-invocation-latency': '1362', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67383c3eeb8976eedc40a708
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.152.112 - - [16/Nov/2024 06:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b7c980ed-fc33-4f7f-b37a-d1001d1a50fb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 07:31:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b7c980ed-fc33-4f7f-b37a-d1001d1a50fb', 'x-amzn-bedrock-invocation-latency': '318', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67384a4beb8976eedc40a70a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e1424705-1570-4faf-8b28-ac48a57c200c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 07:31:26 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'e1424705-1570-4faf-8b28-ac48a57c200c', 'x-amzn-bedrock-invocation-latency': '1306', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472db10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67384a4eeb8976eedc40a70b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.205.82.210 - - [16/Nov/2024 07:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7de04054-cade-4295-8fb2-a91498bb2e7f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 08:30:38 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7de04054-cade-4295-8fb2-a91498bb2e7f', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786f50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6738582eeb8976eedc40a70d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '49eaf589-7ca6-4f2e-8c91-1a62409b7f82', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 08:30:40 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '49eaf589-7ca6-4f2e-8c91-1a62409b7f82', 'x-amzn-bedrock-invocation-latency': '1246', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c7c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67385830eb8976eedc40a70e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.68.199 - - [16/Nov/2024 08:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8c18f446-4dd6-4cb8-a22d-72a277c38fef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 09:30:40 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '8c18f446-4dd6-4cb8-a22d-72a277c38fef', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":238,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67386640eb8976eedc40a710
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f71bd75f-3de8-4cf0-843e-789d3c70b947', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 09:30:43 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'f71bd75f-3de8-4cf0-843e-789d3c70b947', 'x-amzn-bedrock-invocation-latency': '1205', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721840>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67386643eb8976eedc40a711
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.9.221 - - [16/Nov/2024 09:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e798860e-e318-4138-840e-a2eeb0ed0a5e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 10:30:32 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'e798860e-e318-4138-840e-a2eeb0ed0a5e', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721900>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67387448eb8976eedc40a713
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '99a7846f-5f48-47df-94bf-b029431809fd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 10:30:34 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '99a7846f-5f48-47df-94bf-b029431809fd', 'x-amzn-bedrock-invocation-latency': '1209', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472dc90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738744aeb8976eedc40a714
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.229.117 - - [16/Nov/2024 10:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67388278eb8976eedc40a716
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '536dda83-4565-4b95-a098-a47f00d3cdad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 11:31:07 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '536dda83-4565-4b95-a098-a47f00d3cdad', 'x-amzn-bedrock-invocation-latency': '1342', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472fe80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738827beb8976eedc40a717
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.165.131.239 - - [16/Nov/2024 11:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6738908eeb8976eedc40a719
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0dc54472-cb5e-48fb-978d-30c97f8643d7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 12:31:13 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0dc54472-cb5e-48fb-978d-30c97f8643d7', 'x-amzn-bedrock-invocation-latency': '1264', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cd60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67389091eb8976eedc40a71a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.144.14.228 - - [16/Nov/2024 12:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eacd683e-e4c7-483a-bc5d-502f5688d8d9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 13:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'eacd683e-e4c7-483a-bc5d-502f5688d8d9', 'x-amzn-bedrock-invocation-latency': '311', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472df90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67389e85eb8976eedc40a71c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '619e463b-2e8a-4753-b788-ffdd5cdd2103', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 13:30:48 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '619e463b-2e8a-4753-b788-ffdd5cdd2103', 'x-amzn-bedrock-invocation-latency': '1312', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67389e88eb8976eedc40a71d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.9.221 - - [16/Nov/2024 13:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '941fd244-32bb-40eb-9d38-7c24c9db5524', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 14:30:34 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '941fd244-32bb-40eb-9d38-7c24c9db5524', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6738ac8aeb8976eedc40a71f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c549270-f8f7-4305-929c-3012366ff84f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 14:30:36 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '6c549270-f8f7-4305-929c-3012366ff84f', 'x-amzn-bedrock-invocation-latency': '1329', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ee60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738ac8ceb8976eedc40a720
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.72.192 - - [16/Nov/2024 14:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '61137ac5-2cd4-4770-a107-4d67e7a9f402', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 15:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '61137ac5-2cd4-4770-a107-4d67e7a9f402', 'x-amzn-bedrock-invocation-latency': '309', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47865f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6738ba99eb8976eedc40a722
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '94c9d326-0761-407c-a0b8-7fa05f8eca51', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 15:30:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '94c9d326-0761-407c-a0b8-7fa05f8eca51', 'x-amzn-bedrock-invocation-latency': '1201', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f1f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738ba9beb8976eedc40a723
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.73.253.100 - - [16/Nov/2024 15:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'feeec5b1-56e0-4b3f-adde-88027f53e890', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 16:30:35 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'feeec5b1-56e0-4b3f-adde-88027f53e890', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ebc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":238,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6738c8abeb8976eedc40a725
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '75dbd4f6-0e7e-47de-b5c2-18fad9d414f1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 16:30:38 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '75dbd4f6-0e7e-47de-b5c2-18fad9d414f1', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229630>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738c8aeeb8976eedc40a726
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.211.48 - - [16/Nov/2024 16:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6738d6c5eb8976eedc40a728
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4e6e6f80-40e1-43db-bdc5-ce8cd926f243', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 17:30:48 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '4e6e6f80-40e1-43db-bdc5-ce8cd926f243', 'x-amzn-bedrock-invocation-latency': '1287', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721000>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738d6c8eb8976eedc40a729
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.238.137.123 - - [16/Nov/2024 17:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6738e61ceb8976eedc40a72b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c59f2eb1-dd38-4222-9943-205fccd0a324', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 18:36:15 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c59f2eb1-dd38-4222-9943-205fccd0a324', 'x-amzn-bedrock-invocation-latency': '1381', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738e61feb8976eedc40a72c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.3.65 - - [16/Nov/2024 18:36:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c71d093-58a7-4b1d-8e15-c31211006f87', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 19:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4c71d093-58a7-4b1d-8e15-c31211006f87', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472e170>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6738f2d9eb8976eedc40a72e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e9e27406-f196-4113-9743-91fc08f8306a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 19:30:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'e9e27406-f196-4113-9743-91fc08f8306a', 'x-amzn-bedrock-invocation-latency': '1206', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229480>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6738f2dbeb8976eedc40a72f
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.104.226 - - [16/Nov/2024 19:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.10 - - [16/Nov/2024 19:57:31] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673900f2eb8976eedc40a731
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9c81830e-b2ab-46cd-816b-184ad07e279b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 20:30:45 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '9c81830e-b2ab-46cd-816b-184ad07e279b', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42280a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673900f5eb8976eedc40a732
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.211.48 - - [16/Nov/2024 20:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ad7e607d-383a-4a33-8b0c-5c86312a3cfc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 21:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ad7e607d-383a-4a33-8b0c-5c86312a3cfc', 'x-amzn-bedrock-invocation-latency': '329', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67390eeaeb8976eedc40a734
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e93f46b-fbd4-4be5-964d-170ffe12265e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 21:30:21 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '1e93f46b-fbd4-4be5-964d-170ffe12265e', 'x-amzn-bedrock-invocation-latency': '1207', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67390eedeb8976eedc40a735
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.94.36 - - [16/Nov/2024 21:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41913d37-b54c-4c05-b2c4-519bfb058e4e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 22:30:20 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '41913d37-b54c-4c05-b2c4-519bfb058e4e', 'x-amzn-bedrock-invocation-latency': '391', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47842e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":238,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67391cfceb8976eedc40a737
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b074e8f8-bc93-4269-8385-4159507bb4ef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 22:30:23 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'b074e8f8-bc93-4269-8385-4159507bb4ef', 'x-amzn-bedrock-invocation-latency': '1212', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '975'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":975,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67391cffeb8976eedc40a738
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.80.215.111 - - [16/Nov/2024 22:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67392b18eb8976eedc40a73a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8549ce16-3ef9-4c79-86c7-a8752c46157d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 16 Nov 2024 23:30:35 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '8549ce16-3ef9-4c79-86c7-a8752c46157d', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229de0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67392b1beb8976eedc40a73b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.211.48 - - [16/Nov/2024 23:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67393931eb8976eedc40a73d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1684f88d-ce8c-4f48-bdc3-8ad683518c1c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 00:30:44 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '1684f88d-ce8c-4f48-bdc3-8ad683518c1c', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4229ff0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67393934eb8976eedc40a73e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.94.36 - - [17/Nov/2024 00:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.169 - - [17/Nov/2024 01:29:50] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '15a5d5ca-d17a-4416-8a70-78ae12669244', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 01:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '15a5d5ca-d17a-4416-8a70-78ae12669244', 'x-amzn-bedrock-invocation-latency': '380', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42283a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6739471deb8976eedc40a740
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41fc3dd7-0036-4549-b2b8-819e2df94268', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 01:30:08 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '41fc3dd7-0036-4549-b2b8-819e2df94268', 'x-amzn-bedrock-invocation-latency': '1292', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422a020>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67394720eb8976eedc40a741
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.153.199.23 - - [17/Nov/2024 01:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67395552eb8976eedc40a743
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8641c3ff-4b8a-4872-a41c-6641989146cc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 02:30:45 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '8641c3ff-4b8a-4872-a41c-6641989146cc', 'x-amzn-bedrock-invocation-latency': '1421', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422beb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67395555eb8976eedc40a744
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.126.229 - - [17/Nov/2024 02:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '82b2d0aa-bfe2-4c46-bef7-e965bc8dd990', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 03:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '82b2d0aa-bfe2-4c46-bef7-e965bc8dd990', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1720>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6739634aeb8976eedc40a746
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfc1a56f-c5ae-47ed-803d-f89c13057275', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 03:30:21 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfc1a56f-c5ae-47ed-803d-f89c13057275', 'x-amzn-bedrock-invocation-latency': '1302', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739634deb8976eedc40a747
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.173.240 - - [17/Nov/2024 03:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67397174eb8976eedc40a749
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92fa88ce-d629-4efb-9057-ef6b89b3d63c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 04:30:47 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '92fa88ce-d629-4efb-9057-ef6b89b3d63c', 'x-amzn-bedrock-invocation-latency': '1364', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422ad70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67397177eb8976eedc40a74a
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.232.131.101 - - [17/Nov/2024 04:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67397f9deb8976eedc40a74c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '26c01a69-ed57-4073-89b1-a73e6b1dfeda', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 05:31:11 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '26c01a69-ed57-4073-89b1-a73e6b1dfeda', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472dfc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67397f9feb8976eedc40a74d
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.200.228.11 - - [17/Nov/2024 05:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f916692-b320-4a5e-b278-302febc8b9fb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 06:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7f916692-b320-4a5e-b278-302febc8b9fb', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784d30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67398d82eb8976eedc40a74f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2a8c203f-72b3-430a-bf3f-25f07a1cd36a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 06:30:29 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '2a8c203f-72b3-430a-bf3f-25f07a1cd36a', 'x-amzn-bedrock-invocation-latency': '1320', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422bc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67398d85eb8976eedc40a750
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.228.219.249 - - [17/Nov/2024 06:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'tell me something about reimbursment', 'conversation_id': 'a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG'}
INFO:__main__:Received query: tell me something about reimbursment
INFO:__main__:Received conversation_id: a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67398dddeb8976eedc40a752
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e697bfb2-d95c-47d9-8e31-8a6532d604cf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 06:32:02 GMT', 'content-type': 'application/json', 'content-length': '1999', 'connection': 'keep-alive', 'x-amzn-requestid': 'e697bfb2-d95c-47d9-8e31-8a6532d604cf', 'x-amzn-bedrock-invocation-latency': '3645', 'x-amzn-bedrock-output-token-count': '439', 'x-amzn-bedrock-input-token-count': '1384'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4228610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Reimbursement of certification fees is an opportunity provided by Gemini Solutions to employees for enhancing their competencies. To be eligible for reimbursement, employees must ensure that they use this opportunity in a responsible manner and put in all possible effort to ensure successful completion of the course. The reimbursement process involves prior approval, submission of valid proofs, and verification by the Human Resources department. The amount will be reimbursed post successful completion of the certification and submission of the same to the Human Resource.\",\n    \"References\": [\n        {\n            \"Statement\": \"Reimbursement of Certification fees is an opportunity provided by the Company to employees for enhancing their competencies.\",\n            \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf - 6/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"The employee must ensure that they use this opportunity in a responsible manner and put in all possible effort to ensure successful completion of the course.\",\n            \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf - 6/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"The reimbursement process involves prior approval, submission of valid proofs, and verification by the Human Resources department.\",\n            \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf - 6/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG\",\n        \"query\": \"tell me something about reimbursment\",\n        \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1384,"generation_token_count":439,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67398de2eb8976eedc40a753
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [17/Nov/2024 06:32:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'het', 'conversation_id': 'a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG'}
INFO:__main__:Received query: het
INFO:__main__:Received conversation_id: a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8cab1da-9eba-48e0-81ba-6b5fc6790d7d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 06:32:06 GMT', 'content-type': 'application/json', 'content-length': '167', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8cab1da-9eba-48e0-81ba-6b5fc6790d7d', 'x-amzn-bedrock-invocation-latency': '240', 'x-amzn-bedrock-output-token-count': '19', 'x-amzn-bedrock-input-token-count': '445'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d422b790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"help with reimbursement\"\n}","prompt_token_count":445,"generation_token_count":19,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: help with reimbursement
INFO:__main__:Query stored successfully with ID: 67398de6eb8976eedc40a755
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hey', 'conversation_id': 'a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG'}
INFO:__main__:Received query: hey
INFO:__main__:Received conversation_id: a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b2ce279a-c1a5-4e47-be25-a64e9c807a03', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 06:32:08 GMT', 'content-type': 'application/json', 'content-length': '167', 'connection': 'keep-alive', 'x-amzn-requestid': 'b2ce279a-c1a5-4e47-be25-a64e9c807a03', 'x-amzn-bedrock-invocation-latency': '244', 'x-amzn-bedrock-output-token-count': '19', 'x-amzn-bedrock-input-token-count': '457'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4774fa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"help with reimbursement\"\n}","prompt_token_count":457,"generation_token_count":19,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: help with reimbursement
INFO:__main__:Query stored successfully with ID: 67398de8eb8976eedc40a757
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a4961946-a7b8-4de5-a23e-d0e8feb713fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 06:32:11 GMT', 'content-type': 'application/json', 'content-length': '1858', 'connection': 'keep-alive', 'x-amzn-requestid': 'a4961946-a7b8-4de5-a23e-d0e8feb713fa', 'x-amzn-bedrock-invocation-latency': '3719', 'x-amzn-bedrock-output-token-count': '448', 'x-amzn-bedrock-input-token-count': '1291'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42257e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To claim reimbursement, you must ensure that you have passed the exam. If you have, you should raise a request for reimbursement along with all valid proofs to the Human Resources department. Once the verification process is successful, you can apply for reimbursement on the MIS system under the 'My Reimbursements' section. Note that the reimbursement will be processed on the 11th of the upcoming month, and you must submit your claims with approval by the last working day of the month.\",\n    \"References\": [\n        {\n            \"Statement\": \"If the employee do not pass the exam, they must not request for reimbursement.\",\n            \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf - 6/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Once the verification process would be successful, employee shall apply on MIS (under 'My Reimbursements' section) and the amount would be reimbursed.\",\n            \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf - 6/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"The cut-out date for submission of claims with approval of required authority is the last day of every month unless otherwise communicated.\",\n            \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf - 7/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG\",\n        \"query\": \"help with reimbursement\",\n        \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1291,"generation_token_count":448,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67398debeb8976eedc40a758
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [17/Nov/2024 06:32:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9f273f34-d1f2-4b30-8f95-8f32ffb2c19e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 06:32:13 GMT', 'content-type': 'application/json', 'content-length': '1877', 'connection': 'keep-alive', 'x-amzn-requestid': '9f273f34-d1f2-4b30-8f95-8f32ffb2c19e', 'x-amzn-bedrock-invocation-latency': '3754', 'x-amzn-bedrock-output-token-count': '451', 'x-amzn-bedrock-input-token-count': '1291'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4225810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To claim reimbursement, you must ensure that you have passed the exam. If you have, you should raise a request for reimbursement along with all valid proofs to the Human Resources department. Once the verification process is successful, you can apply for reimbursement on the MIS system under the 'My Reimbursements' section. Note that the reimbursement will be processed on the 11th of the upcoming month, and you must submit your claim with approval of the required authority by the last day of every month.\",\n    \"References\": [\n        {\n            \"Statement\": \"If the employee do not pass the exam, they must not request for reimbursement.\",\n            \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf - 6/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Once the verification process would be successful, employee shall apply on MIS (under 'My Reimbursements' section) and the amount would be reimbursed.\",\n            \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf - 6/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"The cut-out date for submission of claims with approval of required authority is the last day of every month unless otherwise communicated.\",\n            \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf - 7/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Lxg4hdFAnusYQHgeb11U8pZy_9DKdfxPEwK_lWOC7ozt2CULZHzPydGdMzJMWHQ2yzU7YDrXiD3hyLCXSPo6QGf70LDX4NGfnpIx5A3Ga8B_msIDmJKUOqzSM0vOSLIG\",\n        \"query\": \"help with reimbursement\",\n        \"source\": \"Gemini-Employee Certification Policy_Version 2.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1291,"generation_token_count":451,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67398dedeb8976eedc40a759
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [17/Nov/2024 06:32:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67399b9feb8976eedc40a75b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3e273184-ddfa-4533-9703-ba8bcd8d29cf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 07:30:42 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3e273184-ddfa-4533-9703-ba8bcd8d29cf', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67399ba2eb8976eedc40a75c
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.238.158.200 - - [17/Nov/2024 07:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0936ede9-d0a8-4d9d-ab94-1a05e68f5376', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 08:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0936ede9-d0a8-4d9d-ab94-1a05e68f5376', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6739a999eb8976eedc40a75e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13f3f801-2749-496d-b333-4cf8d7eda924', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 08:30:19 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '13f3f801-2749-496d-b333-4cf8d7eda924', 'x-amzn-bedrock-invocation-latency': '1328', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722410>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739a99beb8976eedc40a75f
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.201.19 - - [17/Nov/2024 08:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6739b7e0eb8976eedc40a761
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b9c98170-145b-408b-9152-322d47ece939', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 09:31:14 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'b9c98170-145b-408b-9152-322d47ece939', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47217e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739b7e2eb8976eedc40a762
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.146.182 - - [17/Nov/2024 09:31:14] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [17/Nov/2024 10:17:27] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [17/Nov/2024 10:17:27] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0629b870-a593-4fe5-b7b3-f91bb939ae86', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 10:31:02 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0629b870-a593-4fe5-b7b3-f91bb939ae86', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42259c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6739c5e6eb8976eedc40a764
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64cfc1b9-9079-42e6-baa0-f0c0c348ee39', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 10:31:05 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '64cfc1b9-9079-42e6-baa0-f0c0c348ee39', 'x-amzn-bedrock-invocation-latency': '1210', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42252d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739c5e9eb8976eedc40a765
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.147.145.115 - - [17/Nov/2024 10:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a6c4992d-ddcd-464c-b9ee-2e23e4099aec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 11:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a6c4992d-ddcd-464c-b9ee-2e23e4099aec', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4226200>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6739d3d3eb8976eedc40a767
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cf1f3cc6-bfd4-4c67-8417-8a051b348b7b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 11:30:29 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'cf1f3cc6-bfd4-4c67-8417-8a051b348b7b', 'x-amzn-bedrock-invocation-latency': '1212', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723d30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739d3d5eb8976eedc40a768
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.76.125 - - [17/Nov/2024 11:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6739e20eeb8976eedc40a76a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '31964c77-83d6-4b9f-ab4d-11b1f30120fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 12:31:12 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '31964c77-83d6-4b9f-ab4d-11b1f30120fa', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722dd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739e210eb8976eedc40a76b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.76.125 - - [17/Nov/2024 12:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '45a2d7ae-dd74-46b2-9b87-4f7041006d58', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 13:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '45a2d7ae-dd74-46b2-9b87-4f7041006d58', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4227700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6739efe3eb8976eedc40a76d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd6d4636c-f432-443c-86d9-8e5149d97843', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 13:30:14 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'd6d4636c-f432-443c-86d9-8e5149d97843', 'x-amzn-bedrock-invocation-latency': '1312', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47236a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739efe6eb8976eedc40a76e
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.72.143.97 - - [17/Nov/2024 13:30:14] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:199.45.154.145 - - [17/Nov/2024 14:18:27] code 400, message Bad request version ('À\x14À')
INFO:werkzeug:199.45.154.145 - - [17/Nov/2024 14:18:27] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03\x8c\x7f\x08¸þ\x16\x80pVF¿:ãjì8\x0e¡xpé¶¨·neÈÒ4Àtã !ùM%{\\'Õß©$Ò2eNóô7\x99Û·æªÎpVXZ\x9eÄêQ\x00&Ì¨Ì©À/À0À+À,À\x13À\x09À\x14À[0m" 400 -
INFO:werkzeug:199.45.154.145 - - [17/Nov/2024 14:18:31] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:199.45.154.145 - - [17/Nov/2024 14:18:34] "[33mGET / HTTP/1.1[0m" 404 -
ERROR:werkzeug:199.45.154.145 - - [17/Nov/2024 14:18:35] code 505, message Invalid HTTP version (2.0)
INFO:werkzeug:199.45.154.145 - - [17/Nov/2024 14:18:35] "[35m[1mPRI * HTTP/2.0[0m" 505 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6739fe0ceb8976eedc40a770
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '308f4c06-9544-4f27-842d-3c30d863e980', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 14:30:39 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '308f4c06-9544-4f27-842d-3c30d863e980', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6739fe0feb8976eedc40a771
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.186.160 - - [17/Nov/2024 14:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673a0c42eb8976eedc40a773
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8ec596db-21fe-4d26-bb54-420cd64c1a55', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 15:31:16 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '8ec596db-21fe-4d26-bb54-420cd64c1a55', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47229e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a0c44eb8976eedc40a774
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.80.218.161 - - [17/Nov/2024 15:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bdb6d2d4-f2d3-4735-ab72-30a410f4fe6b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 16:30:46 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bdb6d2d4-f2d3-4735-ab72-30a410f4fe6b', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4224a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673a1a36eb8976eedc40a776
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8f216520-81ce-4d66-9a43-4d59e0bb93f4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 16:30:48 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '8f216520-81ce-4d66-9a43-4d59e0bb93f4', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a1a38eb8976eedc40a777
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.96.151 - - [17/Nov/2024 16:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f7a5ec2e-1409-46d6-982c-86a121d1fde8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 17:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f7a5ec2e-1409-46d6-982c-86a121d1fde8', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47206d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673a2823eb8976eedc40a779
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd4ead964-e3f5-4d83-858e-ab17a263c251', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 17:30:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'd4ead964-e3f5-4d83-858e-ab17a263c251', 'x-amzn-bedrock-invocation-latency': '1318', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0e50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a2825eb8976eedc40a77a
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.29.11.208 - - [17/Nov/2024 17:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673a378feb8976eedc40a77c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6076f5b9-b09f-46ae-aa1a-7fb397785bd0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 18:36:02 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '6076f5b9-b09f-46ae-aa1a-7fb397785bd0', 'x-amzn-bedrock-invocation-latency': '1413', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42244f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a3792eb8976eedc40a77d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.82.11 - - [17/Nov/2024 18:36:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8571e81-1233-4dc1-ab72-d82a67290293', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 19:31:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8571e81-1233-4dc1-ab72-d82a67290293', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4227580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673a448beb8976eedc40a77f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0b0188d3-2a38-4ae2-9414-a7d920b8e0d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 19:31:26 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0b0188d3-2a38-4ae2-9414-a7d920b8e0d8', 'x-amzn-bedrock-invocation-latency': '1200', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a448eeb8976eedc40a780
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.64.66 - - [17/Nov/2024 19:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '659f8ca4-1482-4cda-b994-c5c0f631ac21', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 20:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '659f8ca4-1482-4cda-b994-c5c0f631ac21', 'x-amzn-bedrock-invocation-latency': '291', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673a525eeb8976eedc40a782
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e9e7dbf6-af74-40bb-9cb0-0184b1892c6d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 20:30:24 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'e9e7dbf6-af74-40bb-9cb0-0184b1892c6d', 'x-amzn-bedrock-invocation-latency': '1324', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3dc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a5260eb8976eedc40a783
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.195.35.108 - - [17/Nov/2024 20:30:24] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:162.216.149.50 - - [17/Nov/2024 21:26:34] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:162.216.149.50 - - [17/Nov/2024 21:26:34] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03 ;¥HP\x9c\x00>\x9b£¯¿¥\x9eJÇ\x08µt¨Â?B\x85\x97·ñ\x16·~\x8e\x92 ñ@u\x86&bÕÃÍ·\x15:å½ÆêÄAP\x1e\x8dÀG\\\x8cm\x83ê{³O\x1d\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" 400 -
ERROR:werkzeug:162.216.149.50 - - [17/Nov/2024 21:26:35] code 400, message Bad request syntax ('\x16\x03\x01\x00Ê\x01\x00\x00Æ\x03\x03ÍÅZF²Ò\x92ÍËf')
INFO:werkzeug:162.216.149.50 - - [17/Nov/2024 21:26:35] "[31m[1m\x16\x03\x01\x00Ê\x01\x00\x00Æ\x03\x03ÍÅZF²Ò\x92ÍËf[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673a608eeb8976eedc40a785
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a137683-e667-4f23-9827-8bb2ccc8cf63', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 21:30:57 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '9a137683-e667-4f23-9827-8bb2ccc8cf63', 'x-amzn-bedrock-invocation-latency': '1252', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f0e80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a6091eb8976eedc40a786
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.22.15.5 - - [17/Nov/2024 21:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd859da05-fc49-4c8b-bf30-acea28411bb5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 22:30:49 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd859da05-fc49-4c8b-bf30-acea28411bb5', 'x-amzn-bedrock-invocation-latency': '360', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472cb80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673a6e99eb8976eedc40a788
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e265a4e6-b3a1-4a30-96f9-48b270617daf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 22:30:51 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'e265a4e6-b3a1-4a30-96f9-48b270617daf', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f8b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a6e9beb8976eedc40a789
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.222.0 - - [17/Nov/2024 22:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:152.32.225.3 - - [17/Nov/2024 22:35:13] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1ab5e1b-fe1c-43ab-b7be-0a4fa6d0737b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 23:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1ab5e1b-fe1c-43ab-b7be-0a4fa6d0737b', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472d7e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673a7c83eb8976eedc40a78b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0286beb3-8f4a-4f02-bc6e-ccf3f0c0f18c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 17 Nov 2024 23:30:13 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '0286beb3-8f4a-4f02-bc6e-ccf3f0c0f18c', 'x-amzn-bedrock-invocation-latency': '1310', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a7c85eb8976eedc40a78c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.200.21 - - [17/Nov/2024 23:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.3 - - [18/Nov/2024 00:08:26] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '107e0434-11d6-476a-84c9-1af7060ae7df', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 00:30:08 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '107e0434-11d6-476a-84c9-1af7060ae7df', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4225300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673a8a90eb8976eedc40a78e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c3172363-4193-4b95-aae8-6b76668079a2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 00:30:10 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c3172363-4193-4b95-aae8-6b76668079a2', 'x-amzn-bedrock-invocation-latency': '1313', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f15d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a8a92eb8976eedc40a78f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.200.21 - - [18/Nov/2024 00:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2e340405-8e8a-4afe-97d6-5ef39a4a408e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 01:30:10 GMT', 'content-type': 'application/json', 'content-length': '193', 'connection': 'keep-alive', 'x-amzn-requestid': '2e340405-8e8a-4afe-97d6-5ef39a4a408e', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '251'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4723d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What are the types of leaves in Gemini Solutions?\"\n}","prompt_token_count":251,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the types of leaves in Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 673a98a2eb8976eedc40a791
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1cad3053-5ef4-4906-96e0-13b6a57f8ab3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 01:30:12 GMT', 'content-type': 'application/json', 'content-length': '720', 'connection': 'keep-alive', 'x-amzn-requestid': '1cad3053-5ef4-4906-96e0-13b6a57f8ab3', 'x-amzn-bedrock-invocation-latency': '1218', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41879a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What are the types of leaves in Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673a98a4eb8976eedc40a792
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.196.220.70 - - [18/Nov/2024 01:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673aa6f7eb8976eedc40a794
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5ca7efdb-67e1-4972-9a14-2fb718d042af', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 02:31:22 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '5ca7efdb-67e1-4972-9a14-2fb718d042af', 'x-amzn-bedrock-invocation-latency': '1312', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4722560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673aa6faeb8976eedc40a795
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.124.2 - - [18/Nov/2024 02:31:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3253b79a-9b73-4138-aeb1-a7846db3d468', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 03:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3253b79a-9b73-4138-aeb1-a7846db3d468', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47226b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673ab4cbeb8976eedc40a797
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4de93242-f739-4184-bc5b-e4e3088a57a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 03:30:21 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '4de93242-f739-4184-bc5b-e4e3088a57a0', 'x-amzn-bedrock-invocation-latency': '1306', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673ab4cdeb8976eedc40a798
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.142.184 - - [18/Nov/2024 03:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673ac2faeb8976eedc40a79a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0ca35c33-e170-45e5-af5b-9b376921c8c7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 04:30:52 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '0ca35c33-e170-45e5-af5b-9b376921c8c7', 'x-amzn-bedrock-invocation-latency': '1271', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1b10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673ac2fceb8976eedc40a79b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.156.200 - - [18/Nov/2024 04:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673ad114eb8976eedc40a79d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fe2a5735-d137-46fe-ad07-1ebe7c1218ab', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 05:31:03 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'fe2a5735-d137-46fe-ad07-1ebe7c1218ab', 'x-amzn-bedrock-invocation-latency': '1226', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673ad117eb8976eedc40a79e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.205.104.163 - - [18/Nov/2024 05:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '276b97b6-2207-44ec-9fe0-4e9bd5e8c334', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 06:30:57 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '276b97b6-2207-44ec-9fe0-4e9bd5e8c334', 'x-amzn-bedrock-invocation-latency': '280', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4224520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673adf21eb8976eedc40a7a0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'baa98659-8873-4d34-9c39-ada03ce562eb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 06:30:59 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'baa98659-8873-4d34-9c39-ada03ce562eb', 'x-amzn-bedrock-invocation-latency': '1200', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4226fe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673adf23eb8976eedc40a7a1
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.195.79.72 - - [18/Nov/2024 06:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673aed42eb8976eedc40a7a3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f0e48ab-8e2f-4f07-9949-fbfaef5bd694', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 07:31:17 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '7f0e48ab-8e2f-4f07-9949-fbfaef5bd694', 'x-amzn-bedrock-invocation-latency': '1222', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42266b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673aed45eb8976eedc40a7a4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.211.236.144 - - [18/Nov/2024 07:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:184.105.247.194 - - [18/Nov/2024 07:44:28] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:184.105.247.194 - - [18/Nov/2024 07:44:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8e22a449-8c03-4b1b-b05a-0b4961862ea8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 08:30:24 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8e22a449-8c03-4b1b-b05a-0b4961862ea8', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673afb20eb8976eedc40a7a6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3b6790c4-d1b3-4b36-b3cd-39fdf9fc0f9c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 08:30:27 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3b6790c4-d1b3-4b36-b3cd-39fdf9fc0f9c', 'x-amzn-bedrock-invocation-latency': '1223', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786c50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673afb23eb8976eedc40a7a7
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.188.197 - - [18/Nov/2024 08:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:57.151.70.243 - - [18/Nov/2024 08:39:51] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673b094aeb8976eedc40a7a9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2595679c-6902-4816-87a4-6dba8fa5132a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 09:30:53 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '2595679c-6902-4816-87a4-6dba8fa5132a', 'x-amzn-bedrock-invocation-latency': '1299', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b094deb8976eedc40a7aa
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.119.169 - - [18/Nov/2024 09:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673b1768eb8976eedc40a7ac
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '25c668b9-662c-4b2e-af11-523a5d4c324b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 10:31:06 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '25c668b9-662c-4b2e-af11-523a5d4c324b', 'x-amzn-bedrock-invocation-latency': '1208', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f15a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b176aeb8976eedc40a7ad
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.142.241 - - [18/Nov/2024 10:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dd0d262f-238f-4944-913d-25abcef9c1f7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 11:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'dd0d262f-238f-4944-913d-25abcef9c1f7', 'x-amzn-bedrock-invocation-latency': '379', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47203a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673b253deb8976eedc40a7af
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a59739be-cdad-4e1c-b810-627c015df778', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 11:30:08 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'a59739be-cdad-4e1c-b810-627c015df778', 'x-amzn-bedrock-invocation-latency': '1217', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b2540eb8976eedc40a7b0
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.85.119.65 - - [18/Nov/2024 11:30:08] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:80.66.83.114 - - [18/Nov/2024 12:28:25] code 400, message Bad request syntax ('\x04\x01\x00\x194e)\x1b\x00')
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 12:28:25] "[31m[1m\x04\x01\x00\x194e)\x1b\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [18/Nov/2024 12:28:26] code 400, message Bad request syntax ('\x04\x01\x00\x19h/\x12á\x00')
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 12:28:26] "[31m[1m\x04\x01\x00\x19h/\x12á\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [18/Nov/2024 12:29:25] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 12:29:25] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 12:29:25] "[33mCONNECT hotmail-com.olc.protection.outlook.com:25 HTTP/1.1[0m" 404 -
ERROR:werkzeug:80.66.83.114 - - [18/Nov/2024 12:29:26] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 12:29:26] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 12:29:26] "[33mCONNECT hotmail-com.olc.protection.outlook.com:25 HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673b335feb8976eedc40a7b2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cc655222-c08f-44fd-8e69-44549678012a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 12:30:26 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'cc655222-c08f-44fd-8e69-44549678012a', 'x-amzn-bedrock-invocation-latency': '1349', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b3362eb8976eedc40a7b3
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.90.154.85 - - [18/Nov/2024 12:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673b41a4eb8976eedc40a7b5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9f85e1af-8db7-41ae-8595-b345849be353', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 13:31:19 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '9f85e1af-8db7-41ae-8595-b345849be353', 'x-amzn-bedrock-invocation-latency': '1280', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b41a7eb8976eedc40a7b6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.213.102 - - [18/Nov/2024 13:31:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cccda087-1ae5-41e6-b58e-e4d738a6ce5a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 14:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cccda087-1ae5-41e6-b58e-e4d738a6ce5a', 'x-amzn-bedrock-invocation-latency': '295', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4787730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673b4f86eb8976eedc40a7b8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '975b805c-de10-4cbf-9669-79a73c654f3c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 14:30:32 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '975b805c-de10-4cbf-9669-79a73c654f3c', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4786c20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b4f88eb8976eedc40a7b9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.4.247 - - [18/Nov/2024 14:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673b5d9aeb8976eedc40a7bb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c93c4be-52b2-4f2f-a977-9862591d6060', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 15:30:36 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '6c93c4be-52b2-4f2f-a977-9862591d6060', 'x-amzn-bedrock-invocation-latency': '1254', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784fa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b5d9ceb8976eedc40a7bc
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.206.35.217 - - [18/Nov/2024 15:30:36] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:80.66.83.114 - - [18/Nov/2024 15:42:48] code 400, message Bad HTTP/0.9 request type ('\x04\x01\x00PUÎ')
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 15:42:48] "[31m[1m\x04\x01\x00PUÎ s\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [18/Nov/2024 15:43:48] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 15:43:48] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [18/Nov/2024 15:43:48] "[33mCONNECT 85.206.160.115:80 HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673b6bd4eb8976eedc40a7be
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3163299c-372c-44c5-9ee8-00c961ac707c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 16:31:18 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3163299c-372c-44c5-9ee8-00c961ac707c', 'x-amzn-bedrock-invocation-latency': '1245', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47877c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b6bd6eb8976eedc40a7bf
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.4.247 - - [18/Nov/2024 16:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '73cdcbd1-0e86-4012-a08d-805e6512322b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 17:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '73cdcbd1-0e86-4012-a08d-805e6512322b', 'x-amzn-bedrock-invocation-latency': '281', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d47870d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673b79a1eb8976eedc40a7c1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1bc4d807-fb0f-4fae-955e-e77dbe539ae0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 17:30:11 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '1bc4d807-fb0f-4fae-955e-e77dbe539ae0', 'x-amzn-bedrock-invocation-latency': '1200', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b79a3eb8976eedc40a7c2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.4.247 - - [18/Nov/2024 17:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673b8818eb8976eedc40a7c4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ea2bbda8-d0dd-4bc2-896a-c9818c03e9d1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 18:31:54 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'ea2bbda8-d0dd-4bc2-896a-c9818c03e9d1', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4720130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b881aeb8976eedc40a7c5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.172.193.81 - - [18/Nov/2024 18:31:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b5ecf2b6-473b-4400-ac2c-83ab80b000b9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 19:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b5ecf2b6-473b-4400-ac2c-83ab80b000b9', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673b95dceb8976eedc40a7c7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '057ec6f9-cc6c-4dc2-b719-7b808919a435', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 19:30:38 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '057ec6f9-cc6c-4dc2-b719-7b808919a435', 'x-amzn-bedrock-invocation-latency': '1203', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785ff0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673b95deeb8976eedc40a7c8
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.22.75.71 - - [18/Nov/2024 19:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '284045fb-fbe3-4e61-858e-baf2c7674a7e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 20:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '284045fb-fbe3-4e61-858e-baf2c7674a7e', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f1ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673ba3ebeb8976eedc40a7ca
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aa85e685-85f5-4a2b-aa34-d21281cf8a2e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 20:30:38 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'aa85e685-85f5-4a2b-aa34-d21281cf8a2e', 'x-amzn-bedrock-invocation-latency': '1323', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673ba3eeeb8976eedc40a7cb
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.248.51 - - [18/Nov/2024 20:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2b3f93fb-ab67-455c-89b7-954cc602a889', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 21:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2b3f93fb-ab67-455c-89b7-954cc602a889', 'x-amzn-bedrock-invocation-latency': '314', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673bb1e7eb8976eedc40a7cd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '775c2ff3-272a-42ee-83ec-7f55e54e68a2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 21:30:18 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '775c2ff3-272a-42ee-83ec-7f55e54e68a2', 'x-amzn-bedrock-invocation-latency': '1294', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d51ccdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673bb1eaeb8976eedc40a7ce
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.153.182.208 - - [18/Nov/2024 21:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673bc01deb8976eedc40a7d0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0180a284-f42a-4188-b721-3ce9114e0bfc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 22:30:56 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '0180a284-f42a-4188-b721-3ce9114e0bfc', 'x-amzn-bedrock-invocation-latency': '1333', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f19f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673bc020eb8976eedc40a7d1
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.199.238 - - [18/Nov/2024 22:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '56f2db81-afde-4c49-a64c-d29271f5e7e4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 23:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '56f2db81-afde-4c49-a64c-d29271f5e7e4', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4225960>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673bce0feb8976eedc40a7d3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a8b1bfe-6ba4-4a44-ac17-fa0ed8fd186d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 18 Nov 2024 23:30:26 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '3a8b1bfe-6ba4-4a44-ac17-fa0ed8fd186d', 'x-amzn-bedrock-invocation-latency': '1355', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785330>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673bce12eb8976eedc40a7d4
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.73.16 - - [18/Nov/2024 23:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673bdc4ceb8976eedc40a7d6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9bef126-ec96-4227-9ae9-809de1578486', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 00:31:10 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9bef126-ec96-4227-9ae9-809de1578486', 'x-amzn-bedrock-invocation-latency': '1335', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4784580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673bdc4eeb8976eedc40a7d7
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.247.142 - - [19/Nov/2024 00:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a8af3cd4-fca4-4760-9463-a63268ce112c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 01:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a8af3cd4-fca4-4760-9463-a63268ce112c', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4785a50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673bea33eb8976eedc40a7d9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'de9054bd-f871-4b34-b3ef-da99e6f283a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 01:30:30 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'de9054bd-f871-4b34-b3ef-da99e6f283a6', 'x-amzn-bedrock-invocation-latency': '1319', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42288e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673bea36eb8976eedc40a7da
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.174.116 - - [19/Nov/2024 01:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673bf866eb8976eedc40a7dc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed98a69d-0f7d-4a59-aee7-3d40483fce86', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 02:31:04 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed98a69d-0f7d-4a59-aee7-3d40483fce86', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4721f90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673bf868eb8976eedc40a7dd
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.101.236 - - [19/Nov/2024 02:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673c0689eb8976eedc40a7df
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3f952a20-9c30-4b8b-87bf-ba3ca11824ef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 03:31:24 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '3f952a20-9c30-4b8b-87bf-ba3ca11824ef', 'x-amzn-bedrock-invocation-latency': '1296', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2260>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c068ceb8976eedc40a7e0
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.101.236 - - [19/Nov/2024 03:31:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'in which month sl and cl gets lapsed', 'conversation_id': 'a:1tbgC4eOBrgBH3E6_B6uKI6PVaiYHWuA7rOpYQlUv6uQhIY8mS0GhDPbUUS0Na27efOhrAV4aCzMym1002YLqNynK081w75NGXXW0SSTPmdOz-TUkkUV1O3zzJOloNftO'}
INFO:__main__:Received query: in which month sl and cl gets lapsed
INFO:__main__:Received conversation_id: a:1tbgC4eOBrgBH3E6_B6uKI6PVaiYHWuA7rOpYQlUv6uQhIY8mS0GhDPbUUS0Na27efOhrAV4aCzMym1002YLqNynK081w75NGXXW0SSTPmdOz-TUkkUV1O3zzJOloNftO
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673c1161eb8976eedc40a7e2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ad73b362-8077-4b4e-8843-c35167f9d7c3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 04:17:42 GMT', 'content-type': 'application/json', 'content-length': '1274', 'connection': 'keep-alive', 'x-amzn-requestid': 'ad73b362-8077-4b4e-8843-c35167f9d7c3', 'x-amzn-bedrock-invocation-latency': '3030', 'x-amzn-bedrock-output-token-count': '356', 'x-amzn-bedrock-input-token-count': '1318'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f19c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"*SL (Sick Leaves) and CL (Casual Leaves) lapse at the end of the quarter.* According to the policy, CLs will lapse at the end of every quarter, and SLs will lapse at the end of the financial year.\",\n    \"References\": [\n        {\n            \"Statement\": \"CL's will automatically be lapsed at the end of every quarter, although we would encourage TT/GET to take leaves only during emergencies.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - 7/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"6.11 No CL would be converted to PL after completion of the financial year. All the un-availed CLs would lapse by end of the financial year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - 8/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1tbgC4eOBrgBH3E6_B6uKI6PVaiYHWuA7rOpYQlUv6uQhIY8mS0GhDPbUUS0Na27efOhrAV4aCzMym1002YLqNynK081w75NGXXW0SSTPmdOz-TUkkUV1O3zzJOloNftO\",\n        \"query\": \"in which month sl and cl gets lapsed\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1318,"generation_token_count":356,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c1166eb8976eedc40a7e3
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [19/Nov/2024 04:17:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1ae15ff-bde8-4e67-a7ff-562c93db6bea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 04:31:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1ae15ff-bde8-4e67-a7ff-562c93db6bea', 'x-amzn-bedrock-invocation-latency': '320', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f10f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673c148eeb8976eedc40a7e5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '327f0fa0-b074-4559-b46c-c26ad75d18c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 04:31:13 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '327f0fa0-b074-4559-b46c-c26ad75d18c5', 'x-amzn-bedrock-invocation-latency': '1187', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472ef20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c1491eb8976eedc40a7e6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.90.158.107 - - [19/Nov/2024 04:31:13] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:47.250.52.85 - - [19/Nov/2024 04:46:34] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:47.250.52.85 - - [19/Nov/2024 04:46:34] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03I\x06²ù¼\x99iÀYûøºe-\x83Ud]\x0e\x8d·b8´gÆÝ9dZ8f gÁ\x81i³öòË°©\x19NÖ½\x95g|püé<Z¡\x90T·é¥8'O;\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" 400 -
INFO:werkzeug:47.250.52.85 - - [19/Nov/2024 04:46:45] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:23.145.40.147 - - [19/Nov/2024 04:50:32] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '775c2b18-8922-435c-b125-bdd6a2b08365', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 05:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '775c2b18-8922-435c-b125-bdd6a2b08365', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f3ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673c2279eb8976eedc40a7e8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6da1e8fb-a65a-4c5d-81d0-77811990a718', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 05:30:35 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '6da1e8fb-a65a-4c5d-81d0-77811990a718', 'x-amzn-bedrock-invocation-latency': '1192', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c227beb8976eedc40a7e9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.101.125 - - [19/Nov/2024 05:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.133 - - [19/Nov/2024 05:41:16] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:65.49.20.68 - - [19/Nov/2024 06:13:42] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:65.49.20.68 - - [19/Nov/2024 06:13:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673c30adeb8976eedc40a7eb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '549351a0-8dbe-4b22-a2d3-7c7817f9f31f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 06:31:12 GMT', 'content-type': 'application/json', 'content-length': '709', 'connection': 'keep-alive', 'x-amzn-requestid': '549351a0-8dbe-4b22-a2d3-7c7817f9f31f', 'x-amzn-bedrock-invocation-latency': '1256', 'x-amzn-bedrock-output-token-count': '137', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d42270a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers three types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":137,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c30b0eb8976eedc40a7ec
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.46.226 - - [19/Nov/2024 06:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673c3ed0eb8976eedc40a7ee
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04b14a13-6170-4094-8602-851492922758', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 07:31:31 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '04b14a13-6170-4094-8602-851492922758', 'x-amzn-bedrock-invocation-latency': '1286', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f430>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c3ed3eb8976eedc40a7ef
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.230.73.143 - - [19/Nov/2024 07:31:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b185d4d-cafb-4e85-b160-c4fd33d5fb64', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 08:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1b185d4d-cafb-4e85-b160-c4fd33d5fb64', 'x-amzn-bedrock-invocation-latency': '299', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d4225e70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673c4cafeb8976eedc40a7f1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f31f9859-4cb7-4d59-82c3-0800399155e1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 08:30:42 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': 'f31f9859-4cb7-4d59-82c3-0800399155e1', 'x-amzn-bedrock-invocation-latency': '1319', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472c910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c4cb2eb8976eedc40a7f2
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.232.91.52 - - [19/Nov/2024 08:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 673c5ae2eb8976eedc40a7f4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2d4a67fa-74ec-41a4-89dc-8a5617f5cf37', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 09:31:17 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '2d4a67fa-74ec-41a4-89dc-8a5617f5cf37', 'x-amzn-bedrock-invocation-latency': '1315', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2200>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c5ae5eb8976eedc40a7f5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.182.13 - - [19/Nov/2024 09:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3ca94795-a33d-44a3-aac8-3de4c20bf4ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 10:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3ca94795-a33d-44a3-aac8-3de4c20bf4ce', 'x-amzn-bedrock-invocation-latency': '351', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '277'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d41f2260>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":277,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 673c68c7eb8976eedc40a7f7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '59f386d2-c1e6-4d9d-9fab-f0bf164e2106', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 19 Nov 2024 10:30:33 GMT', 'content-type': 'application/json', 'content-length': '774', 'connection': 'keep-alive', 'x-amzn-requestid': '59f386d2-c1e6-4d9d-9fab-f0bf164e2106', 'x-amzn-bedrock-invocation-latency': '1310', 'x-amzn-bedrock-output-token-count': '150', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf034d472f850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Question: What are the type of leaves in Gemini? Answer: Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - N/A - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"39\"\n    }\n}","prompt_token_count":1187,"generation_token_count":150,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 673c68c9eb8976eedc40a7f8
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.163.143.111 - - [19/Nov/2024 10:30:33] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:123.144.24.91 - - [19/Nov/2024 10:39:57] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:123.144.24.91 - - [19/Nov/2024 10:39:57] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03éTòo\x89§\x9f\x9b<SäÎ¤´~çyòª\x0e\x8a\x9cJÊÅ\x13âæt\x09ª¼ \x0b»iwyÎ´ïÒÞß,q(\x85 \x9eI\x03¼×\x10/\x18èhÈb\x05d%}\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" 400 -
ERROR:werkzeug:171.37.47.185 - - [19/Nov/2024 10:39:59] code 400, message Bad request version ('À\x13À')
INFO:werkzeug:171.37.47.185 - - [19/Nov/2024 10:39:59] "[31m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03\x12&7\x88ÐZ\x0cT¬\x14ïVð»N¢Ô×ÊØâ¨§hóý\x98ã\x96>\x11Ð Üä®µ\x1a¡\x0bs(ÜEÔ\x18Z\x89u\x1b\x7f\x8cZ\x13ü@·/e\x12¦z\x04\x1cì\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" 400 -
ERROR:werkzeug:182.138.158.242 - - [19/Nov/2024 10:40:58] code 400, message Bad HTTP/0.9 request type ('USER')
INFO:werkzeug:182.138.158.242 - - [19/Nov/2024 10:40:58] "[31m[1mUSER anonymous[0m" 400 -
