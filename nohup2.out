 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.247:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what if i fail to follow the compliance?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what if i fail to follow the compliance?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:botocore.credentials:Found credentials from IAM Role: ACCESS_TO_AWS_SERVICES
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '37eb1c05-7078-4b19-a4d9-23a090e1b370', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 07:47:40 GMT', 'content-type': 'application/json', 'content-length': '199', 'connection': 'keep-alive', 'x-amzn-requestid': '37eb1c05-7078-4b19-a4d9-23a090e1b370', 'x-amzn-bedrock-invocation-latency': '324', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '452'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe5774cbad3c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what happens if i don't comply with the vehicle policy?\"\n}","prompt_token_count":452,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what happens if i don't comply with the vehicle policy?
INFO:__main__:Query stored successfully with ID: 66fba91c23e9d4d6f301ac53
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8248b57c-6db5-4ac1-a436-135b1ec6a04a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 07:47:44 GMT', 'content-type': 'application/json', 'content-length': '1210', 'connection': 'keep-alive', 'x-amzn-requestid': '8248b57c-6db5-4ac1-a436-135b1ec6a04a', 'x-amzn-bedrock-invocation-latency': '2952', 'x-amzn-bedrock-output-token-count': '300', 'x-amzn-bedrock-input-token-count': '1204'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe5774cbe4430>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"If you don't comply with the vehicle policy, it could result in a penalty and/or punitive action, which may include but is not limited to: Warning/Caution, Suspension, Termination, and Legal proceedings. The action taken would depend upon the context and gravity of the violation and would be taken in accordance with legal and human resource departments.\",\n    \"References\": [\n        {\n            \"Statement\": \"Non-compliance with or violation of this policy could result in a penalty and/or punitive action that may include, but not limited to, the following: Warning/Caution; Suspension; Termination; Legal proceedings.\",\n            \"source\": \"Gemini - IT Problem Management v1.0_India.pdf - Page 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"what happens if i don't comply with the vehicle policy?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1204,"generation_token_count":300,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fba92023e9d4d6f301ac54
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [01/Oct/2024 07:47:44] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:138.68.173.174 - - [01/Oct/2024 07:57:36] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x01√∫\x01\x00\x01√∂\x03\x03√≠\x9a¬∫\x15\x7f√ª\x8e√ç√Äl\x97¬∑Mf√ê')
INFO:werkzeug:138.68.173.174 - - [01/Oct/2024 07:57:36] "[31m[1m\x16\x03\x01\x01√∫\x01\x00\x01√∂\x03\x03√≠\x9a¬∫\x15\x7f√ª\x8e√ç√Äl\x97¬∑Mf√ê\x0cXD√èP\x7f=*b√º\x8d\x02\x19\x16F√¢\x83\x00\x01<√å\x14√å\x13√å\x15√Ä0√Ä,√Ä(√Ä$√Ä\x14√Ä[0m" 400 -
 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.247:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the pip policy?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what is the pip policy?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:botocore.credentials:Found credentials from IAM Role: ACCESS_TO_AWS_SERVICES
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64f1fae1-9318-4f7b-bdf1-f06daf05a543', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 08:06:19 GMT', 'content-type': 'application/json', 'content-length': '171', 'connection': 'keep-alive', 'x-amzn-requestid': '64f1fae1-9318-4f7b-bdf1-f06daf05a543', 'x-amzn-bedrock-invocation-latency': '284', 'x-amzn-bedrock-output-token-count': '21', 'x-amzn-bedrock-input-token-count': '567'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the vehicle policy?\"\n}","prompt_token_count":567,"generation_token_count":21,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the vehicle policy?
INFO:__main__:Query stored successfully with ID: 66fbad7b9e73711f0112639c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c4cfa115-47a2-4bd2-b3d7-b785d7414b36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 08:06:23 GMT', 'content-type': 'application/json', 'content-length': '1435', 'connection': 'keep-alive', 'x-amzn-requestid': 'c4cfa115-47a2-4bd2-b3d7-b785d7414b36', 'x-amzn-bedrock-invocation-latency': '3302', 'x-amzn-bedrock-output-token-count': '341', 'x-amzn-bedrock-input-token-count': '1230'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has a vehicle policy that allows employees to use their personal vehicles for official purposes within the city limits. The policy does not include travel from residence to the place of work and back. The company also has a Vehicle/ Cab Maintenance Policy that outlines the rules and guidelines for obtaining, qualifying for, and using a company vehicle.\",\n    \"References\": [\n        {\n            \"Statement\": \"usage of personal two-wheeler/car/any other mode of transport for official purpose within the place of posting.\",\n            \"source\": \"Gemini-Local Conveyance Policy_Version 5.0._India.pdf - Page 4\"\n        },\n        {\n            \"Statement\": \"The purpose of this policy is to provide guidelines for obtaining, qualifying for, and using a company vehicle for all the employees of Gemini Solutions Pvt. Ltd.\",\n            \"source\": \"Gemini-Vehicle Policy_Version 2.0._India.pdf - Page 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"what is the vehicle policy?\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1230,"generation_token_count":341,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fbad7f9e73711f0112639d
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [01/Oct/2024 08:06:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fbb34c9e73711f0112639f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6244725b-ec91-4b1c-a7b2-e1fce578277e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 08:31:11 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6244725b-ec91-4b1c-a7b2-e1fce578277e', 'x-amzn-bedrock-invocation-latency': '1363', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8ee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fbb34f9e73711f011263a0
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.233.38 - - [01/Oct/2024 08:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '24237471-a57b-432e-b1cd-6e3c366cc5df', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 09:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '24237471-a57b-432e-b1cd-6e3c366cc5df', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf90c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fbc1459e73711f011263a2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'deab2089-d6ba-4490-9a5f-b7d59d08953b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 09:30:48 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'deab2089-d6ba-4490-9a5f-b7d59d08953b', 'x-amzn-bedrock-invocation-latency': '1273', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfaa10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fbc1489e73711f011263a3
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.173.224.51 - - [01/Oct/2024 09:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.148 - - [01/Oct/2024 09:37:15] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '50bb5182-c4a7-4fd6-a6c9-f970a31e076e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 10:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '50bb5182-c4a7-4fd6-a6c9-f970a31e076e', 'x-amzn-bedrock-invocation-latency': '298', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fbcf489e73711f011263a5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dd2235a1-8bfe-45ae-82ba-57f827ffcae8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 10:30:35 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'dd2235a1-8bfe-45ae-82ba-57f827ffcae8', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fbcf4b9e73711f011263a6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.45.249 - - [01/Oct/2024 10:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fbdd709e73711f011263a8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7a2e4710-62fa-4e45-b213-2c0c05679580', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 11:30:59 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7a2e4710-62fa-4e45-b213-2c0c05679580', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9660>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fbdd739e73711f011263a9
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.127.180 - - [01/Oct/2024 11:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fbeb889e73711f011263ab
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9b977e5c-fc54-4dd1-9852-027a6ee62f4f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 12:31:07 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9b977e5c-fc54-4dd1-9852-027a6ee62f4f', 'x-amzn-bedrock-invocation-latency': '1353', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fbeb8b9e73711f011263ac
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.45.249 - - [01/Oct/2024 12:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fbf9a99e73711f011263ae
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f013ff6-a003-4627-8e48-9623e3f765cd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 13:31:23 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7f013ff6-a003-4627-8e48-9623e3f765cd', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf98a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fbf9ab9e73711f011263af
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.29.11.52 - - [01/Oct/2024 13:31:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8f4903b9-7a86-425d-83fd-729c31b389c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 14:30:58 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8f4903b9-7a86-425d-83fd-729c31b389c6', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa4d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fc07a29e73711f011263b1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c246fd38-80b9-40d3-9fb7-b5cdbc14a09c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 14:31:01 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c246fd38-80b9-40d3-9fb7-b5cdbc14a09c', 'x-amzn-bedrock-invocation-latency': '1375', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bdc520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc07a59e73711f011263b2
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.199.107 - - [01/Oct/2024 14:31:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '84e0ef24-67f4-4fc5-87af-94e9ccd0fea5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 15:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '84e0ef24-67f4-4fc5-87af-94e9ccd0fea5', 'x-amzn-bedrock-invocation-latency': '320', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5257e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fc15859e73711f011263b4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5bd940ac-91d9-46d9-8df1-fbca58b731f7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 15:30:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5bd940ac-91d9-46d9-8df1-fbca58b731f7', 'x-amzn-bedrock-invocation-latency': '1387', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9f60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc15889e73711f011263b5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.139.169 - - [01/Oct/2024 15:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fc23b99e73711f011263b7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '923a02d7-3586-4a08-b0cd-a63259383b3c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 16:30:52 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '923a02d7-3586-4a08-b0cd-a63259383b3c', 'x-amzn-bedrock-invocation-latency': '1341', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfaad0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc23bc9e73711f011263b8
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.142.72 - - [01/Oct/2024 16:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '94da241e-6a1c-466f-994f-0f3539de15be', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 17:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '94da241e-6a1c-466f-994f-0f3539de15be', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa470>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fc31b59e73711f011263ba
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '08288d7c-3f98-4c95-8be6-013107d15e43', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 17:30:31 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '08288d7c-3f98-4c95-8be6-013107d15e43', 'x-amzn-bedrock-invocation-latency': '1365', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd04c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc31b79e73711f011263bb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.145.219.79 - - [01/Oct/2024 17:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fc400d9e73711f011263bd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2adfc3a4-77e6-4db0-aa94-d00d4726873f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 18:31:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '2adfc3a4-77e6-4db0-aa94-d00d4726873f', 'x-amzn-bedrock-invocation-latency': '1330', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc40109e73711f011263be
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.215.127.22 - - [01/Oct/2024 18:31:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '35f14624-2b7b-40a3-98ae-8cd0ade0677c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 19:30:57 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '35f14624-2b7b-40a3-98ae-8cd0ade0677c', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fc4df19e73711f011263c0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3e28791-7168-4c29-91d4-e1a3030f2167', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 19:31:00 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3e28791-7168-4c29-91d4-e1a3030f2167', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc4df49e73711f011263c1
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.176.91 - - [01/Oct/2024 19:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd60ff4d5-1be4-40d7-af92-5576d0cc5f39', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 20:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd60ff4d5-1be4-40d7-af92-5576d0cc5f39', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fc10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fc5bda9e73711f011263c3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '268aaa25-1aed-41b0-b5c3-091de870b886', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 20:30:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '268aaa25-1aed-41b0-b5c3-091de870b886', 'x-amzn-bedrock-invocation-latency': '1377', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc5bdd9e73711f011263c4
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.176.91 - - [01/Oct/2024 20:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:152.32.251.9 - - [01/Oct/2024 21:08:32] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:45.84.89.3 - - [01/Oct/2024 21:22:20] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fc6a0f9e73711f011263c6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0f575a5e-f711-4bd5-bea0-84116cfceff1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 21:30:58 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0f575a5e-f711-4bd5-bea0-84116cfceff1', 'x-amzn-bedrock-invocation-latency': '1394', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd12a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc6a129e73711f011263c7
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.120.0 - - [01/Oct/2024 21:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fc782c9e73711f011263c9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'caed504e-7fb8-4eb8-83a7-b6aa689d8f4f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 22:31:11 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'caed504e-7fb8-4eb8-83a7-b6aa689d8f4f', 'x-amzn-bedrock-invocation-latency': '1447', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc782f9e73711f011263ca
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.237.206.71 - - [01/Oct/2024 22:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '637f5d4b-8657-45a0-bb17-838cc89d86d7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 23:31:02 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '637f5d4b-8657-45a0-bb17-838cc89d86d7', 'x-amzn-bedrock-invocation-latency': '369', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fc86369e73711f011263cc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a855107-9dba-4e0a-b71a-45b70713f594', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 01 Oct 2024 23:31:05 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9a855107-9dba-4e0a-b71a-45b70713f594', 'x-amzn-bedrock-invocation-latency': '1337', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0cd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc86399e73711f011263cd
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.193.175 - - [01/Oct/2024 23:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '03cb4168-ce78-4af0-a742-2f2d406f5535', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 00:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '03cb4168-ce78-4af0-a742-2f2d406f5535', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9dd80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fc942d9e73711f011263cf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '50b098ec-2c37-4ac0-a5b0-54b2a5d96d64', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 00:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '50b098ec-2c37-4ac0-a5b0-54b2a5d96d64', 'x-amzn-bedrock-invocation-latency': '1352', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd12a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fc94309e73711f011263d0
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.251.89 - - [02/Oct/2024 00:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.27 - - [02/Oct/2024 00:32:11] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b2ccca99-3654-4c6f-9d55-399520352485', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 01:30:38 GMT', 'content-type': 'application/json', 'content-length': '238', 'connection': 'keep-alive', 'x-amzn-requestid': 'b2ccca99-3654-4c6f-9d55-399520352485', 'x-amzn-bedrock-invocation-latency': '399', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa9b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 66fca23e9e73711f011263d2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a4b6b2d4-924e-4e42-85e7-75df8d632066', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 01:30:42 GMT', 'content-type': 'application/json', 'content-length': '1603', 'connection': 'keep-alive', 'x-amzn-requestid': 'a4b6b2d4-924e-4e42-85e7-75df8d632066', 'x-amzn-bedrock-invocation-latency': '3039', 'x-amzn-bedrock-output-token-count': '309', 'x-amzn-bedrock-input-token-count': '1209'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, employees are entitled to various types of leaves, including annual leave, sick leave, and emergency leave. The policy encourages employees to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines rules for availing leaves, including the requirement for a follow-up call and the possibility of leave encashment. Additionally, the policy defines the process for leave encashment and the formula for calculating leave encashment.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"The policy defines the process and procedures regarding employee leave entitlements\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1209,"generation_token_count":309,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fca2429e73711f011263d3
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.227.59.176 - - [02/Oct/2024 01:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e5aa0e21-3f91-4e2d-b31e-7395ef2b8fa8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 02:30:38 GMT', 'content-type': 'application/json', 'content-length': '256', 'connection': 'keep-alive', 'x-amzn-requestid': 'e5aa0e21-3f91-4e2d-b31e-7395ef2b8fa8', 'x-amzn-bedrock-invocation-latency': '434', 'x-amzn-bedrock-output-token-count': '35', 'x-amzn-bedrock-input-token-count': '422'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1c90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are available to employees at Gemini Solutions, and what are the policies surrounding them?\"\n}","prompt_token_count":422,"generation_token_count":35,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are available to employees at Gemini Solutions, and what are the policies surrounding them?
INFO:__main__:Query stored successfully with ID: 66fcb04e9e73711f011263d5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f6ad4354-8b0d-4b99-916a-706a3d8f074b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 02:30:42 GMT', 'content-type': 'application/json', 'content-length': '1609', 'connection': 'keep-alive', 'x-amzn-requestid': 'f6ad4354-8b0d-4b99-916a-706a3d8f074b', 'x-amzn-bedrock-invocation-latency': '3021', 'x-amzn-bedrock-output-token-count': '325', 'x-amzn-bedrock-input-token-count': '1097'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2f20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves to its employees: **Casual Leave**, **Sick Leave**, and **Emergency Leave**. The company's leave policy requires employees to discuss and agree on the timings of their leave with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (at least 2 weeks prior). Without approval, any leave availed will be considered as absconding. The company does not consider Weekends/Public holidays as a leave deduction if the same falls in employees' leave requests.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are available to employees at Gemini Solutions, and what are the policies surrounding them?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1097,"generation_token_count":325,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fcb0529e73711f011263d6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.227.59.176 - - [02/Oct/2024 02:30:42] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:162.216.149.79 - - [02/Oct/2024 03:29:37] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:162.216.149.79 - - [02/Oct/2024 03:29:37] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x036~R}\x1c√¶√ß√å*p√ú%%\x94oS\x8fz.√û√£f\x01\x01√Ç√±√∑√ó\x19\x09\x80# √Å+√Ñy√ìf√ò|-√≤√Ñ√ä)6f\x1c\x8c\\Cp√â{\x7f√Éd√∏<¬µ ¬®B¬∫\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
ERROR:werkzeug:162.216.149.79 - - [02/Oct/2024 03:29:38] code 400, message Bad request version ('√Ä(√Ä$√Ä\x14√Ä')
INFO:werkzeug:162.216.149.79 - - [02/Oct/2024 03:29:38] "[31m[1m\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03\x1b√†√ó¬øY¬≥#<\x97√ø√ã\x85\x13a\x93d√ò\x15j\x9cz/¬¶√º¬°%¬¥¬¥+\x95√ä.\x00\x00h√å\x14√å\x13√Ä/√Ä+√Ä0√Ä,√Ä\x11√Ä\x07√Ä'√Ä#√Ä\x13√Ä\x09√Ä(√Ä$√Ä\x14√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fcbe809e73711f011263d8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '202c8680-ba5a-4c28-9b20-cdb9c724902c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 03:31:15 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '202c8680-ba5a-4c28-9b20-cdb9c724902c', 'x-amzn-bedrock-invocation-latency': '1427', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0af0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fcbe839e73711f011263d9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.237.206.71 - - [02/Oct/2024 03:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb398de0-0916-4b4f-a9c0-f6cc4ccae303', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 04:30:58 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb398de0-0916-4b4f-a9c0-f6cc4ccae303', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfad40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fccc829e73711f011263db
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5fabc53e-ab25-4232-a135-7227e307ab71', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 04:31:01 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5fabc53e-ab25-4232-a135-7227e307ab71', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fccc859e73711f011263dc
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.17.6 - - [02/Oct/2024 04:31:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1cf66202-2376-44b8-8bab-a62c4ad81fe3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 05:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1cf66202-2376-44b8-8bab-a62c4ad81fe3', 'x-amzn-bedrock-invocation-latency': '280', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fcda6f9e73711f011263de
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ef48ee07-5bd2-49ba-8c5b-cbdaf4567103', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 05:30:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ef48ee07-5bd2-49ba-8c5b-cbdaf4567103', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fcda729e73711f011263df
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.217.80 - - [02/Oct/2024 05:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.58.97.162 - - [02/Oct/2024 06:15:52] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:198.235.24.92 - - [02/Oct/2024 06:27:12] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd6ff552b-d609-49e7-a260-4fbf7430d409', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 06:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd6ff552b-d609-49e7-a260-4fbf7430d409', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fce87c9e73711f011263e1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0fa6ba7e-0c6c-4056-a114-ffe60449aefb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 06:30:22 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0fa6ba7e-0c6c-4056-a114-ffe60449aefb', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fce87e9e73711f011263e2
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.24.123.247 - - [02/Oct/2024 06:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fcf6a49e73711f011263e4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7219d122-f881-4333-bbc0-3708cae06368', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 07:30:47 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7219d122-f881-4333-bbc0-3708cae06368', 'x-amzn-bedrock-invocation-latency': '1413', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1b40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fcf6a79e73711f011263e5
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.215.16.95 - - [02/Oct/2024 07:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6426fdd6-3db0-4500-bc49-ad6c6daa3291', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 08:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6426fdd6-3db0-4500-bc49-ad6c6daa3291', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fd04989e73711f011263e7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '05c57713-dae3-4592-8e27-852e092c9c50', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 08:30:19 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '05c57713-dae3-4592-8e27-852e092c9c50', 'x-amzn-bedrock-invocation-latency': '1358', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1780>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd049b9e73711f011263e8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.19.109 - - [02/Oct/2024 08:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:174.138.61.44 - - [02/Oct/2024 08:47:33] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fd12ca9e73711f011263ea
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a388f0a5-3309-4fcd-bdee-20991f24fd11', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 09:30:53 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a388f0a5-3309-4fcd-bdee-20991f24fd11', 'x-amzn-bedrock-invocation-latency': '1417', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd12cd9e73711f011263eb
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.19.109 - - [02/Oct/2024 09:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '68487efb-ab0b-41e2-bc25-12fbc6081f59', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 10:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '68487efb-ab0b-41e2-bc25-12fbc6081f59', 'x-amzn-bedrock-invocation-latency': '274', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2e90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fd20cd9e73711f011263ed
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9ab4e9ff-bd5e-4341-b426-5b8c14bf945f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 10:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9ab4e9ff-bd5e-4341-b426-5b8c14bf945f', 'x-amzn-bedrock-invocation-latency': '1267', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c4f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd20d09e73711f011263ee
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.192.102.2 - - [02/Oct/2024 10:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fd2eeb9e73711f011263f0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1473c17-0657-4776-9399-9ffa517fa3a1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 11:30:54 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1473c17-0657-4776-9399-9ffa517fa3a1', 'x-amzn-bedrock-invocation-latency': '1296', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd2eee9e73711f011263f1
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.204.85.206 - - [02/Oct/2024 11:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '10744f5f-86fd-4585-9de0-f7ca49e5b8f4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 12:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '10744f5f-86fd-4585-9de0-f7ca49e5b8f4', 'x-amzn-bedrock-invocation-latency': '372', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa2c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fd3cd99e73711f011263f3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '784145a6-4898-40b1-bcc6-b4ac0e1110aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 12:30:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '784145a6-4898-40b1-bcc6-b4ac0e1110aa', 'x-amzn-bedrock-invocation-latency': '1351', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2a10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd3cdc9e73711f011263f4
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.200.180 - - [02/Oct/2024 12:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3329c3db-d214-4e75-88fd-ab2c00cbff6f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 13:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3329c3db-d214-4e75-88fd-ab2c00cbff6f', 'x-amzn-bedrock-invocation-latency': '328', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3160>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fd4ae19e73711f011263f6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '59cc638f-82c7-4ed8-a971-a262c49d97e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 13:30:12 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '59cc638f-82c7-4ed8-a971-a262c49d97e8', 'x-amzn-bedrock-invocation-latency': '1281', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd4ae49e73711f011263f7
INFO:__main__:Process completed successfully.
INFO:werkzeug:204.236.197.110 - - [02/Oct/2024 13:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fd59339e73711f011263f9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2119982e-cfb8-4d41-ac46-406fa68cf85e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 14:31:18 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '2119982e-cfb8-4d41-ac46-406fa68cf85e', 'x-amzn-bedrock-invocation-latency': '1327', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a407c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd59369e73711f011263fa
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.210.127.188 - - [02/Oct/2024 14:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'de8d5fb4-2f2d-4646-a023-d17deae53f81', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 15:31:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'de8d5fb4-2f2d-4646-a023-d17deae53f81', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fd673f9e73711f011263fc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6d56bdf6-f9ca-4b67-baa9-3d8d67398aa8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 15:31:13 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6d56bdf6-f9ca-4b67-baa9-3d8d67398aa8', 'x-amzn-bedrock-invocation-latency': '1360', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1480>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd67419e73711f011263fd
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.226.121.81 - - [02/Oct/2024 15:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9843db18-dfb7-487e-a9d9-5749b494b817', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 16:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9843db18-dfb7-487e-a9d9-5749b494b817', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fd75309e73711f011263ff
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '643e2408-2bb8-4a4a-b3da-65192c88b191', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 16:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '643e2408-2bb8-4a4a-b3da-65192c88b191', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526170>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd75329e73711f01126400
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.160.16 - - [02/Oct/2024 16:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fd835a9e73711f01126402
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bc900aef-bc58-4199-a391-0bad082d8443', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 17:31:08 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'bc900aef-bc58-4199-a391-0bad082d8443', 'x-amzn-bedrock-invocation-latency': '1259', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40160>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd835c9e73711f01126403
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.206.204.55 - - [02/Oct/2024 17:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fd91e59e73711f01126405
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a56c2cea-aa7c-4ac2-8e4e-cc0ce2e24b4a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 18:33:12 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a56c2cea-aa7c-4ac2-8e4e-cc0ce2e24b4a', 'x-amzn-bedrock-invocation-latency': '1290', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41000>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd91e89e73711f01126406
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.71.126 - - [02/Oct/2024 18:33:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '689b4d23-762c-4741-ba62-7245f4746012', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 19:30:54 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '689b4d23-762c-4741-ba62-7245f4746012', 'x-amzn-bedrock-invocation-latency': '301', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd13c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fd9f6e9e73711f01126408
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bd6dcd3f-5565-4502-af97-381e50496dc6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 19:30:56 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'bd6dcd3f-5565-4502-af97-381e50496dc6', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526140>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fd9f709e73711f01126409
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.10.41 - - [02/Oct/2024 19:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '31cdc8d7-6e9d-4799-8fb3-6522eaef2fb3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 20:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '31cdc8d7-6e9d-4799-8fb3-6522eaef2fb3', 'x-amzn-bedrock-invocation-latency': '359', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2f80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fdad789e73711f0112640b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5f3291d8-007c-4faf-8453-a1235b742fb4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 20:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5f3291d8-007c-4faf-8453-a1235b742fb4', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fdad7b9e73711f0112640c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.132.19 - - [02/Oct/2024 20:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:172.206.142.122 - - [02/Oct/2024 20:43:47] "[33mGET /v2/ HTTP/1.1[0m" 404 -
ERROR:werkzeug:87.120.112.32 - - [02/Oct/2024 21:24:44] code 400, message Bad request syntax ('\x03\x00\x00\x13\x0e√†\x00\x00\x00\x00\x00\x01\x00\x08\x00\x03\x00\x00\x00')
INFO:werkzeug:87.120.112.32 - - [02/Oct/2024 21:24:44] "[31m[1m\x03\x00\x00\x13\x0e√†\x00\x00\x00\x00\x00\x01\x00\x08\x00\x03\x00\x00\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fdbb8c9e73711f0112640e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5268126e-3d3c-42e4-a598-5686c6e8c70e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 21:30:54 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5268126e-3d3c-42e4-a598-5686c6e8c70e', 'x-amzn-bedrock-invocation-latency': '1368', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fdbb8e9e73711f0112640f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.208.234.46 - - [02/Oct/2024 21:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b4644c7f-5157-40bf-a55b-db472e2d8185', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 22:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b4644c7f-5157-40bf-a55b-db472e2d8185', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0ee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fdc9829e73711f01126411
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6107735a-bc76-48fd-b1c7-a33671f364d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 22:30:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6107735a-bc76-48fd-b1c7-a33671f364d8', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fdc9859e73711f01126412
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.205.52 - - [02/Oct/2024 22:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fdd79c9e73711f01126414
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'afc6c189-ef58-4805-8fbc-de75dbb62224', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 02 Oct 2024 23:30:39 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'afc6c189-ef58-4805-8fbc-de75dbb62224', 'x-amzn-bedrock-invocation-latency': '1437', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fdd79f9e73711f01126415
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.227.25 - - [02/Oct/2024 23:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '859e700c-6fee-4916-bd12-85789776a293', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 00:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '859e700c-6fee-4916-bd12-85789776a293', 'x-amzn-bedrock-invocation-latency': '389', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5265f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fde59c9e73711f01126417
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1a1ffb22-dae9-4ac3-ba12-c1c45b50c24c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 00:30:22 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1a1ffb22-dae9-4ac3-ba12-c1c45b50c24c', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fde59e9e73711f01126418
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.49.202 - - [03/Oct/2024 00:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fdf3c89e73711f0112641a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'acba7667-6ecd-4b21-9ab6-6c367e0be838', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 01:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'acba7667-6ecd-4b21-9ab6-6c367e0be838', 'x-amzn-bedrock-invocation-latency': '1408', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fdf3cb9e73711f0112641b
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.40.112 - - [03/Oct/2024 01:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dc423b8d-5539-487c-98ea-8af927464ff2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 02:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'dc423b8d-5539-487c-98ea-8af927464ff2', 'x-amzn-bedrock-invocation-latency': '343', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fe01ae9e73711f0112641d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7ff6ae0d-5dd9-426c-b59a-3b95069ca1d1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 02:30:09 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7ff6ae0d-5dd9-426c-b59a-3b95069ca1d1', 'x-amzn-bedrock-invocation-latency': '1334', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42da0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe01b19e73711f0112641e
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.178.192 - - [03/Oct/2024 02:30:09] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [03/Oct/2024 02:52:30] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [03/Oct/2024 02:52:30] "[31m[1mJDWP-Handshake[0m" 400 -
ERROR:werkzeug:142.93.191.98 - - [03/Oct/2024 03:27:00] code 400, message Bad request version ('RTSP/1.0')
INFO:werkzeug:142.93.191.98 - - [03/Oct/2024 03:27:00] "[31m[1mOPTIONS / RTSP/1.0[0m" 400 -
ERROR:werkzeug:142.93.191.98 - - [03/Oct/2024 03:27:04] code 400, message Bad request version ('GetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00')
INFO:werkzeug:142.93.191.98 - - [03/Oct/2024 03:27:04] "[31m[1m\x00\x00\x00\x1f\x00\x00\x00\x00\x00\x00\x00\x0cGetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00[0m" 400 -
INFO:werkzeug:68.183.53.77 - - [03/Oct/2024 03:27:19] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fe0fe19e73711f01126420
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b4ca6673-0e07-4e19-bd93-cbd628f3b8dd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 03:30:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b4ca6673-0e07-4e19-bd93-cbd628f3b8dd', 'x-amzn-bedrock-invocation-latency': '1431', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42f50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe0fe49e73711f01126421
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.43.231 - - [03/Oct/2024 03:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '54b455a0-62df-4b7c-8dc2-9013fe8a0534', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 04:30:44 GMT', 'content-type': 'application/json', 'content-length': '238', 'connection': 'keep-alive', 'x-amzn-requestid': '54b455a0-62df-4b7c-8dc2-9013fe8a0534', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd28f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 66fe1df49e73711f01126423
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '171148e2-78ee-4267-ad1d-0e9adba209cd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 04:30:48 GMT', 'content-type': 'application/json', 'content-length': '1635', 'connection': 'keep-alive', 'x-amzn-requestid': '171148e2-78ee-4267-ad1d-0e9adba209cd', 'x-amzn-bedrock-invocation-latency': '2954', 'x-amzn-bedrock-output-token-count': '320', 'x-amzn-bedrock-input-token-count': '1209'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a418a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, employees are entitled to various types of leaves, including annual leave, sick leave, and emergency leave. The policy encourages employees to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines rules for availing leaves, including the requirement for a follow-up call and the possibility of leave being rejected at the discretion of the Supervisor. Additionally, employees are allowed 7 days of sick leave on full fixed pay in one leave year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1209,"generation_token_count":320,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe1df89e73711f01126424
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.40.112 - - [03/Oct/2024 04:30:48] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:47.236.24.25 - - [03/Oct/2024 04:54:55] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:47.236.24.25 - - [03/Oct/2024 04:54:55] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03I\x06¬≤√π¬º\x99i√ÄY√ª√∏¬∫e-\x83Ud]\x0e\x8d¬∑b8¬¥g√Ü√ù9dZ8f g√Å\x81i¬≥√∂√≤√ã¬∞¬©\x19N√ñ¬Ω\x95g|p√º√©<Z¬°\x90T¬∑√©¬•8'O;\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
INFO:werkzeug:47.236.24.25 - - [03/Oct/2024 04:55:05] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fe2c1b9e73711f01126426
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8efcc454-7ce6-4366-84fa-1f9ce2d80642', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 05:31:10 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8efcc454-7ce6-4366-84fa-1f9ce2d80642', 'x-amzn-bedrock-invocation-latency': '1339', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40a30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe2c1e9e73711f01126427
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.123.230 - - [03/Oct/2024 05:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.83.41.180 - - [03/Oct/2024 06:21:43] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fe3a3e9e73711f01126429
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e1707bba-cb90-4cee-a886-0f602a564b61', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 06:31:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e1707bba-cb90-4cee-a886-0f602a564b61', 'x-amzn-bedrock-invocation-latency': '1408', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42ec0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe3a419e73711f0112642a
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.208.23.18 - - [03/Oct/2024 06:31:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '45c70298-2bba-4073-886b-e6f1fedfe3e9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 07:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '45c70298-2bba-4073-886b-e6f1fedfe3e9', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fe48129e73711f0112642c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c30351c-f15d-48bd-bf23-2b625928aa3d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 07:30:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4c30351c-f15d-48bd-bf23-2b625928aa3d', 'x-amzn-bedrock-invocation-latency': '1340', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a410f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe48159e73711f0112642d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.132.218 - - [03/Oct/2024 07:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed30cdb9-484f-4fd9-aa66-0f483aacb4df', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 08:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed30cdb9-484f-4fd9-aa66-0f483aacb4df', 'x-amzn-bedrock-invocation-latency': '307', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fe560e9e73711f0112642f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2a64e882-000c-4eca-8f26-eb4805d5542d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 08:30:09 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '2a64e882-000c-4eca-8f26-eb4805d5542d', 'x-amzn-bedrock-invocation-latency': '1273', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42a40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe56119e73711f01126430
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.125.41 - - [03/Oct/2024 08:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fe642a9e73711f01126432
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f31f82b5-3c62-42f4-a3b2-d90063eeb7e6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 09:30:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f31f82b5-3c62-42f4-a3b2-d90063eeb7e6', 'x-amzn-bedrock-invocation-latency': '1420', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe642c9e73711f01126433
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.218.141.138 - - [03/Oct/2024 09:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fe72679e73711f01126435
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '485b4860-635c-453c-9dfb-fd2fc4ccb925', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 10:31:05 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '485b4860-635c-453c-9dfb-fd2fc4ccb925', 'x-amzn-bedrock-invocation-latency': '1271', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a436d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe72699e73711f01126436
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.38.99 - - [03/Oct/2024 10:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '72228ed2-baec-4688-b84e-2703b9cb7837', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 11:31:06 GMT', 'content-type': 'application/json', 'content-length': '280', 'connection': 'keep-alive', 'x-amzn-requestid': '72228ed2-baec-4688-b84e-2703b9cb7837', 'x-amzn-bedrock-invocation-latency': '393', 'x-amzn-bedrock-output-token-count': '38', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1ff0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\"\n}","prompt_token_count":238,"generation_token_count":38,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?
INFO:__main__:Query stored successfully with ID: 66fe807a9e73711f01126438
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'afb7e263-0da9-4e67-a2fd-9f5cc605759b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 11:31:11 GMT', 'content-type': 'application/json', 'content-length': '2113', 'connection': 'keep-alive', 'x-amzn-requestid': 'afb7e263-0da9-4e67-a2fd-9f5cc605759b', 'x-amzn-bedrock-invocation-latency': '3784', 'x-amzn-bedrock-output-token-count': '386', 'x-amzn-bedrock-input-token-count': '1015'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43b20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' policies are available on various topics, including risk management, ESOP schemes, and privacy policies. The company has implemented a comprehensive Risk Management Policy (Text Block 2) that provides direction for identifying, assessing, and treating information security risks. The policy extends to all functions and staff of Gemini Solutions. Additionally, the company has a Privacy Policy (Text Block 1 and 5) that outlines its commitment to protecting non-public personal information and employee private data. The policy includes procedures to support privacy objectives and protect data consistent with applicable state and federal regulations. Gemini Solutions also has an Employee Stock Options Plan (ESOP) (Text Block 4) that outlines the terms and conditions of the plan. These policies are available in the company's documents, including the Gemini - Privacy Policy V1.1_India.pdf and Gemini - Risk Management Policy v1.0_India.pdf files.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solution is committed to using a comprehensive and systematic approach to manage risks to confidentiality, access authorization, technical safeguards, regulatory compliance, and loss management.\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - Page No: 3\"\n        },\n        {\n            \"Statement\": \"Gemini Solutions has procedures in place that support privacy objectives and protect non-public personal information and employee private data consistent with applicable state and federal regulations.\",\n            \"source\": \"Gemini - Privacy Policy V1.1_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1015,"generation_token_count":386,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe807f9e73711f01126439
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.40.112 - - [03/Oct/2024 11:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '66d76eae-d160-4687-97ee-5d388e238bad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 12:30:18 GMT', 'content-type': 'application/json', 'content-length': '233', 'connection': 'keep-alive', 'x-amzn-requestid': '66d76eae-d160-4687-97ee-5d388e238bad', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '29', 'x-amzn-bedrock-input-token-count': '510'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd07f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What are the company policies regarding leaves and employee benefits at Gemini Solutions?\"\n}","prompt_token_count":510,"generation_token_count":29,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the company policies regarding leaves and employee benefits at Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 66fe8e5a9e73711f0112643b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '99758e4d-1cb3-4102-9ce5-06d2253bd28c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 12:30:23 GMT', 'content-type': 'application/json', 'content-length': '1715', 'connection': 'keep-alive', 'x-amzn-requestid': '99758e4d-1cb3-4102-9ce5-06d2253bd28c', 'x-amzn-bedrock-invocation-latency': '3118', 'x-amzn-bedrock-output-token-count': '336', 'x-amzn-bedrock-input-token-count': '1163'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has a leave policy that applies to all employees. The policy aims to define the process and procedures regarding employee leave entitlements. Employees are encouraged to discuss and agree on the timings of their leave with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior). The company does not consider Weekends/Public holidays as a leave deduction in case the same falls in employees' leave requests. The policy also outlines different types of leaves, including sick leaves, casual leaves, and emergency leaves. Employees are entitled to 7 days of sick leave on full fixed pay in one leave year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What are the company policies regarding leaves and employee benefits at Gemini Solutions?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1163,"generation_token_count":336,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe8e5f9e73711f0112643c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.80.243 - - [03/Oct/2024 12:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fe9c7c9e73711f0112643e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b0569965-8a5c-48b7-9710-550c450ecebe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 13:30:39 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b0569965-8a5c-48b7-9710-550c450ecebe', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fe9c7f9e73711f0112643f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.178.136 - - [03/Oct/2024 13:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66feaa9a9e73711f01126441
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed93b8b3-33a0-4827-ba2d-53aff566d23f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 14:30:53 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed93b8b3-33a0-4827-ba2d-53aff566d23f', 'x-amzn-bedrock-invocation-latency': '1282', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a780a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66feaa9d9e73711f01126442
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.232.61.12 - - [03/Oct/2024 14:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66feb8c39e73711f01126444
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '15568875-0028-4d59-b2f3-1db34ce9806d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 15:31:18 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '15568875-0028-4d59-b2f3-1db34ce9806d', 'x-amzn-bedrock-invocation-latency': '1346', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42aa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66feb8c69e73711f01126445
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.252.195 - - [03/Oct/2024 15:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb86c108-3d07-4dfb-bdb6-ba39517b6afc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 16:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb86c108-3d07-4dfb-bdb6-ba39517b6afc', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb5e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fec6b59e73711f01126447
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '430ea969-88fa-424b-925e-8556de37a476', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 16:30:48 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '430ea969-88fa-424b-925e-8556de37a476', 'x-amzn-bedrock-invocation-latency': '1276', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fec6b89e73711f01126448
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.252.195 - - [03/Oct/2024 16:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fed4dc9e73711f0112644a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '995af2eb-42b9-4763-9dea-9386809025b5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 17:31:11 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '995af2eb-42b9-4763-9dea-9386809025b5', 'x-amzn-bedrock-invocation-latency': '1298', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a430d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fed4df9e73711f0112644b
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.6.247 - - [03/Oct/2024 17:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fee3509e73711f0112644d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '486e4f1b-301f-44cb-88f8-b2d1ff81dcd7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 18:32:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '486e4f1b-301f-44cb-88f8-b2d1ff81dcd7', 'x-amzn-bedrock-invocation-latency': '1312', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a780d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fee3539e73711f0112644e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.148.237 - - [03/Oct/2024 18:32:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f843b70f-efc3-4a42-b54a-52e84b19c56f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 19:30:12 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f843b70f-efc3-4a42-b54a-52e84b19c56f', 'x-amzn-bedrock-invocation-latency': '309', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42bf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fef0c49e73711f01126450
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cd459d13-41e6-4b31-b9c6-23f80302d98a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 19:30:15 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cd459d13-41e6-4b31-b9c6-23f80302d98a', 'x-amzn-bedrock-invocation-latency': '1362', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1f90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fef0c79e73711f01126451
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.148.237 - - [03/Oct/2024 19:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66fefedc9e73711f01126453
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e491b668-61ca-4428-a78c-026323348c6f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 20:30:23 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e491b668-61ca-4428-a78c-026323348c6f', 'x-amzn-bedrock-invocation-latency': '1437', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fefedf9e73711f01126454
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.70.213.17 - - [03/Oct/2024 20:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1d95b224-9ac2-4663-b740-4dd7823eac2a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 21:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1d95b224-9ac2-4663-b740-4dd7823eac2a', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2fcd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ff0ce99e73711f01126456
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0972a899-0795-408b-96f9-1275b81ef147', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 21:30:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0972a899-0795-408b-96f9-1275b81ef147', 'x-amzn-bedrock-invocation-latency': '1341', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff0cec9e73711f01126457
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.12.216 - - [03/Oct/2024 21:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ff1b089e73711f01126459
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '690e757e-0b94-4b30-a744-6a7c994c560e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 22:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '690e757e-0b94-4b30-a744-6a7c994c560e', 'x-amzn-bedrock-invocation-latency': '1434', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78ac0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff1b0a9e73711f0112645a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.107.25 - - [03/Oct/2024 22:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ff292e9e73711f0112645c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2972f34b-e8f4-43e3-b0f9-0e2a908f37cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 03 Oct 2024 23:30:57 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '2972f34b-e8f4-43e3-b0f9-0e2a908f37cb', 'x-amzn-bedrock-invocation-latency': '1385', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2f50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff29319e73711f0112645d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.213.8 - - [03/Oct/2024 23:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '96def84c-c7c5-436e-b11d-b46d1f141d37', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 00:30:57 GMT', 'content-type': 'application/json', 'content-length': '280', 'connection': 'keep-alive', 'x-amzn-requestid': '96def84c-c7c5-436e-b11d-b46d1f141d37', 'x-amzn-bedrock-invocation-latency': '487', 'x-amzn-bedrock-output-token-count': '38', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf94b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\"\n}","prompt_token_count":238,"generation_token_count":38,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?
INFO:__main__:Query stored successfully with ID: 66ff37419e73711f0112645f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '822f9628-c3f7-4cbf-a883-357a1bb6ec5b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 00:31:02 GMT', 'content-type': 'application/json', 'content-length': '2113', 'connection': 'keep-alive', 'x-amzn-requestid': '822f9628-c3f7-4cbf-a883-357a1bb6ec5b', 'x-amzn-bedrock-invocation-latency': '3522', 'x-amzn-bedrock-output-token-count': '386', 'x-amzn-bedrock-input-token-count': '1015'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' policies are available on various topics, including risk management, ESOP schemes, and privacy policies. The company has implemented a comprehensive Risk Management Policy (Text Block 2) that provides direction for identifying, assessing, and treating information security risks. The policy extends to all functions and staff of Gemini Solutions. Additionally, the company has a Privacy Policy (Text Block 1 and 5) that outlines its commitment to protecting non-public personal information and employee private data. The policy includes procedures to support privacy objectives and protect data consistent with applicable state and federal regulations. Gemini Solutions also has an Employee Stock Options Plan (ESOP) (Text Block 4) that outlines the terms and conditions of the plan. These policies are available in the company's documents, including the Gemini - Privacy Policy V1.1_India.pdf and Gemini - Risk Management Policy v1.0_India.pdf files.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solution is committed to using a comprehensive and systematic approach to manage risks to confidentiality, access authorization, technical safeguards, regulatory compliance, and loss management.\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - Page No: 3\"\n        },\n        {\n            \"Statement\": \"Gemini Solutions has procedures in place that support privacy objectives and protect non-public personal information and employee private data consistent with applicable state and federal regulations.\",\n            \"source\": \"Gemini - Privacy Policy V1.1_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1015,"generation_token_count":386,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff37469e73711f01126460
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.233.70 - - [04/Oct/2024 00:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '514ca28a-a1a9-49d6-b9ee-6bf31a31d0df', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 01:30:54 GMT', 'content-type': 'application/json', 'content-length': '236', 'connection': 'keep-alive', 'x-amzn-requestid': '514ca28a-a1a9-49d6-b9ee-6bf31a31d0df', 'x-amzn-bedrock-invocation-latency': '403', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '510'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9eef0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What are the company policies and procedures related to employee leaves at Gemini Solutions?\"\n}","prompt_token_count":510,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the company policies and procedures related to employee leaves at Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 66ff454e9e73711f01126462
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '25b5e22b-ddbf-4e3d-aa94-b1d6597f8690', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 01:30:59 GMT', 'content-type': 'application/json', 'content-length': '1993', 'connection': 'keep-alive', 'x-amzn-requestid': '25b5e22b-ddbf-4e3d-aa94-b1d6597f8690', 'x-amzn-bedrock-invocation-latency': '3709', 'x-amzn-bedrock-output-token-count': '402', 'x-amzn-bedrock-input-token-count': '1134'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has a leave policy that aims to grant leave to employees and define their entitlements. The policy applies to all employees of Gemini Solutions Pvt. Ltd. Employees are encouraged to discuss and agree on the timings of their leave with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior). The company does not consider Weekends/Public holidays as a leave deduction in case the same falls in employees' leave requests. The policy also outlines different types of leaves, including sick leaves, casual leaves, and emergency leaves. Employees are entitled to 7 days of sick leave on full fixed pay in one leave year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Gemini does not consider Weekends/Public holidays as a leave deduction incase the same falls in employees' leave requests.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What are the company policies and procedures related to employee leaves at Gemini Solutions?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1134,"generation_token_count":402,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff45539e73711f01126463
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.60.217 - - [04/Oct/2024 01:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:216.218.206.69 - - [04/Oct/2024 01:46:48] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:216.218.206.69 - - [04/Oct/2024 01:47:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ff53679e73711f01126465
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c2aecb96-cd08-46eb-90b4-fb49eb655cfd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 02:31:06 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c2aecb96-cd08-46eb-90b4-fb49eb655cfd', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff536a9e73711f01126466
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.60.217 - - [04/Oct/2024 02:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9346fe13-a576-48cb-948e-ad9d15f1c591', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 03:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9346fe13-a576-48cb-948e-ad9d15f1c591', 'x-amzn-bedrock-invocation-latency': '372', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfafe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ff61479e73711f01126468
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1bd168bb-1d1e-4ea1-b929-4c2e6371909f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 03:30:17 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1bd168bb-1d1e-4ea1-b929-4c2e6371909f', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff61499e73711f01126469
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.194.241 - - [04/Oct/2024 03:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ff6f9b9e73711f0112646b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9e3503d4-07c8-4707-a839-3d060735e1ac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 04:31:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9e3503d4-07c8-4707-a839-3d060735e1ac', 'x-amzn-bedrock-invocation-latency': '1425', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42e00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff6f9e9e73711f0112646c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.87.127.0 - - [04/Oct/2024 04:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3dbfc3dd-5e24-42f2-a5bb-0e1bfc53aed3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 05:31:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3dbfc3dd-5e24-42f2-a5bb-0e1bfc53aed3', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ff7d9d9e73711f0112646e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '63750b91-e05d-448c-9463-6d42da1fc333', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 05:31:11 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '63750b91-e05d-448c-9463-6d42da1fc333', 'x-amzn-bedrock-invocation-latency': '1338', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a789d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff7d9f9e73711f0112646f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.243.156 - - [04/Oct/2024 05:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi jinie', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hi jinie
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ff7f8d9e73711f01126471
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a653b691-e208-4c2f-8f3f-ba15a858136f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 05:39:28 GMT', 'content-type': 'application/json', 'content-length': '589', 'connection': 'keep-alive', 'x-amzn-requestid': 'a653b691-e208-4c2f-8f3f-ba15a858136f', 'x-amzn-bedrock-invocation-latency': '1680', 'x-amzn-bedrock-output-token-count': '179', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79c00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hi! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind?\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hi jinie\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":910,"generation_token_count":179,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff7f909e73711f01126472
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [04/Oct/2024 05:39:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'who is responsible for due diligence in company right now', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: who is responsible for due diligence in company right now
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9f7c68d2-ef6e-4d08-9296-2f8c00167e47', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 05:39:52 GMT', 'content-type': 'application/json', 'content-length': '207', 'connection': 'keep-alive', 'x-amzn-requestid': '9f7c68d2-ef6e-4d08-9296-2f8c00167e47', 'x-amzn-bedrock-invocation-latency': '293', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '224'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2fb80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Who is responsible for conducting due diligence in the company?\"\n}","prompt_token_count":224,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Who is responsible for conducting due diligence in the company?
INFO:__main__:Query stored successfully with ID: 66ff7fa89e73711f01126474
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'be382947-f55c-48f7-a501-9273c1d60c95', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 05:39:58 GMT', 'content-type': 'application/json', 'content-length': '1811', 'connection': 'keep-alive', 'x-amzn-requestid': 'be382947-f55c-48f7-a501-9273c1d60c95', 'x-amzn-bedrock-invocation-latency': '3872', 'x-amzn-bedrock-output-token-count': '425', 'x-amzn-bedrock-input-token-count': '1193'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525720>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The responsibility for conducting due diligence in the company is not explicitly mentioned in the provided texts. However, it can be inferred that various teams and individuals are responsible for different aspects of due diligence. For instance, the recruitment process involves the responsible team lead and/or Director/Senior Manager, and may include another member of the management team (Reference: Text Block 1, Recruitment policy 7.0-GEMGN-200193_India.pdf, Page 6). Similarly, the grievance escalation process involves HR, which makes every effort to resolve the grievance promptly and fairly (Reference: Text Block 5, Grievance Escalation Policy_India.pdf, Page 4).\",\n    \"References\": [\n        {\n            \"Statement\": \"The purpose of this interview is to further explore the suitability of the candidate by giving them an insight into the day-to-day activities of the role and the environment in which they will be working and to further draw out details of relevant experience based on their resume.\",\n            \"source\": \"Recruitment policy 7.0-GEMGN-200193_India.pdf, Page 6\"\n        },\n        {\n            \"Statement\": \"HR will make every effort to resolve the grievance promptly and fairly.\",\n            \"source\": \"Grievance Escalation Policy_India.pdf, Page 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Who is responsible for conducting due diligence in the company?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1193,"generation_token_count":425,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff7fae9e73711f01126475
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [04/Oct/2024 05:39:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7b807392-21a0-4279-9e33-b1bf9fe5a1b3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 06:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7b807392-21a0-4279-9e33-b1bf9fe5a1b3', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526170>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ff8b989e73711f01126477
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b293730c-3ab5-4b04-9c0e-561e622dd562', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 06:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b293730c-3ab5-4b04-9c0e-561e622dd562', 'x-amzn-bedrock-invocation-latency': '1377', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78a30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff8b9b9e73711f01126478
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.243.156 - - [04/Oct/2024 06:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '79ab65fc-1763-4d35-8960-d5bb013b167e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 07:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '79ab65fc-1763-4d35-8960-d5bb013b167e', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ff99919e73711f0112647a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '18f5700d-b6a8-4b00-8c97-7e26ab5b6874', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 07:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '18f5700d-b6a8-4b00-8c97-7e26ab5b6874', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79f30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ff99949e73711f0112647b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.95.138.116 - - [04/Oct/2024 07:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ffa7b19e73711f0112647d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '034d86e8-cddd-4264-82b0-43df085f7158', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 08:30:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '034d86e8-cddd-4264-82b0-43df085f7158', 'x-amzn-bedrock-invocation-latency': '1449', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a470>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ffa7b49e73711f0112647e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.220.170.162 - - [04/Oct/2024 08:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ffb5c99e73711f01126480
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f6ae8218-eb59-4b05-ae4c-ed6276153286', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 09:30:52 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f6ae8218-eb59-4b05-ae4c-ed6276153286', 'x-amzn-bedrock-invocation-latency': '1450', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a6b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ffb5cc9e73711f01126481
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.222.215.14 - - [04/Oct/2024 09:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7c15a314-b4a5-40af-9e3a-920188e259a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 10:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7c15a314-b4a5-40af-9e3a-920188e259a6', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a425f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ffc3c99e73711f01126483
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5baab86f-48c5-4f38-b633-34c32291f7c8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 10:30:35 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5baab86f-48c5-4f38-b633-34c32291f7c8', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ffc3cb9e73711f01126484
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.209.157.201 - - [04/Oct/2024 10:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cf7b46a8-e392-467d-b7b1-6034b2670328', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 11:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cf7b46a8-e392-467d-b7b1-6034b2670328', 'x-amzn-bedrock-invocation-latency': '364', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2fc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ffd1d99e73711f01126486
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ce3a72b9-5d57-43dc-a5d1-cf17baf7c0c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 11:30:36 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ce3a72b9-5d57-43dc-a5d1-cf17baf7c0c5', 'x-amzn-bedrock-invocation-latency': '1368', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ffd1dc9e73711f01126487
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.39.179 - - [04/Oct/2024 11:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ece8a96a-31f3-426f-aace-80e1d8fc0c80', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 12:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ece8a96a-31f3-426f-aace-80e1d8fc0c80', 'x-amzn-bedrock-invocation-latency': '291', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78b80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66ffdfd79e73711f01126489
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c972d8f2-a596-4829-a5bd-f61decaa7cc2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 12:30:18 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c972d8f2-a596-4829-a5bd-f61decaa7cc2', 'x-amzn-bedrock-invocation-latency': '1363', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ac50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ffdfda9e73711f0112648a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.217.170 - - [04/Oct/2024 12:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 66ffee149e73711f0112648c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b8754b7a-7bd7-4f2e-b7f5-1a5b038eb250', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 13:31:03 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b8754b7a-7bd7-4f2e-b7f5-1a5b038eb250', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a590>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66ffee179e73711f0112648d
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.104.29 - - [04/Oct/2024 13:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5159dbee-1f11-4699-ba21-5bde27cd9672', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 14:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5159dbee-1f11-4699-ba21-5bde27cd9672', 'x-amzn-bedrock-invocation-latency': '319', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9690>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 66fffbfc9e73711f0112648f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '28b4b20c-235c-4531-b43e-e80c8ec868f5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 14:30:23 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '28b4b20c-235c-4531-b43e-e80c8ec868f5', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 66fffbff9e73711f01126490
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.222.215.14 - - [04/Oct/2024 14:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67000a1f9e73711f01126492
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0a16758f-96c9-4174-88ad-a484e86b48a9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 15:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0a16758f-96c9-4174-88ad-a484e86b48a9', 'x-amzn-bedrock-invocation-latency': '1454', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79cc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67000a229e73711f01126493
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.105.214 - - [04/Oct/2024 15:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4577190e-bdc0-4b66-a28d-34d96a8bcc29', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 16:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4577190e-bdc0-4b66-a28d-34d96a8bcc29', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670018219e73711f01126495
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '66386d7e-bd5d-482f-b50c-e0a7b4171fdf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 16:30:27 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '66386d7e-bd5d-482f-b50c-e0a7b4171fdf', 'x-amzn-bedrock-invocation-latency': '1291', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a700a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670018239e73711f01126496
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.195.60.35 - - [04/Oct/2024 16:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670026369e73711f01126498
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '741e5172-3833-4817-bb45-d0f852c146d2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 17:30:32 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '741e5172-3833-4817-bb45-d0f852c146d2', 'x-amzn-bedrock-invocation-latency': '1346', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa0e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670026389e73711f01126499
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.174.231 - - [04/Oct/2024 17:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670034f39e73711f0112649b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ba784c20-4bf7-471f-8b7a-2b79e97928d3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 18:33:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ba784c20-4bf7-471f-8b7a-2b79e97928d3', 'x-amzn-bedrock-invocation-latency': '1326', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670034f69e73711f0112649c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.231.166.49 - - [04/Oct/2024 18:33:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f688e613-4852-4e4c-ac66-acb79a97011b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 19:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f688e613-4852-4e4c-ac66-acb79a97011b', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670042469e73711f0112649e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2f6a10e4-99fe-48c8-bd41-8a3c27ffe0d5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 19:30:17 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '2f6a10e4-99fe-48c8-bd41-8a3c27ffe0d5', 'x-amzn-bedrock-invocation-latency': '1268', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd04c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670042499e73711f0112649f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.227.248.78 - - [04/Oct/2024 19:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.207 - - [04/Oct/2024 20:25:19] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6700505a9e73711f011264a1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3c10c324-210e-41c3-bc64-628601976ff8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 20:30:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3c10c324-210e-41c3-bc64-628601976ff8', 'x-amzn-bedrock-invocation-latency': '1432', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd37c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700505c9e73711f011264a2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.227.248.78 - - [04/Oct/2024 20:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67005e6e9e73711f011264a4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a92f9979-d38c-4056-b456-4973c14daf8a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 21:30:25 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a92f9979-d38c-4056-b456-4973c14daf8a', 'x-amzn-bedrock-invocation-latency': '1339', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bface0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67005e719e73711f011264a5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.231.155.120 - - [04/Oct/2024 21:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67006c839e73711f011264a7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0fe3cefa-5e10-4268-be9d-7a81d25f433f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 22:30:30 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0fe3cefa-5e10-4268-be9d-7a81d25f433f', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67006c869e73711f011264a8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.17.238 - - [04/Oct/2024 22:30:30] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:35.176.98.149 - - [04/Oct/2024 23:11:48] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:11:48] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03¬º,¬•\x1a\x0b.\x16\x8c</√≤U\x9dZ¬°O√Ü_√®√∞\x1f|m√î\x90\x09√Ñ¬≠W]\x9bQ\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:35.176.98.149 - - [04/Oct/2024 23:14:29] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:14:29] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03√•√ù%y√æ\x0d\x86¬≥IX\x0b√πm\x1e<√∞g¬∫\x0e\x1c\x17\x0b√ú\x13,√Å¬∏y√ù√ù√ô!\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:35.176.98.149 - - [04/Oct/2024 23:19:14] code 400, message Bad request syntax ('\x16\x03\x01\x00¬±\x01\x00\x00\xad\x03\x03¬∫Dw√ó¬∞\x03\x8f√óg√∞')
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:19:14] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03¬∫Dw√ó¬∞\x03\x8f√óg√∞[0m" 400 -
ERROR:werkzeug:35.176.98.149 - - [04/Oct/2024 23:28:45] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:28:45] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03\x08at√ç\x0d\x82¬©(G¬≤jy√Ø"√ä\x1b\x0e√µu√∞\x07:03]√¶√à({√∏\x0cA\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67007aa59e73711f011264aa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '78812330-d6aa-43ef-9455-09ea24dd0e0b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 04 Oct 2024 23:30:48 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '78812330-d6aa-43ef-9455-09ea24dd0e0b', 'x-amzn-bedrock-invocation-latency': '1309', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67007aa89e73711f011264ab
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.209.33.72 - - [04/Oct/2024 23:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:31:02] "[33mGET /index.html HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.176.98.149 - - [04/Oct/2024 23:33:27] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:33:27] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03~\x1e¬°\x7f\x0eYO√∂La√•√õ\x13a√ú√ñe2¬¥$A\x8d\x8e¬µ¬ÆJ(I√´\x81√ë√±\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:35.176.98.149 - - [04/Oct/2024 23:38:09] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00¬±\x01\x00\x00\xad\x03\x03\x11-\x0f,√π¬¢\x05\x8d}l@√º\\\x9c√≠K')
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:38:09] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03\x11-\x0f,√π¬¢\x05\x8d}l@√º\\\x9c√≠K\x1e¬µ√≠G\x1b[0m" 400 -
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:50:03] "[33mGET /login.jsp HTTP/1.1[0m" 404 -
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:54:58] "[33mGET /doc/index.html HTTP/1.1[0m" 404 -
INFO:werkzeug:35.176.98.149 - - [04/Oct/2024 23:59:50] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '560a3e75-3fbc-49fd-aa04-37afbe3d3c13', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 00:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '560a3e75-3fbc-49fd-aa04-37afbe3d3c13', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2fe50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670088a29e73711f011264ad
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fdef2aac-5a58-4f51-a157-01160ba9bd02', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 00:30:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'fdef2aac-5a58-4f51-a157-01160ba9bd02', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670088a59e73711f011264ae
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.227.248.78 - - [05/Oct/2024 00:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670096bc9e73711f011264b0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb4ce808-8eeb-497b-a8bd-8823176b7a59', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 01:30:38 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb4ce808-8eeb-497b-a8bd-8823176b7a59', 'x-amzn-bedrock-invocation-latency': '1414', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1240>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670096be9e73711f011264b1
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.203.226.189 - - [05/Oct/2024 01:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6700a4eb9e73711f011264b3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7783295c-747f-4a31-8eb1-fabe32812330', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 02:31:10 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7783295c-747f-4a31-8eb1-fabe32812330', 'x-amzn-bedrock-invocation-latency': '1352', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0430>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700a4ee9e73711f011264b4
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.230.118.177 - - [05/Oct/2024 02:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfe14801-a60d-4988-8a44-9eb464a4c028', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 03:30:08 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfe14801-a60d-4988-8a44-9eb464a4c028', 'x-amzn-bedrock-invocation-latency': '391', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6700b2c09e73711f011264b6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3d88042a-3a2a-464d-92e2-c59f28994079', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 03:30:10 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3d88042a-3a2a-464d-92e2-c59f28994079', 'x-amzn-bedrock-invocation-latency': '1269', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a400d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700b2c29e73711f011264b7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.90.20.181 - - [05/Oct/2024 03:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.133 - - [05/Oct/2024 04:05:07] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6700c1169e73711f011264b9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '60705e54-a347-45a1-bd86-262274ccb0bc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 04:31:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '60705e54-a347-45a1-bd86-262274ccb0bc', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a428f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700c1189e73711f011264ba
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.132.88 - - [05/Oct/2024 04:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2bac1d8c-d57a-493a-b550-8a45633415f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 05:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2bac1d8c-d57a-493a-b550-8a45633415f2', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd31c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6700cedd9e73711f011264bc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f4fda977-8def-4fbe-8732-b76064ca445d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 05:30:08 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f4fda977-8def-4fbe-8732-b76064ca445d', 'x-amzn-bedrock-invocation-latency': '1335', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700cee09e73711f011264bd
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.237.143.161 - - [05/Oct/2024 05:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6700dd1e9e73711f011264bf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1d4f25e-404f-4fc2-b0f8-cbb7dd6ebead', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 06:30:57 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1d4f25e-404f-4fc2-b0f8-cbb7dd6ebead', 'x-amzn-bedrock-invocation-latency': '1435', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa6b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700dd219e73711f011264c0
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.234.140 - - [05/Oct/2024 06:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.156 - - [05/Oct/2024 06:53:14] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e35873ef-5b9c-4acb-b8e4-e6bc53a4e494', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 07:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e35873ef-5b9c-4acb-b8e4-e6bc53a4e494', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1d80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6700eb079e73711f011264c2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e2346405-e9c8-42b1-8e2e-1bff688ae2e1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 07:30:17 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e2346405-e9c8-42b1-8e2e-1bff688ae2e1', 'x-amzn-bedrock-invocation-latency': '1334', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41e70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700eb099e73711f011264c3
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.6.147 - - [05/Oct/2024 07:30:17] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:44.220.185.199 - - [05/Oct/2024 07:52:11] code 400, message Bad request syntax ('\x16\x03\x01\x02\x00\x01\x00\x01√º\x03\x030\x94\x8ba¬∂8%4\x18H√≥f√Ñ\x17\x91')
INFO:werkzeug:44.220.185.199 - - [05/Oct/2024 07:52:11] "[31m[1m\x16\x03\x01\x02\x00\x01\x00\x01√º\x03\x030\x94\x8ba¬∂8%4\x18H√≥f√Ñ\x17\x91[0m" 400 -
INFO:werkzeug:44.220.185.199 - - [05/Oct/2024 07:52:11] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6700f9489e73711f011264c5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cffc34c2-7d53-492a-8688-d4e9028ad781', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 08:31:07 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cffc34c2-7d53-492a-8688-d4e9028ad781', 'x-amzn-bedrock-invocation-latency': '1430', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a437c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6700f94b9e73711f011264c6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.6.147 - - [05/Oct/2024 08:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64172142-4b89-4299-8b76-5393590ea221', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 09:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '64172142-4b89-4299-8b76-5393590ea221', 'x-amzn-bedrock-invocation-latency': '322', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ff70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6701073b9e73711f011264c8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0420eef5-937c-4a4f-b7d4-428e7177ec9c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 09:30:38 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0420eef5-937c-4a4f-b7d4-428e7177ec9c', 'x-amzn-bedrock-invocation-latency': '1367', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1000>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701073e9e73711f011264c9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.236.32.88 - - [05/Oct/2024 09:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4f0b7e85-6037-4126-a7a7-26841d4ca24e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 10:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4f0b7e85-6037-4126-a7a7-26841d4ca24e', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6701152f9e73711f011264cb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd309a6f5-38fe-4a92-8023-cff1bdfa48fe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 10:30:10 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'd309a6f5-38fe-4a92-8023-cff1bdfa48fe', 'x-amzn-bedrock-invocation-latency': '1270', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42410>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670115329e73711f011264cc
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.228.224.45 - - [05/Oct/2024 10:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670123589e73711f011264ce
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '80c3b9eb-ac81-4d07-b610-2a15c5121540', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 11:30:35 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '80c3b9eb-ac81-4d07-b610-2a15c5121540', 'x-amzn-bedrock-invocation-latency': '1419', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701235b9e73711f011264cf
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.92.145.113 - - [05/Oct/2024 11:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '61112d0d-ffd6-4497-9139-6c0fc45b7f4b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 12:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '61112d0d-ffd6-4497-9139-6c0fc45b7f4b', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670131639e73711f011264d1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1c159aa5-ba46-4ebc-b0aa-81b760f395ba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 12:30:30 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1c159aa5-ba46-4ebc-b0aa-81b760f395ba', 'x-amzn-bedrock-invocation-latency': '1369', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a409a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670131669e73711f011264d2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.218.150.43 - - [05/Oct/2024 12:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67013f839e73711f011264d4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c2421608-e303-4ea7-a5cf-15a3214ee7cd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 13:30:46 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c2421608-e303-4ea7-a5cf-15a3214ee7cd', 'x-amzn-bedrock-invocation-latency': '1424', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8c10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67013f869e73711f011264d5
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.27.210 - - [05/Oct/2024 13:30:46] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:107.170.16.73 - - [05/Oct/2024 14:17:37] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03¬≤CQ√µRf\x12R¬±¬¢\x7f\x9d)\x96d√ø-t√ë√™¬¢I4\x86\x08¬æ1√ì\x8b√Æ√Ø\x19\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä')
INFO:werkzeug:107.170.16.73 - - [05/Oct/2024 14:17:37] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03¬≤CQ√µRf\x12R¬±¬¢\x7f\x9d)\x96d√ø-t√ë√™¬¢I4\x86\x08¬æ1√ì\x8b√Æ√Ø\x19\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:107.170.16.73 - - [05/Oct/2024 14:17:37] code 400, message Bad HTTP/0.9 request type ("\x16\x03\x01\x00{\x01\x00\x00w\x03\x03√ó√ö@\x17¬ø¬§{I√∑\x05√ß√æ'√±√ß¬•\x0f¬¥¬£ue\x97¬•T¬§Y\x8amK√©\x89√ã\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä")
INFO:werkzeug:107.170.16.73 - - [05/Oct/2024 14:17:37] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03√ó√ö@\x17¬ø¬§{I√∑\x05√ß√æ'√±√ß¬•\x0f¬¥¬£ue\x97¬•T¬§Y\x8amK√©\x89√ã\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:107.170.16.73 - - [05/Oct/2024 14:17:37] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67014d9f9e73711f011264d7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fd5e15d9-15c2-43e7-9a10-89566f98b6b3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 14:30:58 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'fd5e15d9-15c2-43e7-9a10-89566f98b6b3', 'x-amzn-bedrock-invocation-latency': '1412', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67014da29e73711f011264d8
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.87.161.164 - - [05/Oct/2024 14:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfcefa76-755a-4266-8028-8921b5ed7fd0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 15:30:08 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfcefa76-755a-4266-8028-8921b5ed7fd0', 'x-amzn-bedrock-invocation-latency': '336', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67015b809e73711f011264da
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e305485f-ef80-4cc0-bddc-e5f85fd78986', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 15:30:11 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e305485f-ef80-4cc0-bddc-e5f85fd78986', 'x-amzn-bedrock-invocation-latency': '1377', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67015b839e73711f011264db
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.112.152 - - [05/Oct/2024 15:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670169b59e73711f011264dd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e4b407e8-079b-4af3-af97-a84c6ec7fe6c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 16:30:48 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e4b407e8-079b-4af3-af97-a84c6ec7fe6c', 'x-amzn-bedrock-invocation-latency': '1351', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a438b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670169b89e73711f011264de
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.203.1 - - [05/Oct/2024 16:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3c86b7b0-0586-4396-9a11-52a168b5d61f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 17:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3c86b7b0-0586-4396-9a11-52a168b5d61f', 'x-amzn-bedrock-invocation-latency': '381', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd22c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670177b79e73711f011264e0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '261f5cef-d430-429b-a3dd-6e2972b5441e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 17:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '261f5cef-d430-429b-a3dd-6e2972b5441e', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670177ba9e73711f011264e1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.149.232 - - [05/Oct/2024 17:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6701860d9e73711f011264e3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '509dcebf-0fd7-41cc-b3de-a418bb2cf367', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 18:31:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '509dcebf-0fd7-41cc-b3de-a418bb2cf367', 'x-amzn-bedrock-invocation-latency': '1382', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42fb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670186109e73711f011264e4
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.112.65 - - [05/Oct/2024 18:31:44] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.31 - - [05/Oct/2024 18:42:06] "[33mGET / HTTP/1.0[0m" 404 -
INFO:werkzeug:172.169.4.28 - - [05/Oct/2024 18:50:22] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9c9ecc9-179c-44f8-a3e3-0a99a45e803f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 19:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9c9ecc9-179c-44f8-a3e3-0a99a45e803f', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd16c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670193dc9e73711f011264e6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '037b770e-6b30-43cc-9293-e2b083834e8b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 19:30:39 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '037b770e-6b30-43cc-9293-e2b083834e8b', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670193df9e73711f011264e7
INFO:__main__:Process completed successfully.
INFO:werkzeug:174.129.73.147 - - [05/Oct/2024 19:30:39] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:87.236.176.100 - - [05/Oct/2024 20:23:28] code 400, message Bad request version ('RTSP/1.0')
INFO:werkzeug:87.236.176.100 - - [05/Oct/2024 20:23:28] "[31m[1mOPTIONS / RTSP/1.0[0m" 400 -
ERROR:werkzeug:87.236.176.100 - - [05/Oct/2024 20:23:31] code 400, message Bad request version ('GetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00')
INFO:werkzeug:87.236.176.100 - - [05/Oct/2024 20:23:31] "[31m[1m\x00\x00\x00\x1f\x00\x00\x00\x00\x00\x00\x00\x0cGetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00[0m" 400 -
INFO:werkzeug:87.236.176.104 - - [05/Oct/2024 20:23:46] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6701a1f79e73711f011264e9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '848ecb44-5879-462a-b23f-8aa4ad5bf9ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 20:30:50 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '848ecb44-5879-462a-b23f-8aa4ad5bf9ce', 'x-amzn-bedrock-invocation-latency': '1412', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701a1fa9e73711f011264ea
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.99.221 - - [05/Oct/2024 20:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6701b00a9e73711f011264ec
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '65a73884-d8ce-47f2-b6bd-d4ba908d6041', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 21:30:53 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '65a73884-d8ce-47f2-b6bd-d4ba908d6041', 'x-amzn-bedrock-invocation-latency': '1427', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42380>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701b00d9e73711f011264ed
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.192.151 - - [05/Oct/2024 21:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dc175074-86d4-4e49-b86c-1eaaeb58647e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 22:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'dc175074-86d4-4e49-b86c-1eaaeb58647e', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6701be0d9e73711f011264ef
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b9509dd9-2466-480a-80d3-cf2e03c3e9b3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 22:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b9509dd9-2466-480a-80d3-cf2e03c3e9b3', 'x-amzn-bedrock-invocation-latency': '1384', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701be109e73711f011264f0
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.174.37 - - [05/Oct/2024 22:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a49b20c2-cf8c-4e5c-80e4-1665b9b8a5e5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 23:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a49b20c2-cf8c-4e5c-80e4-1665b9b8a5e5', 'x-amzn-bedrock-invocation-latency': '334', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5266b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6701cbfe9e73711f011264f2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06b402fb-a779-4f5b-bb81-7556cd848f1a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 05 Oct 2024 23:30:08 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '06b402fb-a779-4f5b-bb81-7556cd848f1a', 'x-amzn-bedrock-invocation-latency': '1283', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701cc009e73711f011264f3
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.191.21 - - [05/Oct/2024 23:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6701da229e73711f011264f5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c4d1472-c212-497c-9066-3a5f8aef3ddb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 00:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4c4d1472-c212-497c-9066-3a5f8aef3ddb', 'x-amzn-bedrock-invocation-latency': '1419', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701da249e73711f011264f6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.234.170.212 - - [06/Oct/2024 00:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8ef9850e-a239-4751-aa60-b8b84980e741', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 01:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8ef9850e-a239-4751-aa60-b8b84980e741', 'x-amzn-bedrock-invocation-latency': '332', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6701e81f9e73711f011264f8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5b7c3dac-09ea-47db-beca-353d9f402697', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 01:30:09 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5b7c3dac-09ea-47db-beca-353d9f402697', 'x-amzn-bedrock-invocation-latency': '1385', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a428c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701e8219e73711f011264f9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.174.37 - - [06/Oct/2024 01:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '50ec763a-f3da-49d4-9d97-d98712655174', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 02:30:07 GMT', 'content-type': 'application/json', 'content-length': '238', 'connection': 'keep-alive', 'x-amzn-requestid': '50ec763a-f3da-49d4-9d97-d98712655174', 'x-amzn-bedrock-invocation-latency': '409', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 6701f62f9e73711f011264fb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f5f22296-3ffd-4c6c-a5d2-ac220282d054', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 02:30:12 GMT', 'content-type': 'application/json', 'content-length': '1603', 'connection': 'keep-alive', 'x-amzn-requestid': 'f5f22296-3ffd-4c6c-a5d2-ac220282d054', 'x-amzn-bedrock-invocation-latency': '2850', 'x-amzn-bedrock-output-token-count': '309', 'x-amzn-bedrock-input-token-count': '1209'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a424d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, employees are entitled to various types of leaves, including annual leave, sick leave, and emergency leave. The policy encourages employees to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines rules for availing leaves, including the requirement for a follow-up call and the possibility of leave encashment. Additionally, the policy defines the process for leave encashment and the formula for calculating leave encashment.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"The policy defines the process and procedures regarding employee leave entitlements\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1209,"generation_token_count":309,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6701f6349e73711f011264fc
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.218.150.22 - - [06/Oct/2024 02:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670204939e73711f011264fe
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c73a888c-154b-48d2-baea-447ef539245b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 03:31:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c73a888c-154b-48d2-baea-447ef539245b', 'x-amzn-bedrock-invocation-latency': '1335', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670204969e73711f011264ff
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.227.95.54 - - [06/Oct/2024 03:31:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e40e3461-f272-40e5-89b6-ff76d3700cd5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 04:30:28 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e40e3461-f272-40e5-89b6-ff76d3700cd5', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a415d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670212649e73711f01126501
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '00051bcd-d4a5-4130-9865-bc65e2ceb0c8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 04:30:31 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '00051bcd-d4a5-4130-9865-bc65e2ceb0c8', 'x-amzn-bedrock-invocation-latency': '1360', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79630>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670212679e73711f01126502
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.25.142 - - [06/Oct/2024 04:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670220939e73711f01126504
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cc96e652-e9aa-4d6b-9a2e-88ccdfba9c7c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 05:31:02 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cc96e652-e9aa-4d6b-9a2e-88ccdfba9c7c', 'x-amzn-bedrock-invocation-latency': '1450', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670220969e73711f01126505
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.206.218.10 - - [06/Oct/2024 05:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.46 - - [06/Oct/2024 05:45:34] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ff0108a6-94e7-4ab3-8819-c42c7acc3ce5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 06:30:58 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ff0108a6-94e7-4ab3-8819-c42c7acc3ce5', 'x-amzn-bedrock-invocation-latency': '327', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67022ea29e73711f01126507
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1acbf70d-b40d-4291-ac1f-6df60512a3c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 06:31:01 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1acbf70d-b40d-4291-ac1f-6df60512a3c6', 'x-amzn-bedrock-invocation-latency': '1282', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67022ea59e73711f01126508
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.208.20.24 - - [06/Oct/2024 06:31:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'efffd533-d317-4b7c-9292-709db32bc262', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 07:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'efffd533-d317-4b7c-9292-709db32bc262', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67023c979e73711f0112650a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3b454f07-fed4-46a8-8a71-b7415039482e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 07:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3b454f07-fed4-46a8-8a71-b7415039482e', 'x-amzn-bedrock-invocation-latency': '1368', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79f90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67023c9a9e73711f0112650b
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.28.23 - - [06/Oct/2024 07:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67024ad19e73711f0112650d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '60a47067-ce4c-4f33-bfad-ea63379b076d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 08:31:15 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '60a47067-ce4c-4f33-bfad-ea63379b076d', 'x-amzn-bedrock-invocation-latency': '1304', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67024ad39e73711f0112650e
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.156.118 - - [06/Oct/2024 08:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '25160e9d-7518-4fde-b3a5-b1ea765d27ad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 09:31:01 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '25160e9d-7518-4fde-b3a5-b1ea765d27ad', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670258d59e73711f01126510
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8bf47d5b-cce8-4c75-8af4-05b48c651f61', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 09:31:04 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8bf47d5b-cce8-4c75-8af4-05b48c651f61', 'x-amzn-bedrock-invocation-latency': '1380', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf80d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670258d89e73711f01126511
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.205.105 - - [06/Oct/2024 09:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '587fe932-82b2-4920-96f9-358496a3c838', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 10:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '587fe932-82b2-4920-96f9-358496a3c838', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a412a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670266c89e73711f01126513
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb9994b9-2b1e-4f29-813c-40cb3e61d51c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 10:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb9994b9-2b1e-4f29-813c-40cb3e61d51c', 'x-amzn-bedrock-invocation-latency': '1277', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670266ca9e73711f01126514
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.193.11.141 - - [06/Oct/2024 10:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670274dd9e73711f01126516
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a27c733-9aa8-433c-be76-3dd73185e482', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 11:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3a27c733-9aa8-433c-be76-3dd73185e482', 'x-amzn-bedrock-invocation-latency': '1408', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9570>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670274e09e73711f01126517
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.84.106 - - [06/Oct/2024 11:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.214 - - [06/Oct/2024 11:42:27] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670283149e73711f01126519
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '42124358-e9ad-496a-ad29-9929e224f98f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 12:31:19 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '42124358-e9ad-496a-ad29-9929e224f98f', 'x-amzn-bedrock-invocation-latency': '1393', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670283179e73711f0112651a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.84.106 - - [06/Oct/2024 12:31:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6defc0de-4bed-4221-9ce5-cce90e80f889', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 13:31:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6defc0de-4bed-4221-9ce5-cce90e80f889', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf85b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670291239e73711f0112651c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4839ffc9-3c47-42a4-85a5-a9ff086cd58b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 13:31:18 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4839ffc9-3c47-42a4-85a5-a9ff086cd58b', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670291269e73711f0112651d
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.84.54.244 - - [06/Oct/2024 13:31:18] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:162.243.255.235 - - [06/Oct/2024 13:51:04] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:162.243.255.235 - - [06/Oct/2024 13:51:04] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03:Y¬±√∑}\x1e√ªB\x0e\x88\x04√≠\x10√ç\x97√ò√ö¬Ω4@Z¬™\x1b√öj4√Ω\x8d\x19=U√Ü\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:162.243.255.235 - - [06/Oct/2024 13:51:05] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:162.243.255.235 - - [06/Oct/2024 13:51:05] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03¬¨8\x82¬¥√å+√®√Ø¬†√£√ãFD¬≥\x85\x00\x95√â√æg√µ√•\x9e√ÖcG/\x18C√á\x07R\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:162.243.255.235 - - [06/Oct/2024 13:51:05] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8396ae01-4491-4b8b-900e-fc27da167e02', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 14:30:46 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8396ae01-4491-4b8b-900e-fc27da167e02', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9750>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67029f169e73711f0112651f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '22a32348-a875-4455-884f-915aa7632484', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 14:30:49 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '22a32348-a875-4455-884f-915aa7632484', 'x-amzn-bedrock-invocation-latency': '1355', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79270>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67029f199e73711f01126520
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.182.64 - - [06/Oct/2024 14:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f17fac2-ee1e-4de6-aff8-d03712f84e19', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 15:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7f17fac2-ee1e-4de6-aff8-d03712f84e19', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a406a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6702ad239e73711f01126522
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b2ac67a-2e64-46be-800b-60c118d449d5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 15:30:45 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1b2ac67a-2e64-46be-800b-60c118d449d5', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a890>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6702ad259e73711f01126523
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.182.64 - - [06/Oct/2024 15:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7b56d10d-68b2-41f7-9c84-e30cbd254f26', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 16:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7b56d10d-68b2-41f7-9c84-e30cbd254f26', 'x-amzn-bedrock-invocation-latency': '358', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42050>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6702bb259e73711f01126525
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dd138908-4565-4d37-9435-366a060359ca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 16:30:32 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'dd138908-4565-4d37-9435-366a060359ca', 'x-amzn-bedrock-invocation-latency': '1363', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a789a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6702bb289e73711f01126526
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.246.16 - - [06/Oct/2024 16:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6702c93f9e73711f01126528
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06a25c4a-45d3-4b7e-86b2-f947e35c50c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 17:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '06a25c4a-45d3-4b7e-86b2-f947e35c50c6', 'x-amzn-bedrock-invocation-latency': '1452', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6702c9429e73711f01126529
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.246.250 - - [06/Oct/2024 17:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6702d76c9e73711f0112652b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8a4983b3-0e31-4f2b-81e0-f32320ceac5e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 18:31:11 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8a4983b3-0e31-4f2b-81e0-f32320ceac5e', 'x-amzn-bedrock-invocation-latency': '1450', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6702d76f9e73711f0112652c
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.246.250 - - [06/Oct/2024 18:31:11] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:147.185.133.170 - - [06/Oct/2024 18:55:47] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:147.185.133.170 - - [06/Oct/2024 18:55:47] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03v√øI9¬ºka\x80\x82X¬®\x89\x9f$¬∂¬ød\x0d¬´¬Ø¬£\x1f√∑√™√ó√îD√Æ¬≥d^o √°√ö√∂\x08H\x96\x9bG\x88¬ß_]√ò?M\x8f√å√†\x11√ú√æ√´¬Æ¬¶9√æxZ√ëb¬†\x06\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
ERROR:werkzeug:147.185.133.170 - - [06/Oct/2024 18:55:47] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03\x11√ÇD')
INFO:werkzeug:147.185.133.170 - - [06/Oct/2024 18:55:47] "[31m[1m\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03\x11√ÇD\x1f√õDk\x1as\x1a√ß√ó√∑T√≤[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4add8f8e-b6ea-43f0-8e68-a820aa54c084', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 19:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4add8f8e-b6ea-43f0-8e68-a820aa54c084', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6702e55b9e73711f0112652e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6b2b1c4e-bf8f-4e48-91f2-9ae8d8e7362a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 19:30:38 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6b2b1c4e-bf8f-4e48-91f2-9ae8d8e7362a', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6702e55e9e73711f0112652f
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.182.64 - - [06/Oct/2024 19:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6702f3969e73711f01126531
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c637857-8498-4017-bd56-d4c38ad2865c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 20:31:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4c637857-8498-4017-bd56-d4c38ad2865c', 'x-amzn-bedrock-invocation-latency': '1443', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79870>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6702f3999e73711f01126532
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.194.29 - - [06/Oct/2024 20:31:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ee1c1ecf-130a-4c38-9aaa-cc3fc28a50ad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 21:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ee1c1ecf-130a-4c38-9aaa-cc3fc28a50ad', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526440>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670301629e73711f01126534
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cd1c33f2-6925-451b-850a-c58c5bcafb66', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 21:30:13 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cd1c33f2-6925-451b-850a-c58c5bcafb66', 'x-amzn-bedrock-invocation-latency': '1368', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7be20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670301659e73711f01126535
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.226.253.186 - - [06/Oct/2024 21:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67030f9a9e73711f01126537
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a9f7e7e0-8c81-44f8-8b85-54be1271f0b8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 22:30:53 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a9f7e7e0-8c81-44f8-8b85-54be1271f0b8', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67030f9d9e73711f01126538
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.205.241 - - [06/Oct/2024 22:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '065ca68f-73fc-49df-be30-b1b5e79c75b3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 23:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '065ca68f-73fc-49df-be30-b1b5e79c75b3', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa4a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67031da09e73711f0112653a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '78c3d83b-5889-468d-ac7c-03484c4fee6e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 06 Oct 2024 23:30:43 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '78c3d83b-5889-468d-ac7c-03484c4fee6e', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79600>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67031da39e73711f0112653b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.250.71 - - [06/Oct/2024 23:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67032bc59e73711f0112653d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cf116de9-ddc6-4d9a-b264-6731232a349f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 00:31:04 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cf116de9-ddc6-4d9a-b264-6731232a349f', 'x-amzn-bedrock-invocation-latency': '1448', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67032bc89e73711f0112653e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.76.107 - - [07/Oct/2024 00:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670339db9e73711f01126540
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'faa57326-c299-43e1-b594-bd225b892cdc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 01:31:10 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'faa57326-c299-43e1-b594-bd225b892cdc', 'x-amzn-bedrock-invocation-latency': '1317', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5262f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670339de9e73711f01126541
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.228.156 - - [07/Oct/2024 01:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670347fc9e73711f01126543
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '49dc48cf-f51d-4396-b732-0c086c1c52b5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 02:31:27 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '49dc48cf-f51d-4396-b732-0c086c1c52b5', 'x-amzn-bedrock-invocation-latency': '1324', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bd30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670347ff9e73711f01126544
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.16.211 - - [07/Oct/2024 02:31:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db247957-73b2-4700-a03d-c88c44df1917', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 03:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'db247957-73b2-4700-a03d-c88c44df1917', 'x-amzn-bedrock-invocation-latency': '380', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ec50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670355dd9e73711f01126546
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '80424b04-d487-4782-a27d-150e576862d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 03:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '80424b04-d487-4782-a27d-150e576862d8', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a780a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670355e09e73711f01126547
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.254.129 - - [07/Oct/2024 03:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703641b9e73711f01126549
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '10fe87c9-fedb-47bf-9b17-72e815c7c54d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 04:31:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '10fe87c9-fedb-47bf-9b17-72e815c7c54d', 'x-amzn-bedrock-invocation-latency': '1275', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79360>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703641e9e73711f0112654a
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.16.211 - - [07/Oct/2024 04:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '88b1670f-901e-48ae-9a0a-a1a5edc1f065', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 05:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '88b1670f-901e-48ae-9a0a-a1a5edc1f065', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670371f19e73711f0112654c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '409e2511-4679-45f1-a001-2a3e642f75ca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 05:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '409e2511-4679-45f1-a001-2a3e642f75ca', 'x-amzn-bedrock-invocation-latency': '1374', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a793c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670371f49e73711f0112654d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.88.251 - - [07/Oct/2024 05:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670380359e73711f0112654f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8203b2df-312e-4549-b04e-f93ed97650a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 06:31:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8203b2df-312e-4549-b04e-f93ed97650a0', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78e50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670380389e73711f01126550
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.254.129 - - [07/Oct/2024 06:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hello jinie', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hello jinie
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670387539e73711f01126552
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fdc2ba35-7a80-41c0-ab59-f9d3aa0eedb2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 07:01:43 GMT', 'content-type': 'application/json', 'content-length': '609', 'connection': 'keep-alive', 'x-amzn-requestid': 'fdc2ba35-7a80-41c0-ab59-f9d3aa0eedb2', 'x-amzn-bedrock-invocation-latency': '1893', 'x-amzn-bedrock-output-token-count': '183', 'x-amzn-bedrock-input-token-count': '924'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79660>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind?\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hello jinie\",\n        \"source\": \"Gemini Solutions Pvt. Ltd\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":924,"generation_token_count":183,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670387579e73711f01126553
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 07:01:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the process of due diligence currently in the company', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what is the process of due diligence currently in the company
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dc089578-ab59-40c6-8fd2-f952b35c581e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 07:02:18 GMT', 'content-type': 'application/json', 'content-length': '221', 'connection': 'keep-alive', 'x-amzn-requestid': 'dc089578-ab59-40c6-8fd2-f952b35c581e', 'x-amzn-bedrock-invocation-latency': '331', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '225'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7af50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you please explain the current due diligence process in Gemini Solutions?\"\n}","prompt_token_count":225,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you please explain the current due diligence process in Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6703877a9e73711f01126555
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b0febbec-9618-40a3-b570-05411a9aa5ed', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 07:02:23 GMT', 'content-type': 'application/json', 'content-length': '2144', 'connection': 'keep-alive', 'x-amzn-requestid': 'b0febbec-9618-40a3-b570-05411a9aa5ed', 'x-amzn-bedrock-invocation-latency': '4418', 'x-amzn-bedrock-output-token-count': '449', 'x-amzn-bedrock-input-token-count': '1187'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The due diligence process in Gemini Solutions is designed to ensure that products, solutions, and services procured maintain the confidentiality, availability, and integrity of information, in addition to being cost-effective and fit for purpose. The process involves steps such as identification of needs and analysis, supplier profiling and evaluation, engagement strategy and execution, and supplier/contract performance. Clear expectations are set for both supplier and Gemini Solution responsibilities. Additionally, Gemini Solutions has onboarded First Advantage as the background verification partner to verify the National ID, Highest Education Qualification, Last 10 years Employment History, 2 Professional Reference Checks, Court Record Check, and Global Database Check for all employees. This verification can be done prior to, during, or within 6 months of joining a candidate.\",\n    \"References\": [\n        {\n            \"Statement\": \"Process is designed to ensure that products, solutions and services procured, maintain the confidentiality, availability and integrity of information, in addition to being cost effective and fit for purpose.\",\n            \"source\": \"Gemini - Supplier Security Policy v1.0_India.pdf - Page No: 4\"\n        },\n        {\n            \"Statement\": \"Gemini has onboarded First Advantage as the BGV partner that verifies the National ID, Highest Education Qualification, Last 10 years Employment History, 2 Professional Reference Checks, Court Record Check and Global Database Check.\",\n            \"source\": \"Background Verification Policy_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you please explain the current due diligence process in Gemini Solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1187,"generation_token_count":449,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703877f9e73711f01126556
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 07:02:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67038e539e73711f01126558
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9d23a761-c306-4906-b1db-d558db2ecb12', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 07:31:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9d23a761-c306-4906-b1db-d558db2ecb12', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67038e569e73711f01126559
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.228.208.38 - - [07/Oct/2024 07:31:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6ce65668-104b-43f4-b4cf-047f3d25532f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 08:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6ce65668-104b-43f4-b4cf-047f3d25532f', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67039c169e73711f0112655b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'efef9f16-1add-4512-b999-5cdf6e6802bd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 08:30:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'efef9f16-1add-4512-b999-5cdf6e6802bd', 'x-amzn-bedrock-invocation-latency': '1337', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79b70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67039c189e73711f0112655c
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.16.211 - - [07/Oct/2024 08:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703aa559e73711f0112655e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '399b3c3c-f608-40e2-9fe8-10a789d1682c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 09:31:03 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '399b3c3c-f608-40e2-9fe8-10a789d1682c', 'x-amzn-bedrock-invocation-latency': '1393', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a795d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703aa579e73711f0112655f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.196.115.246 - - [07/Oct/2024 09:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.121 - - [07/Oct/2024 09:39:06] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'when can i receive my pluxee amount?', 'conversation_id': 'a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi'}
INFO:__main__:Received query: when can i receive my pluxee amount?
INFO:__main__:Received conversation_id: a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703ae269e73711f01126561
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ba61efb0-a673-45e1-97a8-5abbc1df52f0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 09:47:22 GMT', 'content-type': 'application/json', 'content-length': '914', 'connection': 'keep-alive', 'x-amzn-requestid': 'ba61efb0-a673-45e1-97a8-5abbc1df52f0', 'x-amzn-bedrock-invocation-latency': '2467', 'x-amzn-bedrock-output-token-count': '268', 'x-amzn-bedrock-input-token-count': '1156'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"You can receive your Pluxee (Sodexo) food wallet amount every month, with INR 2000 credited to your account. This is mentioned in the Accounts - Remuneration.csv file, Sheet1, Index 12.\",\n    \"References\": [\n        {\n            \"Statement\": \"If you opt for it, INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index 12\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi\",\n        \"query\": \"when can i receive my pluxee amount?\",\n        \"source\": \"Accounts - Remuneration.csv\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1156,"generation_token_count":268,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703ae2a9e73711f01126562
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 09:47:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the type of leave gemini offers?', 'conversation_id': 'a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi'}
INFO:__main__:Received query: what are the type of leave gemini offers?
INFO:__main__:Received conversation_id: a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b7f681bd-ef42-437d-9b95-12e0b868f2d1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 09:48:16 GMT', 'content-type': 'application/json', 'content-length': '182', 'connection': 'keep-alive', 'x-amzn-requestid': 'b7f681bd-ef42-437d-9b95-12e0b868f2d1', 'x-amzn-bedrock-invocation-latency': '294', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '301'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what types of leave does gemini offer?\"\n}","prompt_token_count":301,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what types of leave does gemini offer?
INFO:__main__:Query stored successfully with ID: 6703ae609e73711f01126564
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6e2b990b-a4fe-460c-8166-c1c38e5c85ba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 09:48:21 GMT', 'content-type': 'application/json', 'content-length': '1409', 'connection': 'keep-alive', 'x-amzn-requestid': '6e2b990b-a4fe-460c-8166-c1c38e5c85ba', 'x-amzn-bedrock-invocation-latency': '3383', 'x-amzn-bedrock-output-token-count': '360', 'x-amzn-bedrock-input-token-count': '1167'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79f90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Emergency Leaves. Sick Leaves are allowed for 7 days on full fixed pay in one leave year. Casual Leaves can be recorded if there is outstanding leave or as Leave without Pay if the leave entitlement is exhausted. Emergency Leaves can be rejected at the discretion of the Supervisor.\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        },\n        {\n            \"Statement\": \"Such leave shall be recorded as casual leave if there is outstanding leave or as Leave without Pay if his/her leave entitlement is exhausted.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi\",\n        \"query\": \"what types of leave does gemini offer?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1167,"generation_token_count":360,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703ae659e73711f01126565
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 09:48:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many casual leaves can i avail in an year?', 'conversation_id': 'a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi'}
INFO:__main__:Received query: how many casual leaves can i avail in an year?
INFO:__main__:Received conversation_id: a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ae019783-3129-40f8-9610-b0831f6ca06f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 09:51:52 GMT', 'content-type': 'application/json', 'content-length': '188', 'connection': 'keep-alive', 'x-amzn-requestid': 'ae019783-3129-40f8-9610-b0831f6ca06f', 'x-amzn-bedrock-invocation-latency': '384', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '509'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"how many casual leaves can i take in a year?\"\n}","prompt_token_count":509,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: how many casual leaves can i take in a year?
INFO:__main__:Query stored successfully with ID: 6703af389e73711f01126567
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '526797fb-215e-4afa-b046-003269cf77dc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 09:51:56 GMT', 'content-type': 'application/json', 'content-length': '860', 'connection': 'keep-alive', 'x-amzn-requestid': '526797fb-215e-4afa-b046-003269cf77dc', 'x-amzn-bedrock-invocation-latency': '2523', 'x-amzn-bedrock-output-token-count': '252', 'x-amzn-bedrock-input-token-count': '1038'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ace0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As a confirmed employee, you are allowed 7 Casual Leaves (CLs) on full fixed pay in one leave year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of casual leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi\",\n        \"query\": \"how many casual leaves can i take in a year?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"56\"\n    }\n}","prompt_token_count":1038,"generation_token_count":252,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703af3c9e73711f01126568
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 09:51:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hey ', 'conversation_id': 'a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M'}
INFO:__main__:Received query: hey 
INFO:__main__:Received conversation_id: a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703b0299e73711f0112656a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3745e2a-decb-4f56-943a-4ca34cf32792', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 09:55:56 GMT', 'content-type': 'application/json', 'content-length': '692', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3745e2a-decb-4f56-943a-4ca34cf32792', 'x-amzn-bedrock-invocation-latency': '1985', 'x-amzn-bedrock-output-token-count': '197', 'x-amzn-bedrock-input-token-count': '936'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind? Please feel free to ask a specific question, and I'll do my best to provide a clear and concise answer.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M\",\n        \"query\": \"hey \",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":936,"generation_token_count":197,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703b02c9e73711f0112656b
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 09:55:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how can i avail pluxee benefit?', 'conversation_id': 'a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi'}
INFO:__main__:Received query: how can i avail pluxee benefit?
INFO:__main__:Received conversation_id: a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1ff22096-0461-452b-aa9d-d8202c5a1a11', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:10:04 GMT', 'content-type': 'application/json', 'content-length': '176', 'connection': 'keep-alive', 'x-amzn-requestid': '1ff22096-0461-452b-aa9d-d8202c5a1a11', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '22', 'x-amzn-bedrock-input-token-count': '483'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78dc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what benefits does gemini offer?\"\n}","prompt_token_count":483,"generation_token_count":22,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what benefits does gemini offer?
INFO:__main__:Query stored successfully with ID: 6703b37c9e73711f0112656d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92a71594-4449-41d8-aebc-207e142e6fb0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:10:10 GMT', 'content-type': 'application/json', 'content-length': '1980', 'connection': 'keep-alive', 'x-amzn-requestid': '92a71594-4449-41d8-aebc-207e142e6fb0', 'x-amzn-bedrock-invocation-latency': '4534', 'x-amzn-bedrock-output-token-count': '465', 'x-amzn-bedrock-input-token-count': '1190'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18b20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers various benefits to its employees, including a joining bonus, retention bonus, and gratuity. The company also provides insurance coverage for its employees, with the company bearing 50% of the cost of the insurance plan selected by the employee. Additionally, Gemini offers a range of employee engagement activities, such as Zumba, mental health workshops, creative activities, team bonding activities, and ice breaker events. The company also celebrates annual parties and townhall meetings, which provide opportunities for employees to interact with senior management and receive updates on strategic business issues.\",\n    \"References\": [\n        {\n            \"Statement\": \"Varies with the Level of Employees. (Per Day Basis)\",\n            \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf - Page 4\"\n        },\n        {\n            \"Statement\": \"The company will bear 50% of the cost of the insurance plan selected by the employee.\",\n            \"source\": \"International Transfer Policy.pdf - Page 6\"\n        },\n        {\n            \"Statement\": \"All work and no play makes Jack a dull boy. Gemini follows this proverb very diligently, thus it focuses on the mental and physical well-being of its family.\",\n            \"source\": \"Gemini-Engagement Policy_Version 1.1_India.pdf - Page 6\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi\",\n        \"query\": \"what benefits does gemini offer?\",\n        \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf, Gemini-Engagement Policy_Version 1.1_India.pdf, International Transfer Policy.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1190,"generation_token_count":465,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703b3829e73711f0112656e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 10:10:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '45424297-299d-45c0-bfbb-d6ec3ce39c5c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:30:56 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '45424297-299d-45c0-bfbb-d6ec3ce39c5c', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42ad0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6703b8609e73711f01126570
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c442a2f5-09fe-46b8-98dc-b238125de3b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:30:58 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c442a2f5-09fe-46b8-98dc-b238125de3b6', 'x-amzn-bedrock-invocation-latency': '1330', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ae60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703b8629e73711f01126571
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.24.69.77 - - [07/Oct/2024 10:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how can i avail pluxee benefit', 'conversation_id': 'a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M'}
INFO:__main__:Received query: how can i avail pluxee benefit
INFO:__main__:Received conversation_id: a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '73baa895-a9a6-4963-b67a-78252f35255a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:31:21 GMT', 'content-type': 'application/json', 'content-length': '182', 'connection': 'keep-alive', 'x-amzn-requestid': '73baa895-a9a6-4963-b67a-78252f35255a', 'x-amzn-bedrock-invocation-latency': '291', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbfa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"How can I avail of the Pluxee benefit?\"\n}","prompt_token_count":241,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How can I avail of the Pluxee benefit?
INFO:__main__:Query stored successfully with ID: 6703b8799e73711f01126573
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c3353902-bff8-4344-80a6-79a90c46dc36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:31:26 GMT', 'content-type': 'application/json', 'content-length': '1278', 'connection': 'keep-alive', 'x-amzn-requestid': 'c3353902-bff8-4344-80a6-79a90c46dc36', 'x-amzn-bedrock-invocation-latency': '3266', 'x-amzn-bedrock-output-token-count': '335', 'x-amzn-bedrock-input-token-count': '1041'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a1d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To avail of the Pluxee benefit, you can opt for it and INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month. You will receive an email from colleagues.connect@gemini.com during the financial year or new hire onboarding, where you can opt for tax benefit options provided by Gemini.\",\n    \"References\": [\n        {\n            \"Statement\": \"If you opt for it, INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 12\"\n        },\n        {\n            \"Statement\": \"You'll receive an email from colleagues.connect@gemini.com during the financial year or new hire onboarding.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 21\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M\",\n        \"query\": \"How can I avail of the Pluxee benefit?\",\n        \"source\": \"Accounts - Remuneration.csv\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1041,"generation_token_count":335,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703b87e9e73711f01126574
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 10:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the type of leaves in gemini?', 'conversation_id': 'a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M'}
INFO:__main__:Received query: what are the type of leaves in gemini?
INFO:__main__:Received conversation_id: a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4708e7a6-a2f9-4ffc-b660-9732a542055e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:31:47 GMT', 'content-type': 'application/json', 'content-length': '193', 'connection': 'keep-alive', 'x-amzn-requestid': '4708e7a6-a2f9-4ffc-b660-9732a542055e', 'x-amzn-bedrock-invocation-latency': '297', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '442'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What are the types of leaves available in Gemini?\"\n}","prompt_token_count":442,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the types of leaves available in Gemini?
INFO:__main__:Query stored successfully with ID: 6703b8939e73711f01126576
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ec2f980d-284d-411d-b43b-aecc18e37b5c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:31:52 GMT', 'content-type': 'application/json', 'content-length': '1274', 'connection': 'keep-alive', 'x-amzn-requestid': 'ec2f980d-284d-411d-b43b-aecc18e37b5c', 'x-amzn-bedrock-invocation-latency': '2951', 'x-amzn-bedrock-output-token-count': '301', 'x-amzn-bedrock-input-token-count': '962'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers various types of leaves to its employees. However, the specific types of leaves available may vary depending on the employee's terms and conditions of employment. As per the company's leave policy, employees are encouraged to discuss and agree on the timings of their leave with their respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page 8\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M\",\n        \"query\": \"What are the types of leaves available in Gemini?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":962,"generation_token_count":301,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703b8989e73711f01126577
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 10:31:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many cl and sl i get as a new joiner ', 'conversation_id': 'a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M'}
INFO:__main__:Received query: how many cl and sl i get as a new joiner 
INFO:__main__:Received conversation_id: a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b1572b73-3c3b-4f6e-bc2b-50f2b01d296f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:39:46 GMT', 'content-type': 'application/json', 'content-length': '188', 'connection': 'keep-alive', 'x-amzn-requestid': 'b1572b73-3c3b-4f6e-bc2b-50f2b01d296f', 'x-amzn-bedrock-invocation-latency': '335', 'x-amzn-bedrock-output-token-count': '29', 'x-amzn-bedrock-input-token-count': '536'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ae00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"How many CL and SL do I get as a new joiner?\"\n}","prompt_token_count":536,"generation_token_count":29,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many CL and SL do I get as a new joiner?
INFO:__main__:Query stored successfully with ID: 6703ba729e73711f01126579
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4680b8b0-420c-4339-9419-8d4661434d26', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 10:39:50 GMT', 'content-type': 'application/json', 'content-length': '1129', 'connection': 'keep-alive', 'x-amzn-requestid': '4680b8b0-420c-4339-9419-8d4661434d26', 'x-amzn-bedrock-invocation-latency': '3054', 'x-amzn-bedrock-output-token-count': '310', 'x-amzn-bedrock-input-token-count': '1007'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a19300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As a new joiner, you get 3 Casual Leaves (CL) every quarter, which will lapse at the end of the quarter if not used. Additionally, you are eligible for 7 Casual Leaves (CLs) and 7 Sick Leaves (SLs) credited annually.\",\n    \"References\": [\n        {\n            \"Statement\": \"As a technical trainee, you get 3 Casual Leaves (CL) every quarter.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 1\"\n        },\n        {\n            \"Statement\": \"Each year, you‚Äôll receive 7 Casual Leaves (CLs), 7 Sick Leaves (SLs) credited annually\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 6\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1xtpApCxIbCrioG_Gh-le2NdReq2o4uufjlTK0Eekp64Vjm1mXCg85R6W51dacnjlpEonhgzjZOsIoxzn7UTW7O0rz0IKkGwb9NKbHMt37q2_052hmaGJs69TDL5y9m7M\",\n        \"query\": \"How many CL and SL do I get as a new joiner?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1007,"generation_token_count":310,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703ba769e73711f0112657a
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 10:39:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703c68a9e73711f0112657c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6dda33d7-2c9b-45a6-b708-6d528e47556c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:31:25 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6dda33d7-2c9b-45a6-b708-6d528e47556c', 'x-amzn-bedrock-invocation-latency': '1428', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bdf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703c68d9e73711f0112657d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.84.193 - - [07/Oct/2024 11:31:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the company‚Äôs legal name?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what is the company‚Äôs legal name?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703c9139e73711f0112657f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd6cfb996-e310-45e0-bf67-a188c780d03c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:42:15 GMT', 'content-type': 'application/json', 'content-length': '959', 'connection': 'keep-alive', 'x-amzn-requestid': 'd6cfb996-e310-45e0-bf67-a188c780d03c', 'x-amzn-bedrock-invocation-latency': '2696', 'x-amzn-bedrock-output-token-count': '272', 'x-amzn-bedrock-input-token-count': '1035'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bf40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The company's legal name is Gemini Solutions Private Limited.\",\n    \"References\": [\n        {\n            \"Statement\": \"vi. 'Company' means 'GEMINI SOLUTIONS PRIVATE LIMITED' a Company registered under the provisions of the Companies Act having its registered office at H-324, Gali No- 6 Raj Nagar-II, Palam Colony New Delhi 110077 India\",\n            \"source\": \"Gemini-ESOP scheme - final 1_India.pdf - Page No: 3 - Sheet Name: N/A - Index: N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"what is the company‚Äôs legal name?\",\n        \"source\": \"Gemini-ESOP scheme - final 1_India.pdf\",\n        \"response_length\": \"56\"\n    }\n}","prompt_token_count":1035,"generation_token_count":272,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703c9179e73711f01126580
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 11:42:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'when was the company founded?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: when was the company founded?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3cd0d53a-6b88-4581-a26d-e07d21767b82', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:42:41 GMT', 'content-type': 'application/json', 'content-length': '195', 'connection': 'keep-alive', 'x-amzn-requestid': '3cd0d53a-6b88-4581-a26d-e07d21767b82', 'x-amzn-bedrock-invocation-latency': '258', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '297'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ab30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"when was Gemini Solutions Private Limited founded?\"\n}","prompt_token_count":297,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: when was the company founded?
INFO:__main__:Query stored successfully with ID: 6703c9319e73711f01126582
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '45070eff-353e-4b93-a09b-b40365ff89ad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:42:44 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '45070eff-353e-4b93-a09b-b40365ff89ad', 'x-amzn-bedrock-invocation-latency': '1989', 'x-amzn-bedrock-output-token-count': '197', 'x-amzn-bedrock-input-token-count': '955'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, the provided texts do not mention the founding date of Gemini Solutions. As a bot, I can only provide information related to company policies and procedures. If you have any further questions regarding our policies, I'll be happy to assist you.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"when was the company founded?\",\n        \"source\": \"Provided texts\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":955,"generation_token_count":197,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703c9349e73711f01126583
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 11:42:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'are there any ongoing legal disputes?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: are there any ongoing legal disputes?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '383e39f7-7da9-4401-99a5-2889c3f6dff6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:42:56 GMT', 'content-type': 'application/json', 'content-length': '225', 'connection': 'keep-alive', 'x-amzn-requestid': '383e39f7-7da9-4401-99a5-2889c3f6dff6', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '370'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ba90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"are there any ongoing legal disputes related to Gemini Solutions Private Limited?\"\n}","prompt_token_count":370,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: are there any ongoing legal disputes related to Gemini Solutions Private Limited?
INFO:__main__:Query stored successfully with ID: 6703c9409e73711f01126585
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13f14749-4fb9-41af-8613-3e513c58e176', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:43:00 GMT', 'content-type': 'application/json', 'content-length': '1085', 'connection': 'keep-alive', 'x-amzn-requestid': '13f14749-4fb9-41af-8613-3e513c58e176', 'x-amzn-bedrock-invocation-latency': '2710', 'x-amzn-bedrock-output-token-count': '278', 'x-amzn-bedrock-input-token-count': '965'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a197b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Based on the provided information, there is no mention of ongoing legal disputes related to Gemini Solutions Private Limited. The provided documents appear to be company policies, employee handbooks, and ESOP schemes, which do not indicate any legal disputes.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"are there any ongoing legal disputes related to Gemini Solutions Private Limited?\",\n        \"source\": \"Gemini-ESOP scheme - final 1_India.pdf, Gemini-Housekeeping Policy_Version 2.0._India.pdf, SEXUAL HARRASMENT POLICY Updated_India.pdf, Gemini-CAREER MANAGEMENT POLICY_Version 6.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":965,"generation_token_count":278,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703c9449e73711f01126586
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 11:43:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what texhnology or systems does the company use?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what texhnology or systems does the company use?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aa37cbe9-3912-4057-b5c6-0633309f36a2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:43:38 GMT', 'content-type': 'application/json', 'content-length': '213', 'connection': 'keep-alive', 'x-amzn-requestid': 'aa37cbe9-3912-4057-b5c6-0633309f36a2', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '337'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what technology or systems does Gemini Solutions Private Limited use?\"\n}","prompt_token_count":337,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what technology or systems does Gemini Solutions Private Limited use?
INFO:__main__:Query stored successfully with ID: 6703c96a9e73711f01126588
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6d41c1d4-d61c-4f85-8abd-7e74617dff48', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:43:42 GMT', 'content-type': 'application/json', 'content-length': '992', 'connection': 'keep-alive', 'x-amzn-requestid': '6d41c1d4-d61c-4f85-8abd-7e74617dff48', 'x-amzn-bedrock-invocation-latency': '2411', 'x-amzn-bedrock-output-token-count': '243', 'x-amzn-bedrock-input-token-count': '952'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions Private Limited uses innovative technologies such as artificial intelligence and machine learning to drive growth and innovation.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solution embarks on a journey of growth using innovation and new technological advances such as artificial intelligence and machine learning.\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - Page No: 3\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"what technology or systems does Gemini Solutions Private Limited use?\",\n        \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf\",\n        \"response_length\": \"56\"\n    }\n}","prompt_token_count":952,"generation_token_count":243,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703c96e9e73711f01126589
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 11:43:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'who is responsible for the governance - who are the board members', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: who is responsible for the governance - who are the board members
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd0b70aab-9600-4e54-9e1d-2585824c0cad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:44:35 GMT', 'content-type': 'application/json', 'content-length': '206', 'connection': 'keep-alive', 'x-amzn-requestid': 'd0b70aab-9600-4e54-9e1d-2585824c0cad', 'x-amzn-bedrock-invocation-latency': '318', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '372'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa4a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"who are the board members of Gemini Solutions Private Limited?\"\n}","prompt_token_count":372,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: who are the board members of Gemini Solutions Private Limited?
INFO:__main__:Query stored successfully with ID: 6703c9a39e73711f0112658b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2cdba5c1-9dd7-4f06-a6ff-6159d2c2e49e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:44:39 GMT', 'content-type': 'application/json', 'content-length': '797', 'connection': 'keep-alive', 'x-amzn-requestid': '2cdba5c1-9dd7-4f06-a6ff-6159d2c2e49e', 'x-amzn-bedrock-invocation-latency': '2046', 'x-amzn-bedrock-output-token-count': '206', 'x-amzn-bedrock-input-token-count': '774'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3e50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, the provided texts do not mention the board members of Gemini Solutions Private Limited. As a bot, I can only provide information related to company policies and procedures. If you have any further questions or concerns regarding company policies, I'll be happy to assist you.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"who are the board members of Gemini Solutions Private Limited?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":774,"generation_token_count":206,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703c9a79e73711f0112658c
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 11:44:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'who is the ceo/cfo?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: who is the ceo/cfo?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '023d02ee-0731-4ebb-a269-9a53a5003e60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:45:00 GMT', 'content-type': 'application/json', 'content-length': '234', 'connection': 'keep-alive', 'x-amzn-requestid': '023d02ee-0731-4ebb-a269-9a53a5003e60', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '32', 'x-amzn-bedrock-input-token-count': '361'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9a50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"who are the top executives of Gemini Solutions Private Limited, including the CEO and CFO?\"\n}","prompt_token_count":361,"generation_token_count":32,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: who are the top executives of Gemini Solutions Private Limited, including the CEO and CFO?
INFO:__main__:Query stored successfully with ID: 6703c9bc9e73711f0112658e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '65373560-f120-41c9-a9f7-5214ab0a7f7d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 11:45:04 GMT', 'content-type': 'application/json', 'content-length': '1034', 'connection': 'keep-alive', 'x-amzn-requestid': '65373560-f120-41c9-a9f7-5214ab0a7f7d', 'x-amzn-bedrock-invocation-latency': '2698', 'x-amzn-bedrock-output-token-count': '271', 'x-amzn-bedrock-input-token-count': '874'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, the provided texts do not contain information about the top executives of Gemini Solutions Private Limited, including the CEO and CFO. As a bot, I can only provide information related to company policies and procedures. If you have any further queries regarding company policies, I'll be happy to assist you.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"who are the top executives of Gemini Solutions Private Limited, including the CEO and CFO?\",\n        \"source\": \"Gemini-ESOP scheme - final 1_India.pdf, Gemini-CAREER MANAGEMENT POLICY_Version 6.0_India.pdf, Gemini-BUDDY PROGRAM_Version1.0_India.pdf, Gemini-Fresher Hiring Policy_Version1.0_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":874,"generation_token_count":271,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703c9c09e73711f0112658f
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [07/Oct/2024 11:45:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a95722d-4bf6-4d37-8162-27ab5881e841', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 12:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3a95722d-4bf6-4d37-8162-27ab5881e841', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbaf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6703d4629e73711f01126591
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e423d8bc-a3d0-4c83-8470-351739bb18fe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 12:30:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e423d8bc-a3d0-4c83-8470-351739bb18fe', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2b30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703d4659e73711f01126592
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.225.177 - - [07/Oct/2024 12:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703e28f9e73711f01126594
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'af44a7e9-4d00-4160-a4c8-1aa89ae128e2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 13:30:58 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'af44a7e9-4d00-4160-a4c8-1aa89ae128e2', 'x-amzn-bedrock-invocation-latency': '1422', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e2140>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703e2929e73711f01126595
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.238.156.165 - - [07/Oct/2024 13:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6703f0a89e73711f01126597
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b8126281-c6f7-4f20-80af-92b2aa45fc30', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 14:31:07 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b8126281-c6f7-4f20-80af-92b2aa45fc30', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1210>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703f0ab9e73711f01126598
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.238.156.165 - - [07/Oct/2024 14:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8f8ac1bb-19f8-4d4a-a282-87bf69c4b1c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 15:31:01 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8f8ac1bb-19f8-4d4a-a282-87bf69c4b1c6', 'x-amzn-bedrock-invocation-latency': '331', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cc10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6703feb59e73711f0112659a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7da92e95-bfb3-471f-b72c-a9f837d15b41', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 15:31:03 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7da92e95-bfb3-471f-b72c-a9f837d15b41', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3b20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6703feb79e73711f0112659b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.42.114 - - [07/Oct/2024 15:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e95b906c-ebf0-4e89-8e11-31ecd45f517b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 16:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e95b906c-ebf0-4e89-8e11-31ecd45f517b', 'x-amzn-bedrock-invocation-latency': '374', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67040caf9e73711f0112659d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '09db486b-2493-48db-a84a-d809375629c7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 16:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '09db486b-2493-48db-a84a-d809375629c7', 'x-amzn-bedrock-invocation-latency': '1354', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67040cb29e73711f0112659e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.201.154 - - [07/Oct/2024 16:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'caad5562-4e98-4bdd-b357-5b7abda9f44d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 17:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'caad5562-4e98-4bdd-b357-5b7abda9f44d', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd04f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67041aab9e73711f011265a0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c13cb18-3ff9-439b-9d67-2da852e24326', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 17:30:22 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4c13cb18-3ff9-439b-9d67-2da852e24326', 'x-amzn-bedrock-invocation-latency': '1343', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd37f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67041aae9e73711f011265a1
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.152.105.1 - - [07/Oct/2024 17:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670429519e73711f011265a3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92dceaea-32b2-438f-aa4b-d8591bfb3462', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 18:32:52 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '92dceaea-32b2-438f-aa4b-d8591bfb3462', 'x-amzn-bedrock-invocation-latency': '1301', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670429549e73711f011265a4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.162.63.223 - - [07/Oct/2024 18:32:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4b6fdce9-f702-4e64-bab5-8b19a21b1c5e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 19:30:56 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4b6fdce9-f702-4e64-bab5-8b19a21b1c5e', 'x-amzn-bedrock-invocation-latency': '298', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670436f09e73711f011265a6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f704a49a-7b30-46ad-bdf0-3a8d81f2a67d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 19:30:59 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f704a49a-7b30-46ad-bdf0-3a8d81f2a67d', 'x-amzn-bedrock-invocation-latency': '1355', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42bc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670436f39e73711f011265a7
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.247.147 - - [07/Oct/2024 19:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6704450f9e73711f011265a9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c6296bca-392d-4e96-9fd2-bf29c92f14e1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 20:31:14 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c6296bca-392d-4e96-9fd2-bf29c92f14e1', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42d70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670445129e73711f011265aa
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.42.114 - - [07/Oct/2024 20:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b6cb8dfb-d7af-44b7-9126-3d10a576c35a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 21:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b6cb8dfb-d7af-44b7-9126-3d10a576c35a', 'x-amzn-bedrock-invocation-latency': '335', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfadd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670452f29e73711f011265ac
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f30f13e5-b8e1-49f7-8fd2-0a8d3558740c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 21:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f30f13e5-b8e1-49f7-8fd2-0a8d3558740c', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9660>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670452f49e73711f011265ad
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.42.114 - - [07/Oct/2024 21:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a18d95f1-d875-4a0d-bb3c-0d3edd464267', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 22:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a18d95f1-d875-4a0d-bb3c-0d3edd464267', 'x-amzn-bedrock-invocation-latency': '379', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e290>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670460f59e73711f011265af
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e1c15a8d-8829-476f-977c-5683303d9aca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 22:30:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e1c15a8d-8829-476f-977c-5683303d9aca', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42c80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670460f89e73711f011265b0
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.209.237.105 - - [07/Oct/2024 22:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67046f0f9e73711f011265b2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '502bf74d-69a6-44a3-be91-ab163fefdbc2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 07 Oct 2024 23:30:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '502bf74d-69a6-44a3-be91-ab163fefdbc2', 'x-amzn-bedrock-invocation-latency': '1404', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67046f129e73711f011265b3
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.54.209 - - [07/Oct/2024 23:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67047d2e9e73711f011265b5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5e4b3d70-9084-4b06-9539-278ad4f1ee2a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 00:30:41 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5e4b3d70-9084-4b06-9539-278ad4f1ee2a', 'x-amzn-bedrock-invocation-latency': '1318', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41870>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67047d319e73711f011265b6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.198.95 - - [08/Oct/2024 00:30:41] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:185.100.87.136 - - [08/Oct/2024 00:49:26] code 400, message Bad HTTP/0.9 request type ('\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00')
INFO:werkzeug:185.100.87.136 - - [08/Oct/2024 00:49:26] "[31m[1m\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00\x0c\x02\x00\x00\x00\x10MyCustomAssembly\x05\x01\x00\x00\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67048b569e73711f011265b8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8c9288e5-fd16-45e0-a771-ef8150754118', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 01:31:05 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8c9288e5-fd16-45e0-a771-ef8150754118', 'x-amzn-bedrock-invocation-latency': '1325', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41030>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67048b599e73711f011265b9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.198.95 - - [08/Oct/2024 01:31:05] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [08/Oct/2024 02:11:29] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [08/Oct/2024 02:11:29] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1c990649-306b-4a63-9707-08a19ac63f38', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 02:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1c990649-306b-4a63-9707-08a19ac63f38', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ee30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670499389e73711f011265bb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0c680402-30f3-49af-80e5-26bc32089606', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 02:30:19 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0c680402-30f3-49af-80e5-26bc32089606', 'x-amzn-bedrock-invocation-latency': '1362', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704993b9e73711f011265bc
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.227.160.190 - - [08/Oct/2024 02:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6704a7859e73711f011265be
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'abc6a730-84fb-41f8-bddd-7c492ce31940', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 03:31:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'abc6a730-84fb-41f8-bddd-7c492ce31940', 'x-amzn-bedrock-invocation-latency': '1443', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704a7889e73711f011265bf
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.197.213.246 - - [08/Oct/2024 03:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '664533cf-8702-410b-ad59-708e74e1a2b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 04:31:00 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '664533cf-8702-410b-ad59-708e74e1a2b6', 'x-amzn-bedrock-invocation-latency': '343', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42da0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6704b5849e73711f011265c1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8b61a88c-ddef-458f-a844-bddebacb174b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 04:31:03 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8b61a88c-ddef-458f-a844-bddebacb174b', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526260>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704b5879e73711f011265c2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.241.235 - - [08/Oct/2024 04:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6704c3ae9e73711f011265c4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a2bfa8d7-a324-4378-9707-30aaf43f1ee6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 05:31:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a2bfa8d7-a324-4378-9707-30aaf43f1ee6', 'x-amzn-bedrock-invocation-latency': '1379', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a435e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704c3b19e73711f011265c5
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.54.248.2 - - [08/Oct/2024 05:31:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd3b0f7fe-8dbf-4fbb-8074-84f1e457f771', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 06:30:57 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd3b0f7fe-8dbf-4fbb-8074-84f1e457f771', 'x-amzn-bedrock-invocation-latency': '291', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ee30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6704d1a19e73711f011265c7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '22a9e428-b4cf-4816-beb8-d017b48e0b80', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 06:30:59 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '22a9e428-b4cf-4816-beb8-d017b48e0b80', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704d1a39e73711f011265c8
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.147.78.247 - - [08/Oct/2024 06:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6704dfe29e73711f011265ca
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '68b8158d-cc16-47ec-86d3-5184c20d6dd9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 07:31:48 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '68b8158d-cc16-47ec-86d3-5184c20d6dd9', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5258d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704dfe49e73711f011265cb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.237.238.85 - - [08/Oct/2024 07:31:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d01ba41-3b03-42a7-8d61-abb4b2af208b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 08:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8d01ba41-3b03-42a7-8d61-abb4b2af208b', 'x-amzn-bedrock-invocation-latency': '309', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a431c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6704eda69e73711f011265cd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '092b67db-8ce0-460a-8ae1-0832579547dc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 08:30:33 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '092b67db-8ce0-460a-8ae1-0832579547dc', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ada0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704eda99e73711f011265ce
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.234.167.246 - - [08/Oct/2024 08:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6704fbcb9e73711f011265d0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '98017074-4966-40f7-bcf8-0a7dd5676a35', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 09:30:54 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '98017074-4966-40f7-bcf8-0a7dd5676a35', 'x-amzn-bedrock-invocation-latency': '1446', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41750>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6704fbce9e73711f011265d1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.236.46 - - [08/Oct/2024 09:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670509e49e73711f011265d3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b966bc2a-6ea2-49bb-9717-dced3460db20', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 10:31:03 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b966bc2a-6ea2-49bb-9717-dced3460db20', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5267a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670509e79e73711f011265d4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.227.103 - - [08/Oct/2024 10:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ac0d7c4e-53ad-4350-8a74-fcd4fb1bbca4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 11:30:50 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ac0d7c4e-53ad-4350-8a74-fcd4fb1bbca4', 'x-amzn-bedrock-invocation-latency': '331', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41bd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670517ea9e73711f011265d6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8c15d2cf-512d-4653-a4f2-34e5d79ace65', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 11:30:52 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8c15d2cf-512d-4653-a4f2-34e5d79ace65', 'x-amzn-bedrock-invocation-latency': '1301', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79060>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670517ec9e73711f011265d7
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.207.137.95 - - [08/Oct/2024 11:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b441172f-8ef1-41eb-bcca-8e951d85a1ff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 12:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b441172f-8ef1-41eb-bcca-8e951d85a1ff', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670525f59e73711f011265d9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '619c8bb7-5cb2-4de6-b72b-da505a6f52a7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 12:30:47 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '619c8bb7-5cb2-4de6-b72b-da505a6f52a7', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670525f79e73711f011265da
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.203.133.175 - - [08/Oct/2024 12:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670534089e73711f011265dc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4b617871-739c-4d58-b4a6-1a2853228da9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 13:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4b617871-739c-4d58-b4a6-1a2853228da9', 'x-amzn-bedrock-invocation-latency': '1382', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705340b9e73711f011265dd
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.27.203 - - [08/Oct/2024 13:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '940ab116-f6da-47ff-babe-710f6a5b1dd9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 14:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '940ab116-f6da-47ff-babe-710f6a5b1dd9', 'x-amzn-bedrock-invocation-latency': '324', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5266b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670542109e73711f011265df
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e03d7ed-580f-4dd7-aab0-162fe68b950f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 14:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1e03d7ed-580f-4dd7-aab0-162fe68b950f', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670542129e73711f011265e0
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.87.172.196 - - [08/Oct/2024 14:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6705503f9e73711f011265e2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '28ecaad6-673c-4c59-998f-e1c79f202ebe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 15:31:14 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '28ecaad6-673c-4c59-998f-e1c79f202ebe', 'x-amzn-bedrock-invocation-latency': '1453', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a470>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670550429e73711f011265e3
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.26.179 - - [08/Oct/2024 15:31:14] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:80.82.70.133 - - [08/Oct/2024 15:36:47] code 400, message Bad request version ("¬Øn√£Y¬ªbhl√ø(=':¬©\x82√ôo√à¬¢√ó\x93\x98¬¥√Ø\x80√•¬π\x90\x00(√Ä")
INFO:werkzeug:80.82.70.133 - - [08/Oct/2024 15:36:47] "[31m[1m\x16\x03\x02\x01o\x01\x00\x01k\x03\x02RH√Ö\x1a#√∑:N√ü√¢¬¥\x82/√ø\x09T\x9f¬ß√Ñy¬∞h√Ü\x13\x8c¬§\x1c="√°\x1a\x98 \x84¬¥,\x85¬Øn√£Y¬ªbhl√ø(=':¬©\x82√ôo√à¬¢√ó\x93\x98¬¥√Ø\x80√•¬π\x90\x00(√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3f982256-cdec-4b34-ad78-a34f10eba9a5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 16:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3f982256-cdec-4b34-ad78-a34f10eba9a5', 'x-amzn-bedrock-invocation-latency': '332', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e140>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67055e289e73711f011265e5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '70b2951b-a693-4a9d-9d4e-7b34acf39aee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 16:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '70b2951b-a693-4a9d-9d4e-7b34acf39aee', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67055e2a9e73711f011265e6
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.230.33 - - [08/Oct/2024 16:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67056c579e73711f011265e8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41703d56-610f-4730-9fa9-e89bf00df575', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 17:31:06 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '41703d56-610f-4730-9fa9-e89bf00df575', 'x-amzn-bedrock-invocation-latency': '1411', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67056c5a9e73711f011265e9
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.208.17 - - [08/Oct/2024 17:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67057adf9e73711f011265eb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8285cd64-dc8a-4e63-94e9-4677b4140887', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 18:33:05 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8285cd64-dc8a-4e63-94e9-4677b4140887', 'x-amzn-bedrock-invocation-latency': '1426', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a740>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67057ae19e73711f011265ec
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.84.164.70 - - [08/Oct/2024 18:33:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd26f4a01-f580-44b5-86fd-ea012ad6d342', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 19:30:50 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd26f4a01-f580-44b5-86fd-ea012ad6d342', 'x-amzn-bedrock-invocation-latency': '343', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c1f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6705886a9e73711f011265ee
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eff9a4fb-e225-4cc3-81a1-9e281ecf70bb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 19:30:53 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'eff9a4fb-e225-4cc3-81a1-9e281ecf70bb', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705886d9e73711f011265ef
INFO:__main__:Process completed successfully.
INFO:werkzeug:23.22.44.99 - - [08/Oct/2024 19:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6705968d9e73711f011265f1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e91b1627-3958-42ad-baeb-bf27d1c0de8f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 20:31:12 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e91b1627-3958-42ad-baeb-bf27d1c0de8f', 'x-amzn-bedrock-invocation-latency': '1272', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a9b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670596909e73711f011265f2
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.81.148 - - [08/Oct/2024 20:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '77b27cf8-3211-4caf-b166-6565a84de808', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 21:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '77b27cf8-3211-4caf-b166-6565a84de808', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6705a4729e73711f011265f4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eabda759-6b95-4f3e-97ba-bc045d3ab9a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 21:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'eabda759-6b95-4f3e-97ba-bc045d3ab9a0', 'x-amzn-bedrock-invocation-latency': '1379', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79390>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705a4749e73711f011265f5
INFO:__main__:Process completed successfully.
INFO:werkzeug:174.129.136.71 - - [08/Oct/2024 21:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6705b2a59e73711f011265f7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '547257d3-501e-4006-9345-8f29b9e5dbb7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 22:31:04 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '547257d3-501e-4006-9345-8f29b9e5dbb7', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b0d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705b2a89e73711f011265f8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.215.121.242 - - [08/Oct/2024 22:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9f512850-9f3e-4415-a3ee-6bced88979dd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 23:30:38 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9f512850-9f3e-4415-a3ee-6bced88979dd', 'x-amzn-bedrock-invocation-latency': '353', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5267d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6705c09e9e73711f011265fa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f23956e8-6793-48f8-8617-46a8fefcefad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 08 Oct 2024 23:30:41 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f23956e8-6793-48f8-8617-46a8fefcefad', 'x-amzn-bedrock-invocation-latency': '1398', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705c0a19e73711f011265fb
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.73.149.234 - - [08/Oct/2024 23:30:41] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:209.97.152.248 - - [09/Oct/2024 00:25:02] code 400, message Bad request version ('RTSP/1.0')
INFO:werkzeug:209.97.152.248 - - [09/Oct/2024 00:25:02] "[31m[1mOPTIONS / RTSP/1.0[0m" 400 -
ERROR:werkzeug:209.97.152.248 - - [09/Oct/2024 00:25:06] code 400, message Bad request version ('GetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00')
INFO:werkzeug:209.97.152.248 - - [09/Oct/2024 00:25:06] "[31m[1m\x00\x00\x00\x1f\x00\x00\x00\x00\x00\x00\x00\x0cGetClassName\x00\x00\x00\x02\x04\x00\x00\x00\x00\x01\x00[0m" 400 -
INFO:werkzeug:104.248.204.195 - - [09/Oct/2024 00:25:21] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6705ceff9e73711f011265fd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9657ba87-3987-4668-b7d1-06c6a8d10fef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 00:32:02 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9657ba87-3987-4668-b7d1-06c6a8d10fef', 'x-amzn-bedrock-invocation-latency': '1342', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18be0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705cf029e73711f011265fe
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.73.149.234 - - [09/Oct/2024 00:32:02] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:69.164.217.74 - - [09/Oct/2024 00:32:08] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6d27ea52-41c4-4729-b3db-dd6480914bc1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 01:31:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6d27ea52-41c4-4729-b3db-dd6480914bc1', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a422c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6705dce49e73711f01126600
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04c19606-0468-446f-999d-36e255d8e134', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 01:31:19 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '04c19606-0468-446f-999d-36e255d8e134', 'x-amzn-bedrock-invocation-latency': '1289', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705dce79e73711f01126601
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.144.167 - - [09/Oct/2024 01:31:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aecb899b-0d40-4962-a78f-71d97f9635a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 02:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'aecb899b-0d40-4962-a78f-71d97f9635a6', 'x-amzn-bedrock-invocation-latency': '360', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6705eac69e73711f01126603
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0123a5ed-c963-420f-8430-0bfe6d3c142a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 02:30:33 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0123a5ed-c963-420f-8430-0bfe6d3c142a', 'x-amzn-bedrock-invocation-latency': '1380', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ba00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705eac99e73711f01126604
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.56.211 - - [09/Oct/2024 02:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'be144e31-4beb-4b21-9e5a-a5fdc2102c2e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 03:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'be144e31-4beb-4b21-9e5a-a5fdc2102c2e', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6705f8d59e73711f01126606
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '685f0f85-6bfa-44d0-9282-a6de7f6707a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 03:30:31 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '685f0f85-6bfa-44d0-9282-a6de7f6707a6', 'x-amzn-bedrock-invocation-latency': '1359', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6705f8d79e73711f01126607
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.207.15 - - [09/Oct/2024 03:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670606f99e73711f01126609
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'baf1c0a0-1e86-4fe4-8671-1037cb69abfa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 04:30:52 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'baf1c0a0-1e86-4fe4-8671-1037cb69abfa', 'x-amzn-bedrock-invocation-latency': '1267', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a19450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670606fc9e73711f0112660a
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.167.132 - - [09/Oct/2024 04:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.201 - - [09/Oct/2024 04:40:19] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '31e66871-114b-47bc-a2dd-d983f804c7a1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 05:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '31e66871-114b-47bc-a2dd-d983f804c7a1', 'x-amzn-bedrock-invocation-latency': '296', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670614ed9e73711f0112660c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '14e0eb22-ef35-4183-b705-29d6fcb36a56', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 05:30:24 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '14e0eb22-ef35-4183-b705-29d6fcb36a56', 'x-amzn-bedrock-invocation-latency': '1407', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa920>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670614f09e73711f0112660d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.209.69 - - [09/Oct/2024 05:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:172.212.60.112 - - [09/Oct/2024 05:41:30] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'my beeline is not working whom to reach out', 'conversation_id': 'a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf'}
INFO:__main__:Received query: my beeline is not working whom to reach out
INFO:__main__:Received conversation_id: a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6706229c9e73711f0112660f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'be1e1537-8e80-44dd-b9d4-ecac657666c4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:28:48 GMT', 'content-type': 'application/json', 'content-length': '1105', 'connection': 'keep-alive', 'x-amzn-requestid': 'be1e1537-8e80-44dd-b9d4-ecac657666c4', 'x-amzn-bedrock-invocation-latency': '2744', 'x-amzn-bedrock-output-token-count': '296', 'x-amzn-bedrock-input-token-count': '1075'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8e80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"If your Beeline is not working, you can reach out to the help desk (HR) immediately. If you're unable to access Hpipe, you can also shoot an email to hiring.pipeline@geminisolutions.com.\",\n    \"References\": [\n        {\n            \"Statement\": \"If you're having trouble accessing Hpipe, just shoot an email over to hiring.pipeline@geminisolutions.com.\",\n            \"source\": \"Hpipe.csv - Sheet1 - Index: 1\"\n        },\n        {\n            \"Statement\": \"Internal. Immediately report of the same to help desk.\",\n            \"source\": \"BC _ DR plans V1.4_India.pdf - Page 19\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf\",\n        \"query\": \"my beeline is not working whom to reach out\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1075,"generation_token_count":296,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670622a09e73711f01126610
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 06:28:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'i need more clarity on mysalary slip', 'conversation_id': 'a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf'}
INFO:__main__:Received query: i need more clarity on mysalary slip
INFO:__main__:Received conversation_id: a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '486a8118-a0c3-481d-beb7-e28530f60731', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:29:13 GMT', 'content-type': 'application/json', 'content-length': '181', 'connection': 'keep-alive', 'x-amzn-requestid': '486a8118-a0c3-481d-beb7-e28530f60731', 'x-amzn-bedrock-invocation-latency': '284', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '325'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd11b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"I need more clarity on my salary slip\"\n}","prompt_token_count":325,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: I need more clarity on my salary slip
INFO:__main__:Query stored successfully with ID: 670622b99e73711f01126612
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '089a6235-4640-4e1e-837c-12fc47914714', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:29:18 GMT', 'content-type': 'application/json', 'content-length': '1243', 'connection': 'keep-alive', 'x-amzn-requestid': '089a6235-4640-4e1e-837c-12fc47914714', 'x-amzn-bedrock-invocation-latency': '3017', 'x-amzn-bedrock-output-token-count': '328', 'x-amzn-bedrock-input-token-count': '1106'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Your salary slip is generally uploaded by the 1st of every month. If you're unable to view it, please connect with Vinod Kumar or Bharat Bhushan from the Accounts team. You can also find your salary slips in the 'Accounts portal' tab on MIS, which will lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"The Salary slips generally get uploaded by 1st of any month.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 17\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf\",\n        \"query\": \"I need more clarity on my salary slip\",\n        \"source\": \"HR - Onboarding Portal.csv\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1106,"generation_token_count":328,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670622be9e73711f01126613
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 06:29:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'i am a trainee howmany leaves will iget', 'conversation_id': 'a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf'}
INFO:__main__:Received query: i am a trainee howmany leaves will iget
INFO:__main__:Received conversation_id: a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c3b6b93-85ca-4204-815b-f94c88cbbabd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:29:51 GMT', 'content-type': 'application/json', 'content-length': '184', 'connection': 'keep-alive', 'x-amzn-requestid': '4c3b6b93-85ca-4204-815b-f94c88cbbabd', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '516'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"As a trainee, how many leaves will I get\"\n}","prompt_token_count":516,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: As a trainee, how many leaves will I get
INFO:__main__:Query stored successfully with ID: 670622df9e73711f01126615
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '557df04c-8f99-4415-90fa-7511cd391efd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:29:55 GMT', 'content-type': 'application/json', 'content-length': '1156', 'connection': 'keep-alive', 'x-amzn-requestid': '557df04c-8f99-4415-90fa-7511cd391efd', 'x-amzn-bedrock-invocation-latency': '3014', 'x-amzn-bedrock-output-token-count': '331', 'x-amzn-bedrock-input-token-count': '970'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a198d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As a trainee, you get 3 Casual Leaves (CL) every quarter. Additionally, you'll receive 7 Casual Leaves (CLs), 7 Sick Leaves (SLs) credited annually and 1.5 Privilege Leaves (PLs) on monthly basis.\",\n    \"References\": [\n        {\n            \"Statement\": \"As a technical trainee, you get 3 Casual Leaves (CL) every quarter.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 1\"\n        },\n        {\n            \"Statement\": \"Each year, you‚Äôll receive 7 Casual Leaves (CLs), 7 Sick Leaves (SLs) credited annually and 1.5 Privilege Leaves (PLs) on monthly basis.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 6\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf\",\n        \"query\": \"As a trainee, how many leaves will I get\",\n        \"source\": \"HR - Leave Policy.csv\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":970,"generation_token_count":331,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670622e39e73711f01126616
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 06:29:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2adf4141-f72e-412f-87fe-6282912d0969', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2adf4141-f72e-412f-87fe-6282912d0969', 'x-amzn-bedrock-invocation-latency': '336', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf98d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670622fd9e73711f01126618
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9df83946-5b23-49f1-9ef8-f6131d445aff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:30:24 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9df83946-5b23-49f1-9ef8-f6131d445aff', 'x-amzn-bedrock-invocation-latency': '1352', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670623009e73711f01126619
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.167.132 - - [09/Oct/2024 06:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can i avail 7 cls in one go', 'conversation_id': 'a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf'}
INFO:__main__:Received query: can i avail 7 cls in one go
INFO:__main__:Received conversation_id: a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4ecb87d7-da60-48d7-96f3-0fe8800c3c60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:35:35 GMT', 'content-type': 'application/json', 'content-length': '183', 'connection': 'keep-alive', 'x-amzn-requestid': '4ecb87d7-da60-48d7-96f3-0fe8800c3c60', 'x-amzn-bedrock-invocation-latency': '398', 'x-amzn-bedrock-output-token-count': '29', 'x-amzn-bedrock-input-token-count': '551'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can I use 7 Casual Leaves (CLs) at once\"\n}","prompt_token_count":551,"generation_token_count":29,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can I use 7 Casual Leaves (CLs) at once
INFO:__main__:Query stored successfully with ID: 670624379e73711f0112661b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8ae973cc-cefe-4de7-b2ba-26c380bb8261', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:35:39 GMT', 'content-type': 'application/json', 'content-length': '881', 'connection': 'keep-alive', 'x-amzn-requestid': '8ae973cc-cefe-4de7-b2ba-26c380bb8261', 'x-amzn-bedrock-invocation-latency': '2665', 'x-amzn-bedrock-output-token-count': '268', 'x-amzn-bedrock-input-token-count': '976'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"No, according to our leave policy, you can apply for up to 2 Casual Leaves (CLs) at a time. If you need more than 2 days off in a row, you'll need to use Paid Leaves (PLs) or leave without pay (LWP).\",\n    \"References\": [\n        {\n            \"Statement\": \"You can apply for up to 2 Casual Leaves (CLs) at a time.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 7\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf\",\n        \"query\": \"Can I use 7 Casual Leaves (CLs) at once\",\n        \"source\": \"HR - Leave Policy.csv\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":976,"generation_token_count":268,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706243b9e73711f0112661c
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 06:35:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how about sl', 'conversation_id': 'a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf'}
INFO:__main__:Received query: how about sl
INFO:__main__:Received conversation_id: a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3897dd2b-cf66-4381-9457-9a1f4fa3b031', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:36:11 GMT', 'content-type': 'application/json', 'content-length': '171', 'connection': 'keep-alive', 'x-amzn-requestid': '3897dd2b-cf66-4381-9457-9a1f4fa3b031', 'x-amzn-bedrock-invocation-latency': '276', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '490'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3fa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"How about Sick Leaves (SLs)\"\n}","prompt_token_count":490,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How about Sick Leaves (SLs)
INFO:__main__:Query stored successfully with ID: 6706245b9e73711f0112661e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a5f4ff15-c8ff-4aa9-a789-0e3b409005d4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:36:15 GMT', 'content-type': 'application/json', 'content-length': '929', 'connection': 'keep-alive', 'x-amzn-requestid': 'a5f4ff15-c8ff-4aa9-a789-0e3b409005d4', 'x-amzn-bedrock-invocation-latency': '2689', 'x-amzn-bedrock-output-token-count': '267', 'x-amzn-bedrock-input-token-count': '1046'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to our Leave Policy, every confirmed employee is allowed 7 days of sick leave on full fixed pay in one leave year. This is stated in Section 5.2 of our Leave Policy Version 5.0.\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf\",\n        \"query\": \"How about Sick Leaves (SLs)\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1046,"generation_token_count":267,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706245f9e73711f0112661f
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 06:36:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': ' can i take 5 sls together', 'conversation_id': 'a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf'}
INFO:__main__:Received query:  can i take 5 sls together
INFO:__main__:Received conversation_id: a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fad93f27-8dee-4094-9a89-f9ac7dc90512', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:36:39 GMT', 'content-type': 'application/json', 'content-length': '182', 'connection': 'keep-alive', 'x-amzn-requestid': 'fad93f27-8dee-4094-9a89-f9ac7dc90512', 'x-amzn-bedrock-invocation-latency': '323', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '420'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd38b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can I use 5 Sick Leaves (SLs) together\"\n}","prompt_token_count":420,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can I use 5 Sick Leaves (SLs) together
INFO:__main__:Query stored successfully with ID: 670624779e73711f01126621
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '25358b1e-0232-4799-8a26-e7b1012675aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 06:36:43 GMT', 'content-type': 'application/json', 'content-length': '923', 'connection': 'keep-alive', 'x-amzn-requestid': '25358b1e-0232-4799-8a26-e7b1012675aa', 'x-amzn-bedrock-invocation-latency': '2767', 'x-amzn-bedrock-output-token-count': '278', 'x-amzn-bedrock-input-token-count': '1050'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f0d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"No, you cannot use 5 Sick Leaves (SLs) together. According to the Leave Policy, you can apply for up to 2 Casual Leaves (CLs) at a time. If you need more than 2 days off in a row, you'll need to use Paid Leaves (PLs) or leave without pay (LWP).\",\n    \"References\": [\n        {\n            \"Statement\": \"You can apply for up to 2 Casual Leaves (CLs) at a time.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 7\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf\",\n        \"query\": \"Can I use 5 Sick Leaves (SLs) together\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1050,"generation_token_count":278,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706247b9e73711f01126622
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 06:36:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670631489e73711f01126624
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6dbb88e3-442e-4c90-9ab4-4937f441489d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 07:31:23 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6dbb88e3-442e-4c90-9ab4-4937f441489d', 'x-amzn-bedrock-invocation-latency': '1397', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbd90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706314b9e73711f01126625
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.154.65 - - [09/Oct/2024 07:31:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f9f95d3d-7e07-47a1-99fd-8e62bf3ef6e6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 08:30:59 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f9f95d3d-7e07-47a1-99fd-8e62bf3ef6e6', 'x-amzn-bedrock-invocation-latency': '280', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf98a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67063f439e73711f01126627
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a6c1bdf0-4227-46ac-92fd-c73616b80b77', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 08:31:02 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a6c1bdf0-4227-46ac-92fd-c73616b80b77', 'x-amzn-bedrock-invocation-latency': '1364', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cc10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67063f469e73711f01126628
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.69.121 - - [09/Oct/2024 08:31:02] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [09/Oct/2024 09:03:24] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [09/Oct/2024 09:03:24] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:werkzeug:13.58.97.162 - - [09/Oct/2024 09:22:03] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67064d659e73711f0112662a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '745a43a2-ea4b-4a99-b093-1ec5936fc274', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 09:31:19 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '745a43a2-ea4b-4a99-b093-1ec5936fc274', 'x-amzn-bedrock-invocation-latency': '1286', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67064d679e73711f0112662b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.39.42 - - [09/Oct/2024 09:31:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'explain the esop process', 'conversation_id': 'a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41'}
INFO:__main__:Received query: explain the esop process
INFO:__main__:Received conversation_id: a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670650819e73711f0112662d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a40b9a0a-426b-4e83-bf86-aeeb9977133b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 09:44:41 GMT', 'content-type': 'application/json', 'content-length': '2508', 'connection': 'keep-alive', 'x-amzn-requestid': 'a40b9a0a-426b-4e83-bf86-aeeb9977133b', 'x-amzn-bedrock-invocation-latency': '6169', 'x-amzn-bedrock-output-token-count': '634', 'x-amzn-bedrock-input-token-count': '1102'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f7f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The ESOP process at Gemini Solutions involves the following steps:\n\n* Eligibility: Employees who have completed 3 years are eligible for ESOPs, subject to approval by Senior Management. (Source: Text Block 1, Accounts - Remuneration.csv, Sheet1, Index 38)\n* Granting of Options: The specific Employees to whom the Options would be granted and their Eligibility Criteria shall be determined by the Board from time to time. (Source: Text Block 5, Gemini-ESOP scheme - final 1_India.pdf, Page 7)\n* Exercise of Options: The procedure for exercising Employee Stock Options includes cashless exercise, if required. (Source: Text Block 2, Gemini-ESOP scheme - final 1_India.pdf, Page 7)\n* Crediting of ESOPs: You have to raise a request to esop@geminisolutions.com before your last working day to get ESOPs credited. (Source: Text Block 3, HR - Exit Policy.csv, Sheet1, Index 15)\n\nNote: The ESOP 1.0 Plan is governed by the GSPL ESOP 1.0 Plan, read with all its addendum(s) issued or to be issued. (Source: Text Block 4, Gemini-ESOP scheme - final 1_India.pdf, Page 4)\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees who have completed 3 years are eligible for ESOPs, subject to approval by Senior Management.\",\n            \"source\": \"Accounts - Remuneration.csv, Sheet1, Index 38\"\n        },\n        {\n            \"Statement\": \"The specific Employees to whom the Options would be granted and their Eligibility Criteria shall be determined by the Board from time to time.\",\n            \"source\": \"Gemini-ESOP scheme - final 1_India.pdf, Page 7\"\n        },\n        {\n            \"Statement\": \"The procedure for exercising Employee Stock Options includes cashless exercise, if required.\",\n            \"source\": \"Gemini-ESOP scheme - final 1_India.pdf, Page 7\"\n        },\n        {\n            \"Statement\": \"You have to raise a request to esop@geminisolutions.com before your last working day to get ESOPs credited.\",\n            \"source\": \"HR - Exit Policy.csv, Sheet1, Index 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41\",\n        \"query\": \"explain the esop process\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1102,"generation_token_count":634,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 82 (char 85)
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 09:44:41] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the conditions to encash esops', 'conversation_id': 'a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41'}
INFO:__main__:Received query: what are the conditions to encash esops
INFO:__main__:Received conversation_id: a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6e686123-295e-4dfc-87fb-32e509dd5211', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 09:45:10 GMT', 'content-type': 'application/json', 'content-length': '206', 'connection': 'keep-alive', 'x-amzn-requestid': '6e686123-295e-4dfc-87fb-32e509dd5211', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '188'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ed40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are the conditions to encash esops under the esop process\"\n}","prompt_token_count":188,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are the conditions to encash esops under the esop process
INFO:__main__:Query stored successfully with ID: 670650a69e73711f0112662f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7e37ede2-bda4-4da5-9b3c-043661c1e126', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 09:45:15 GMT', 'content-type': 'application/json', 'content-length': '1401', 'connection': 'keep-alive', 'x-amzn-requestid': '7e37ede2-bda4-4da5-9b3c-043661c1e126', 'x-amzn-bedrock-invocation-latency': '3467', 'x-amzn-bedrock-output-token-count': '361', 'x-amzn-bedrock-input-token-count': '970'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c4c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To encash ESOPs under the ESOP process, the conditions are not explicitly mentioned. However, ESOPs vest over 4 consecutive years, with 25% each year. Employees who have completed 3 years are eligible for ESOPs, subject to approval by Senior Management. **Note that ESOPs are not directly related to PLs (Paid Leaves), which can be encashed only when exiting the company and having completed at least one year of continuous service.**\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees who have completed 3 years are eligible for ESOPs, subject to approval by Senior Management.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 38\"\n        },\n        {\n            \"Statement\": \"ESOPs vest over 4 consecutive years, with 25% each year.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 40\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41\",\n        \"query\": \"what are the conditions to encash esops under the esop process\",\n        \"source\": \"Gemini-ESOP scheme - final 1_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":970,"generation_token_count":361,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670650ab9e73711f01126630
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 09:45:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how can an employee redeem esops?', 'conversation_id': 'a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41'}
INFO:__main__:Received query: how can an employee redeem esops?
INFO:__main__:Received conversation_id: a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6adbb822-a37b-4156-81f3-80edb564b929', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 09:45:47 GMT', 'content-type': 'application/json', 'content-length': '199', 'connection': 'keep-alive', 'x-amzn-requestid': '6adbb822-a37b-4156-81f3-80edb564b929', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '404'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"how can an employee redeem esops under the esop process\"\n}","prompt_token_count":404,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: how can an employee redeem esops under the esop process
INFO:__main__:Query stored successfully with ID: 670650cb9e73711f01126632
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f6967bbe-ca44-4d1a-b920-c41767655b04', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 09:45:52 GMT', 'content-type': 'application/json', 'content-length': '1377', 'connection': 'keep-alive', 'x-amzn-requestid': 'f6967bbe-ca44-4d1a-b920-c41767655b04', 'x-amzn-bedrock-invocation-latency': '3307', 'x-amzn-bedrock-output-token-count': '339', 'x-amzn-bedrock-input-token-count': '1004'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fb20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To redeem ESOPs under the ESOP process, an employee can raise a request to esop@geminisolutions.com before their last working day. Additionally, if the company offers buyback options, employees can request a buyback by emailing esop@geminisolutions.com. However, the company reserves the right to offer buyback options based on management discretion.\",\n    \"References\": [\n        {\n            \"Statement\": \"You have to raise a request to esop@geminisolutions.com before your last working day.\",\n            \"source\": \"HR - Exit Policy.csv - Sheet1 - Index: 15\"\n        },\n        {\n            \"Statement\": \"The company reserves the right to offer buyback options based on management discretion. Once notified, you can request a buyback by emailing esop@geminisolutions.com.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 41\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41\",\n        \"query\": \"how can an employee redeem esops under the esop process\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1004,"generation_token_count":339,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670650d09e73711f01126633
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 09:45:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67065b799e73711f01126635
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b18cc5de-c79e-49c4-8584-1e47f313679f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 10:31:24 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b18cc5de-c79e-49c4-8584-1e47f313679f', 'x-amzn-bedrock-invocation-latency': '1447', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67065b7c9e73711f01126636
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.169.91 - - [09/Oct/2024 10:31:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the monthly engagement budget for each dc', 'conversation_id': 'a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf'}
INFO:__main__:Received query: what is the monthly engagement budget for each dc
INFO:__main__:Received conversation_id: a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670663e59e73711f01126638
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '67526ee5-d65f-4b4a-9f2c-119a064741ed', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 11:07:22 GMT', 'content-type': 'application/json', 'content-length': '1216', 'connection': 'keep-alive', 'x-amzn-requestid': '67526ee5-d65f-4b4a-9f2c-119a064741ed', 'x-amzn-bedrock-invocation-latency': '2891', 'x-amzn-bedrock-output-token-count': '312', 'x-amzn-bedrock-input-token-count': '1236'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The monthly engagement budget for each DC is not explicitly mentioned in the provided texts. However, it is mentioned that each eligible employee under their primary EC will receive a budget of Rs. 1000 per head bi-annually to be used towards employee engagement activities. This implies that the budget is allocated bi-annually, not monthly.\",\n    \"References\": [\n        {\n            \"Statement\": \"Each eligible employee under their primary EC will receive a budget of Rs. 1000 per head bi-annually to be used towards employee engagement activities.\",\n            \"source\": \"EC Engagement Policy- Version 2.0_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1olr-8KfM1yJWOOK1E6hVZbhdIj5swLstcfPIiM8L7VrHpudcbtEytLG8if04bwf_1v-dUNoEEHxhukJVISNnSHP2lyvQm-nSX5kL4PqHrb29IB5VTMCFRTKjbxBWsUIf\",\n        \"query\": \"what is the monthly engagement budget for each dc\",\n        \"source\": \"EC Engagement Policy- Version 2.0_India.pdf, Gemini-Engagement Policy_Version 1.1_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1236,"generation_token_count":312,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670663ea9e73711f01126639
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [09/Oct/2024 11:07:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '87247c89-615a-4b1b-b737-5f9e6f0425b7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 11:31:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '87247c89-615a-4b1b-b737-5f9e6f0425b7', 'x-amzn-bedrock-invocation-latency': '306', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6706697b9e73711f0112663b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '87510083-f6c1-4cf4-ad4b-c15e677da72f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 11:31:09 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '87510083-f6c1-4cf4-ad4b-c15e677da72f', 'x-amzn-bedrock-invocation-latency': '1330', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706697d9e73711f0112663c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.169.91 - - [09/Oct/2024 11:31:09] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:188.166.87.67 - - [09/Oct/2024 11:32:59] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670677a49e73711f0112663e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '520e8909-0334-415e-8594-9b1cdfd33cf7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 12:31:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '520e8909-0334-415e-8594-9b1cdfd33cf7', 'x-amzn-bedrock-invocation-latency': '1262', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1fc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670677a69e73711f0112663f
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.213.203 - - [09/Oct/2024 12:31:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670685c69e73711f01126641
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0e851307-1a30-44a0-904e-c0f8b2b1e219', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 13:31:53 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0e851307-1a30-44a0-904e-c0f8b2b1e219', 'x-amzn-bedrock-invocation-latency': '1403', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670685c99e73711f01126642
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.151.72 - - [09/Oct/2024 13:31:53] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:65.49.20.66 - - [09/Oct/2024 14:27:06] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:65.49.20.66 - - [09/Oct/2024 14:27:17] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '51639f18-aabd-4a0b-9be9-c8f74360b6f9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 14:30:42 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '51639f18-aabd-4a0b-9be9-c8f74360b6f9', 'x-amzn-bedrock-invocation-latency': '390', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670693929e73711f01126644
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ddd427d2-2098-4e0e-b45f-f17841de71cd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 14:30:45 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ddd427d2-2098-4e0e-b45f-f17841de71cd', 'x-amzn-bedrock-invocation-latency': '1268', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42f50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670693959e73711f01126645
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.73.13.84 - - [09/Oct/2024 14:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8adf82d4-4c3b-4f68-bd5c-624ebb22a15a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 15:30:45 GMT', 'content-type': 'application/json', 'content-length': '238', 'connection': 'keep-alive', 'x-amzn-requestid': '8adf82d4-4c3b-4f68-bd5c-624ebb22a15a', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb4f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 6706a1a59e73711f01126647
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ef9bfff4-5999-4261-9576-42f220720833', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 15:30:49 GMT', 'content-type': 'application/json', 'content-length': '1603', 'connection': 'keep-alive', 'x-amzn-requestid': 'ef9bfff4-5999-4261-9576-42f220720833', 'x-amzn-bedrock-invocation-latency': '3064', 'x-amzn-bedrock-output-token-count': '309', 'x-amzn-bedrock-input-token-count': '1209'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, employees are entitled to various types of leaves, including annual leave, sick leave, and emergency leave. The policy encourages employees to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines rules for availing leaves, including the requirement for a follow-up call and the possibility of leave encashment. Additionally, the policy defines the process for leave encashment and the formula for calculating leave encashment.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"The policy defines the process and procedures regarding employee leave entitlements\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1209,"generation_token_count":309,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706a1a99e73711f01126648
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.1.175 - - [09/Oct/2024 15:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6706afc79e73711f0112664a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '17858337-5fbe-4914-8b88-cc962417048c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 16:31:06 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '17858337-5fbe-4914-8b88-cc962417048c', 'x-amzn-bedrock-invocation-latency': '1425', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a400a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706afca9e73711f0112664b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.161.68.225 - - [09/Oct/2024 16:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd17c3a48-a36d-4a89-b9a4-f29610465ed5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 17:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd17c3a48-a36d-4a89-b9a4-f29610465ed5', 'x-amzn-bedrock-invocation-latency': '375', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526380>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6706bdaf9e73711f0112664d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '877be9f6-e3c2-4436-b5fe-d8553c7f02d5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 17:30:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '877be9f6-e3c2-4436-b5fe-d8553c7f02d5', 'x-amzn-bedrock-invocation-latency': '1400', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41f30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706bdb29e73711f0112664e
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.151.72 - - [09/Oct/2024 17:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6706cc9d9e73711f01126650
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'be22ff18-c6f1-4854-a380-20edf2acab82', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 18:34:08 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'be22ff18-c6f1-4854-a380-20edf2acab82', 'x-amzn-bedrock-invocation-latency': '1407', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706cca09e73711f01126651
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.151.72 - - [09/Oct/2024 18:34:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '51c33ab7-a2ad-4476-ab30-e449d9ff09bc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 19:31:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '51c33ab7-a2ad-4476-ab30-e449d9ff09bc', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42770>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6706d9fa9e73711f01126653
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3999daa1-3fda-49f6-bbf6-bfaeeb03da49', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 19:31:09 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3999daa1-3fda-49f6-bbf6-bfaeeb03da49', 'x-amzn-bedrock-invocation-latency': '1376', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a415d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706d9fd9e73711f01126654
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.207.223.247 - - [09/Oct/2024 19:31:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6706e82f9e73711f01126656
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '915f6216-b560-4fd4-91ed-275ba018509d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 20:31:46 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '915f6216-b560-4fd4-91ed-275ba018509d', 'x-amzn-bedrock-invocation-latency': '1329', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706e8329e73711f01126657
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.69.152 - - [09/Oct/2024 20:31:46] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ff021199-bd07-4ec8-8dbf-f9a751d8ae10', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 21:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ff021199-bd07-4ec8-8dbf-f9a751d8ae10', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e05e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6706f5ea9e73711f01126659
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3dc1b06b-d0a9-464f-b71d-34412fa47c90', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 21:30:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3dc1b06b-d0a9-464f-b71d-34412fa47c90', 'x-amzn-bedrock-invocation-latency': '1353', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6706f5ed9e73711f0112665a
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.22.144.201 - - [09/Oct/2024 21:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670703fe9e73711f0112665c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '51acaaf4-ddfd-48b7-b438-4a1a4df6723c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 22:30:25 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '51acaaf4-ddfd-48b7-b438-4a1a4df6723c', 'x-amzn-bedrock-invocation-latency': '1288', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7afb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670704019e73711f0112665d
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.73.13.84 - - [09/Oct/2024 22:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b0cae50a-5a43-44e9-9862-fd28400adb40', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 23:30:25 GMT', 'content-type': 'application/json', 'content-length': '280', 'connection': 'keep-alive', 'x-amzn-requestid': 'b0cae50a-5a43-44e9-9862-fd28400adb40', 'x-amzn-bedrock-invocation-latency': '393', 'x-amzn-bedrock-output-token-count': '38', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a407f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\"\n}","prompt_token_count":238,"generation_token_count":38,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?
INFO:__main__:Query stored successfully with ID: 670712119e73711f0112665f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2bb7c434-4dbe-4258-b708-d3abb6c796dc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 09 Oct 2024 23:30:30 GMT', 'content-type': 'application/json', 'content-length': '1947', 'connection': 'keep-alive', 'x-amzn-requestid': '2bb7c434-4dbe-4258-b708-d3abb6c796dc', 'x-amzn-bedrock-invocation-latency': '3531', 'x-amzn-bedrock-output-token-count': '356', 'x-amzn-bedrock-input-token-count': '1015'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' policies are available on various topics, including risk management, ESOP schemes, and privacy policies. The company has implemented a comprehensive Risk Management Policy (Text Block 2) that provides direction for identifying, assessing, and treating information security risks. The policy extends to all functions and staff of Gemini Solutions. Additionally, the company has a Privacy Policy (Text Block 1 and 5) that outlines its commitment to protecting non-public personal information and employee private data. The policy includes procedures to support privacy objectives and protect data consistent with applicable state and federal regulations. Gemini Solutions also has an Employee Stock Options Plan (ESOP) (Text Block 4) that outlines the terms and conditions of the plan. For more information, please refer to the relevant policy documents.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solution is committed to using a comprehensive and systematic approach to manage risks to information security.\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - Page 3 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"Gemini Solutions has procedures in place that support privacy objectives and protect non-public personal information and employee private data consistent with applicable state and federal regulations.\",\n            \"source\": \"Gemini - Privacy Policy V1.1_India.pdf - Page 4 - N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1015,"generation_token_count":356,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670712169e73711f01126660
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.235.14 - - [09/Oct/2024 23:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670720319e73711f01126662
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cf8ead0a-e8c0-4941-9cf9-9c976a0a54ab', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 00:30:43 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cf8ead0a-e8c0-4941-9cf9-9c976a0a54ab', 'x-amzn-bedrock-invocation-latency': '1333', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43fa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670720339e73711f01126663
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.208.88.155 - - [10/Oct/2024 00:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd17aab65-7874-4da9-84e5-42218ae0f308', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 01:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd17aab65-7874-4da9-84e5-42218ae0f308', 'x-amzn-bedrock-invocation-latency': '297', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67072e259e73711f01126665
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ea95e96f-536c-4648-b35a-3abb59c537ca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 01:30:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ea95e96f-536c-4648-b35a-3abb59c537ca', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67072e289e73711f01126666
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.255.99 - - [10/Oct/2024 01:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67073c4b9e73711f01126668
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b647c27b-437a-41c7-8ae7-808792cf4080', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 02:30:38 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b647c27b-437a-41c7-8ae7-808792cf4080', 'x-amzn-bedrock-invocation-latency': '1367', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78b80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67073c4e9e73711f01126669
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.163.123.226 - - [10/Oct/2024 02:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '231dca7d-fba1-45f9-8ea4-65b992e6491c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 03:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '231dca7d-fba1-45f9-8ea4-65b992e6491c', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2bf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67074a529e73711f0112666b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71a2ede1-ce57-4a3f-9634-403660d42c2d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 03:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '71a2ede1-ce57-4a3f-9634-403660d42c2d', 'x-amzn-bedrock-invocation-latency': '1268', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67074a549e73711f0112666c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.211.83.1 - - [10/Oct/2024 03:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.161 - - [10/Oct/2024 04:20:29] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6707586c9e73711f0112666e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfe16aca-38c1-445d-82df-f158152c50fb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 04:30:39 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfe16aca-38c1-445d-82df-f158152c50fb', 'x-amzn-bedrock-invocation-latency': '1385', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6707586f9e73711f0112666f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.149.189 - - [10/Oct/2024 04:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6707668d9e73711f01126671
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8e1825a2-b6d5-457a-b80f-29e9a4425343', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 05:30:56 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8e1825a2-b6d5-457a-b80f-29e9a4425343', 'x-amzn-bedrock-invocation-latency': '1450', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670766909e73711f01126672
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.131.250 - - [10/Oct/2024 05:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670774fb9e73711f01126674
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b8747f19-7280-4967-a51c-b79d7fd64508', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 06:32:30 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b8747f19-7280-4967-a51c-b79d7fd64508', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670774fe9e73711f01126675
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.211.83.1 - - [10/Oct/2024 06:32:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3bfd3ec6-6fb1-4da2-b744-da69359c0cac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 07:30:59 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3bfd3ec6-6fb1-4da2-b744-da69359c0cac', 'x-amzn-bedrock-invocation-latency': '262', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670782b39e73711f01126677
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '12145e84-9ee2-4332-a91b-4d4fd87954c0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 07:31:02 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '12145e84-9ee2-4332-a91b-4d4fd87954c0', 'x-amzn-bedrock-invocation-latency': '1271', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670782b69e73711f01126678
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.98.96 - - [10/Oct/2024 07:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'da695d05-42d1-4275-bf2c-92c29dc4ca86', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 08:30:41 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'da695d05-42d1-4275-bf2c-92c29dc4ca86', 'x-amzn-bedrock-invocation-latency': '288', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43d30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670790b19e73711f0112667a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3d1757a4-1127-4a1c-aca8-17ed5e2a1179', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 08:30:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3d1757a4-1127-4a1c-aca8-17ed5e2a1179', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bd30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670790b49e73711f0112667b
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.200.5 - - [10/Oct/2024 08:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67079ed99e73711f0112667d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5914a7ae-b123-4923-a2e0-3723b2bdcd47', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 09:31:07 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5914a7ae-b123-4923-a2e0-3723b2bdcd47', 'x-amzn-bedrock-invocation-latency': '1417', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67079edb9e73711f0112667e
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.200.5 - - [10/Oct/2024 09:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'de420f0e-08c9-4af4-be2e-c394477266cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 10:30:58 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'de420f0e-08c9-4af4-be2e-c394477266cb', 'x-amzn-bedrock-invocation-latency': '320', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6707ace29e73711f01126680
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '68626638-aa7a-4101-9a3b-4fddeb152c3b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 10:31:00 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '68626638-aa7a-4101-9a3b-4fddeb152c3b', 'x-amzn-bedrock-invocation-latency': '1390', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78af0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6707ace49e73711f01126681
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.206.136.217 - - [10/Oct/2024 10:31:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6707bb029e73711f01126683
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '155d5ff1-a859-4083-9b2c-5fcb58be8bf1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 11:31:17 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '155d5ff1-a859-4083-9b2c-5fcb58be8bf1', 'x-amzn-bedrock-invocation-latency': '1370', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb3d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6707bb059e73711f01126684
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.159.141.140 - - [10/Oct/2024 11:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3e8d90e2-c5c3-4b80-b9d0-eda876ae14ff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 12:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3e8d90e2-c5c3-4b80-b9d0-eda876ae14ff', 'x-amzn-bedrock-invocation-latency': '364', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6707c8db9e73711f01126686
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '62aaf307-15ba-440c-b891-4dceff55f1bc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 12:30:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '62aaf307-15ba-440c-b891-4dceff55f1bc', 'x-amzn-bedrock-invocation-latency': '1268', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a783d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6707c8dd9e73711f01126687
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.159.141.140 - - [10/Oct/2024 12:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.84.89.2 - - [10/Oct/2024 13:00:33] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6707d7159e73711f01126689
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db50cd17-0b62-4150-bde8-3a0d4e1d62af', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 13:31:03 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'db50cd17-0b62-4150-bde8-3a0d4e1d62af', 'x-amzn-bedrock-invocation-latency': '1423', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bd30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6707d7179e73711f0112668a
INFO:__main__:Process completed successfully.
INFO:werkzeug:50.16.39.4 - - [10/Oct/2024 13:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5f19bb9e-e5cc-4f97-9813-69f965cf1fa3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 14:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5f19bb9e-e5cc-4f97-9813-69f965cf1fa3', 'x-amzn-bedrock-invocation-latency': '328', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a2f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6707e5109e73711f0112668c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bba0f596-69b3-44f9-bcb0-4689246da3e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 14:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'bba0f596-69b3-44f9-bcb0-4689246da3e8', 'x-amzn-bedrock-invocation-latency': '1291', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a19750>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6707e5129e73711f0112668d
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.141.118 - - [10/Oct/2024 14:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6707f3569e73711f0112668f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f29ac7be-6b98-4448-9a9e-59b88efac241', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 15:31:37 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f29ac7be-6b98-4448-9a9e-59b88efac241', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6707f3599e73711f01126690
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.200.65 - - [10/Oct/2024 15:31:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '93677640-0e8c-4536-96d5-91be13a3c567', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 16:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '93677640-0e8c-4536-96d5-91be13a3c567', 'x-amzn-bedrock-invocation-latency': '341', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670801269e73711f01126692
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e47d649-732b-4f5e-b213-f356451486e3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 16:30:32 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1e47d649-732b-4f5e-b213-f356451486e3', 'x-amzn-bedrock-invocation-latency': '1361', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79870>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670801289e73711f01126693
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.141.118 - - [10/Oct/2024 16:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67080f4f9e73711f01126695
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '43b8228f-6c6f-4d56-9dfb-7e9592961be0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 17:30:58 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '43b8228f-6c6f-4d56-9dfb-7e9592961be0', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a19ea0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67080f529e73711f01126696
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.69.77 - - [10/Oct/2024 17:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67081e2a9e73711f01126698
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ba2ba64a-1648-4fa7-949e-d4453c9a297f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 18:34:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ba2ba64a-1648-4fa7-949e-d4453c9a297f', 'x-amzn-bedrock-invocation-latency': '1411', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18c10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67081e2c9e73711f01126699
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.186.52 - - [10/Oct/2024 18:34:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '622a4152-bd77-478c-9036-23a52aa2551e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 19:31:08 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '622a4152-bd77-478c-9036-23a52aa2551e', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2c80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67082b7c9e73711f0112669b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '022754aa-1879-4e18-a7e3-f83472476297', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 19:31:11 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '022754aa-1879-4e18-a7e3-f83472476297', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2140>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67082b7f9e73711f0112669c
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.158.188 - - [10/Oct/2024 19:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.36 - - [10/Oct/2024 19:45:01] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '163766fd-3de4-4fd9-a906-5c36f1ed5192', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 20:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '163766fd-3de4-4fd9-a906-5c36f1ed5192', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79480>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670839789e73711f0112669e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6f0d91e2-d6e8-4c57-a58e-b263c0ec9787', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 20:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6f0d91e2-d6e8-4c57-a58e-b263c0ec9787', 'x-amzn-bedrock-invocation-latency': '1376', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708397b9e73711f0112669f
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.228.222.134 - - [10/Oct/2024 20:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9c3fae6d-7863-48ce-9876-604fef9d0732', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 21:30:50 GMT', 'content-type': 'application/json', 'content-length': '252', 'connection': 'keep-alive', 'x-amzn-requestid': '9c3fae6d-7863-48ce-9876-604fef9d0732', 'x-amzn-bedrock-invocation-latency': '416', 'x-amzn-bedrock-output-token-count': '32', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":32,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 6708478a9e73711f011266a1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fcf956ba-1e94-4c13-bb57-46cd1569f67f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 21:30:55 GMT', 'content-type': 'application/json', 'content-length': '1910', 'connection': 'keep-alive', 'x-amzn-requestid': 'fcf956ba-1e94-4c13-bb57-46cd1569f67f', 'x-amzn-bedrock-invocation-latency': '3725', 'x-amzn-bedrock-output-token-count': '379', 'x-amzn-bedrock-input-token-count': '1094'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, information regarding leaves or vacation days is available. The policy defines the process and procedures regarding employee leave entitlements, including types of leaves, rules to avail leaves, and leave encashment. Employees are encouraged to discuss and agree on the timings of their leave with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines the rules for sick leaves, casual leaves, and emergency leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"The purpose of this policy is about granting leave and to help employees to know about their entitlements and to make it easy for employees to avail themselves effectively.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 1\"\n        },\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1094,"generation_token_count":379,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708478f9e73711f011266a2
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.197.8.162 - - [10/Oct/2024 21:30:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bf9d724c-8cd8-4a7e-99dc-2798dbe36198', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 22:30:18 GMT', 'content-type': 'application/json', 'content-length': '266', 'connection': 'keep-alive', 'x-amzn-requestid': 'bf9d724c-8cd8-4a7e-99dc-2798dbe36198', 'x-amzn-bedrock-invocation-latency': '454', 'x-amzn-bedrock-output-token-count': '35', 'x-amzn-bedrock-input-token-count': '486'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a405b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding types of leaves or leave entitlements?\"\n}","prompt_token_count":486,"generation_token_count":35,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding types of leaves or leave entitlements?
INFO:__main__:Query stored successfully with ID: 6708557a9e73711f011266a4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9065eb60-616e-4ed6-aa71-07d44661f1f5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 22:30:23 GMT', 'content-type': 'application/json', 'content-length': '1745', 'connection': 'keep-alive', 'x-amzn-requestid': '9065eb60-616e-4ed6-aa71-07d44661f1f5', 'x-amzn-bedrock-invocation-latency': '3612', 'x-amzn-bedrock-output-token-count': '367', 'x-amzn-bedrock-input-token-count': '1188'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf84f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, the following types of leaves are available: **Types of Leaves**. The policy also outlines the rules to avail leaves, including the requirement to obtain prior sanction from the reporting manager/team leads/vertical head at least 2 weeks prior to taking leave. Additionally, the policy mentions **Sick Leaves**, which are allowed for 7 days on full fixed pay in one leave year. Furthermore, the policy also covers **Leave Encashment of Accumulated Privileged Leave** and **Formula for Leave Encashment**.\",\n    \"References\": [\n        {\n            \"Statement\": \"The purpose of this policy is about granting leave and to help employees to know about their entitlements and to make it easy for employees to avail themselves effectively.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 1\"\n        },\n        {\n            \"Statement\": \"Types of Leaves\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding types of leaves or leave entitlements?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1188,"generation_token_count":367,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708557f9e73711f011266a5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.222.205.99 - - [10/Oct/2024 22:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670863bc9e73711f011266a7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f891fbfa-db4f-491f-b278-a852805f21ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 10 Oct 2024 23:31:10 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f891fbfa-db4f-491f-b278-a852805f21ce', 'x-amzn-bedrock-invocation-latency': '1424', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa7a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670863be9e73711f011266a8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.60.201 - - [10/Oct/2024 23:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670871dd9e73711f011266aa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e06524b7-0168-4c58-ba9b-03b051b12f27', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 00:31:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e06524b7-0168-4c58-ba9b-03b051b12f27', 'x-amzn-bedrock-invocation-latency': '1320', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670871e09e73711f011266ab
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.178.92 - - [11/Oct/2024 00:31:28] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.156.83 - - [11/Oct/2024 00:41:21] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.156.93 - - [11/Oct/2024 00:41:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '318c71f1-7541-42d4-82e3-7d25968dfa98', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 01:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '318c71f1-7541-42d4-82e3-7d25968dfa98', 'x-amzn-bedrock-invocation-latency': '287', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a427d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67087fbb9e73711f011266ad
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '36a80cbf-7177-4ac2-8123-08d4e1b63cb7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 01:30:37 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '36a80cbf-7177-4ac2-8123-08d4e1b63cb7', 'x-amzn-bedrock-invocation-latency': '1286', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67087fbd9e73711f011266ae
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.134.49 - - [11/Oct/2024 01:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '22835b26-324c-4b83-a853-7ec7a3490e4a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 02:30:36 GMT', 'content-type': 'application/json', 'content-length': '238', 'connection': 'keep-alive', 'x-amzn-requestid': '22835b26-324c-4b83-a853-7ec7a3490e4a', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a401c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 67088dcc9e73711f011266b0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06586975-a041-4cfb-9414-9176d9f4cebb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 02:30:40 GMT', 'content-type': 'application/json', 'content-length': '1573', 'connection': 'keep-alive', 'x-amzn-requestid': '06586975-a041-4cfb-9414-9176d9f4cebb', 'x-amzn-bedrock-invocation-latency': '3073', 'x-amzn-bedrock-output-token-count': '307', 'x-amzn-bedrock-input-token-count': '1209'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, the company provides information on leave entitlements, leave types, and procedures for availing leaves. Employees are encouraged to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines rules for availing leaves, including sick leaves, casual leaves, and emergency leaves. Additionally, the policy provides information on leave encashment and overall coordination.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"The policy also outlines rules for availing leaves, including sick leaves, casual leaves, and emergency leaves\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5, 6.1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1209,"generation_token_count":307,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67088dd09e73711f011266b1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.227.16.151 - - [11/Oct/2024 02:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67089bec9e73711f011266b3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0381a59d-7ca6-4ec1-8c5a-71f2c6d0ea5e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 03:30:55 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0381a59d-7ca6-4ec1-8c5a-71f2c6d0ea5e', 'x-amzn-bedrock-invocation-latency': '1398', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67089bef9e73711f011266b4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.210.22.155 - - [11/Oct/2024 03:30:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6708aa079e73711f011266b6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eaf556f9-4f89-42f4-bff2-ec1b37aa7199', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 04:31:06 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'eaf556f9-4f89-42f4-bff2-ec1b37aa7199', 'x-amzn-bedrock-invocation-latency': '1442', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42e90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708aa0a9e73711f011266b7
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.88.162.72 - - [11/Oct/2024 04:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b306bc27-2907-45c4-9ff9-3ecccfca3a2b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 05:30:34 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b306bc27-2907-45c4-9ff9-3ecccfca3a2b', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a408e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6708b7fa9e73711f011266b9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '40a704e0-b32a-488b-b125-2f23a17d2d50', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 05:30:37 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '40a704e0-b32a-488b-b125-2f23a17d2d50', 'x-amzn-bedrock-invocation-latency': '1386', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708b7fd9e73711f011266ba
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.172.40 - - [11/Oct/2024 05:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cd3c5fd1-c127-4f98-b18b-02e67be0c04a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 06:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cd3c5fd1-c127-4f98-b18b-02e67be0c04a', 'x-amzn-bedrock-invocation-latency': '297', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6708c5f59e73711f011266bc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e6a61da6-a539-4d1e-9d7d-1b61d3338de8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 06:30:15 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e6a61da6-a539-4d1e-9d7d-1b61d3338de8', 'x-amzn-bedrock-invocation-latency': '1354', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfadd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708c5f79e73711f011266bd
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.215.112.76 - - [11/Oct/2024 06:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6708d4289e73711f011266bf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4d38a64f-f489-407b-9505-3ea028ae453f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 07:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4d38a64f-f489-407b-9505-3ea028ae453f', 'x-amzn-bedrock-invocation-latency': '1421', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa020>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708d42b9e73711f011266c0
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.215.112.76 - - [11/Oct/2024 07:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6708e23d9e73711f011266c2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dc6baac8-4021-471f-a45e-fb2ad95b551c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 08:30:56 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'dc6baac8-4021-471f-a45e-fb2ad95b551c', 'x-amzn-bedrock-invocation-latency': '1386', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708e2409e73711f011266c3
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.212.138 - - [11/Oct/2024 08:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': '<at>jinie by gemini-dev</at> what is the company leave policy ?', 'conversation_id': '19:384db6b2-9707-4069-8d6c-f03922a9b0d1_ef3af76d-f55d-4d11-b635-51b8d1d03c51@unq.gbl.spaces'}
INFO:__main__:Received query: <at>jinie by gemini-dev</at> what is the company leave policy ?
INFO:__main__:Received conversation_id: 19:384db6b2-9707-4069-8d6c-f03922a9b0d1_ef3af76d-f55d-4d11-b635-51b8d1d03c51@unq.gbl.spaces
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6708ee359e73711f011266c5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd47c9eea-99fa-4fc2-97af-eda6253e12dc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 09:22:02 GMT', 'content-type': 'application/json', 'content-length': '1616', 'connection': 'keep-alive', 'x-amzn-requestid': 'd47c9eea-99fa-4fc2-97af-eda6253e12dc', 'x-amzn-bedrock-invocation-latency': '3692', 'x-amzn-bedrock-output-token-count': '365', 'x-amzn-bedrock-input-token-count': '1198'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ba0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The company leave policy at Gemini Solutions is designed to grant leave to employees and define their entitlements. Employees are encouraged to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior). The policy applies to all employees of Gemini Solutions Pvt. Ltd. and includes various types of leaves such as sick leaves, casual leaves, and emergency leaves. The policy also outlines the rules for availing leaves and the process for leave encashment.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"The policy applies to all employees of Gemini Solutions Pvt. Ltd.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"19:384db6b2-9707-4069-8d6c-f03922a9b0d1_ef3af76d-f55d-4d11-b635-51b8d1d03c51@unq.gbl.spaces\",\n        \"query\": \"<at>jinie by gemini-dev</at> what is the company leave policy ?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1198,"generation_token_count":365,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708ee3a9e73711f011266c6
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [11/Oct/2024 09:22:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3cde6e0f-2a56-428f-bac4-ccd22019d275', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 09:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3cde6e0f-2a56-428f-bac4-ccd22019d275', 'x-amzn-bedrock-invocation-latency': '328', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a435e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6708f02f9e73711f011266c8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71cae4ed-87a9-48f1-a1ae-9303f53306f0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 09:30:25 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '71cae4ed-87a9-48f1-a1ae-9303f53306f0', 'x-amzn-bedrock-invocation-latency': '1400', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708f0319e73711f011266c9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.188.212 - - [11/Oct/2024 09:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:51.254.0.4 - - [11/Oct/2024 10:21:03] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6708fe429e73711f011266cb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '40974219-7cd5-4e49-83b2-4e316b6d83f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 10:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '40974219-7cd5-4e49-83b2-4e316b6d83f2', 'x-amzn-bedrock-invocation-latency': '1267', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf94e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6708fe449e73711f011266cc
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.153.239 - - [11/Oct/2024 10:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bd5bcf58-4ffe-4bad-9f72-4903a3742a32', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 11:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bd5bcf58-4ffe-4bad-9f72-4903a3742a32', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67090c429e73711f011266ce
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5f6fe628-61e0-4457-9a8a-2db15ac132f7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 11:30:13 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5f6fe628-61e0-4457-9a8a-2db15ac132f7', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8a60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67090c459e73711f011266cf
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.28.25 - - [11/Oct/2024 11:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67091a5f9e73711f011266d1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e7959d16-4dd4-4626-82b2-f8a90b7fe76d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 12:30:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e7959d16-4dd4-4626-82b2-f8a90b7fe76d', 'x-amzn-bedrock-invocation-latency': '1287', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67091a629e73711f011266d2
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.91.253.42 - - [11/Oct/2024 12:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6709288b9e73711f011266d4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '194a3388-6de3-46c9-98e9-5fe35f3bbec2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 13:30:54 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '194a3388-6de3-46c9-98e9-5fe35f3bbec2', 'x-amzn-bedrock-invocation-latency': '1381', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb6d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709288e9e73711f011266d5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.91.253.42 - - [11/Oct/2024 13:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '20cf5bb3-d2e0-4cf0-9510-67a412ed7afc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 14:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '20cf5bb3-d2e0-4cf0-9510-67a412ed7afc', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa110>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6709368f9e73711f011266d7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b0bfac14-0fc2-4b6b-9d28-19c88393e3b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 14:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b0bfac14-0fc2-4b6b-9d28-19c88393e3b6', 'x-amzn-bedrock-invocation-latency': '1389', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670936929e73711f011266d8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.223.104.214 - - [11/Oct/2024 14:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'af5c46a0-f47f-4ef5-a342-c59853f207cf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 15:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'af5c46a0-f47f-4ef5-a342-c59853f207cf', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b3d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670944929e73711f011266da
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'df8e6048-05a2-4554-b2b7-918fcacf3a4d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 15:30:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'df8e6048-05a2-4554-b2b7-918fcacf3a4d', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9de0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670944959e73711f011266db
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.99.205 - - [11/Oct/2024 15:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b36af421-d88c-44b3-948e-4d3353f5ef26', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 16:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b36af421-d88c-44b3-948e-4d3353f5ef26', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a401c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670952999e73711f011266dd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dcddc374-1fd9-4965-ad47-eecc461bd940', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 16:30:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'dcddc374-1fd9-4965-ad47-eecc461bd940', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf82b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709529c9e73711f011266de
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.156.142 - - [11/Oct/2024 16:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd7c20a5d-73a8-4e21-be20-b8404b335765', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 17:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd7c20a5d-73a8-4e21-be20-b8404b335765', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670960a89e73711f011266e0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '07545b66-91ec-4d2b-902f-e2c2912fd955', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 17:30:19 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '07545b66-91ec-4d2b-902f-e2c2912fd955', 'x-amzn-bedrock-invocation-latency': '1326', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670960ab9e73711f011266e1
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.213.193.142 - - [11/Oct/2024 17:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67096f469e73711f011266e3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '17fe203b-2025-432a-b2da-2597372f8d6c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 18:32:41 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '17fe203b-2025-432a-b2da-2597372f8d6c', 'x-amzn-bedrock-invocation-latency': '1453', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9eef0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67096f499e73711f011266e4
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.4.91 - - [11/Oct/2024 18:32:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0416e999-3b68-459d-8944-862ceaf56948', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 19:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0416e999-3b68-459d-8944-862ceaf56948', 'x-amzn-bedrock-invocation-latency': '332', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfac80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67097cd29e73711f011266e6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8e7e68c6-1bf0-46e1-9de5-5a083ee0d556', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 19:30:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8e7e68c6-1bf0-46e1-9de5-5a083ee0d556', 'x-amzn-bedrock-invocation-latency': '1377', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a785b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67097cd59e73711f011266e7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.214.239 - - [11/Oct/2024 19:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67098af49e73711f011266e9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd5f7f586-876b-489d-8d2f-120bf6574be0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 20:30:47 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'd5f7f586-876b-489d-8d2f-120bf6574be0', 'x-amzn-bedrock-invocation-latency': '1421', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a5c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67098af79e73711f011266ea
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.153.239 - - [11/Oct/2024 20:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e82922c6-ca4e-40a9-9cfc-800a186b2f2a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 21:30:47 GMT', 'content-type': 'application/json', 'content-length': '252', 'connection': 'keep-alive', 'x-amzn-requestid': 'e82922c6-ca4e-40a9-9cfc-800a186b2f2a', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '32', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e3070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":32,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 670999079e73711f011266ec
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04598f24-58ba-427d-bfca-334c6a0c72b1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 21:30:51 GMT', 'content-type': 'application/json', 'content-length': '1457', 'connection': 'keep-alive', 'x-amzn-requestid': '04598f24-58ba-427d-bfca-334c6a0c72b1', 'x-amzn-bedrock-invocation-latency': '2683', 'x-amzn-bedrock-output-token-count': '289', 'x-amzn-bedrock-input-token-count': '1094'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' leave policy is available on the MIS, under the 'Policies' section, as mentioned in Text Block 5. The policy provides information on leave entitlements, types of leaves, and rules to avail leaves. According to the policy, employees are encouraged to discuss and agree on the timings of their leave with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n    \"References\": [\n        {\n            \"Statement\": \"You can find the internal Gemini policies on MIS, under the 'Policies' section.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - 21\"\n        },\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1094,"generation_token_count":289,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709990b9e73711f011266ed
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.223.6.170 - - [11/Oct/2024 21:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ab03aa1c-a43c-4dbe-b9b3-e9a1af4b1216', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 22:30:25 GMT', 'content-type': 'application/json', 'content-length': '266', 'connection': 'keep-alive', 'x-amzn-requestid': 'ab03aa1c-a43c-4dbe-b9b3-e9a1af4b1216', 'x-amzn-bedrock-invocation-latency': '478', 'x-amzn-bedrock-output-token-count': '35', 'x-amzn-bedrock-input-token-count': '400'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a290>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding types of leaves or leave entitlements?\"\n}","prompt_token_count":400,"generation_token_count":35,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding types of leaves or leave entitlements?
INFO:__main__:Query stored successfully with ID: 6709a7019e73711f011266ef
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0b45b959-bacc-4c39-8f96-66e564fab4b7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 22:30:31 GMT', 'content-type': 'application/json', 'content-length': '2304', 'connection': 'keep-alive', 'x-amzn-requestid': '0b45b959-bacc-4c39-8f96-66e564fab4b7', 'x-amzn-bedrock-invocation-latency': '4723', 'x-amzn-bedrock-output-token-count': '477', 'x-amzn-bedrock-input-token-count': '1188'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, the following types of leaves are available: **Types of Leaves**. The policy also outlines the rules to avail leaves, including the requirement to obtain prior sanction from the reporting manager/team leads/vertical head at least 2 weeks prior to taking leave. Additionally, the policy specifies that weekends and public holidays are not considered as leave deductions if they fall within an employee's leave request.\n\n* Sick Leaves: Every confirmed employee is allowed 7 days of sick leave on full fixed pay in one leave year.\n* Emergency Leaves: Employees can take emergency leaves, but these can be rejected at the discretion of the Supervisor.\n* Casual Leaves: If an employee has outstanding leave, a follow-up call must be made later, and such leave shall be recorded as casual leave. If the leave entitlement is exhausted, the leave shall be recorded as Leave without Pay.\n\nThe policy also covers Leave Encashment of Accumulated Privileged Leave and provides a formula for leave encashment.\n\nReferences:\n{\n    \"Statement\": \"The purpose of this policy is about granting leave and to help employees to know about their entitlements and to make it easy for employees to avail themselves effectively.\",\n    \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 1\"\n},\n{\n    \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with their respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n    \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n},\n{\n    \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n    \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n}\n\",\n\"Metadata\": {\n    \"conversation_id\": \"5656\",\n    \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding types of leaves or leave entitlements?\",\n    \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n    \"response_length\": \"246\"\n}\n}","prompt_token_count":1188,"generation_token_count":477,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 490 (char 493)
INFO:werkzeug:54.91.253.42 - - [11/Oct/2024 22:30:31] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6709b5179e73711f011266f1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8b2265cd-4122-4952-a1fe-23cdccdbca98', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 11 Oct 2024 23:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8b2265cd-4122-4952-a1fe-23cdccdbca98', 'x-amzn-bedrock-invocation-latency': '1442', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a782e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709b51a9e73711f011266f2
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.153.239 - - [11/Oct/2024 23:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.212.143.177 - - [11/Oct/2024 23:44:25] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ba8e5500-3afc-457e-8529-a835a7e431eb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 00:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ba8e5500-3afc-457e-8529-a835a7e431eb', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf84f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6709c31d9e73711f011266f4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd4763ed9-f789-4cf5-a678-221ab11c54e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 00:30:24 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'd4763ed9-f789-4cf5-a678-221ab11c54e8', 'x-amzn-bedrock-invocation-latency': '1296', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cf70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709c3209e73711f011266f5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.57.1 - - [12/Oct/2024 00:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6709d1379e73711f011266f7
INFO:__main__:Creating embeddings for the query.
INFO:werkzeug:13.212.143.177 - - [12/Oct/2024 01:30:32] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd60e0fe9-d243-4232-93f4-90c7352b8f71', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 01:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'd60e0fe9-d243-4232-93f4-90c7352b8f71', 'x-amzn-bedrock-invocation-latency': '1464', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709d13a9e73711f011266f8
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.194.213 - - [12/Oct/2024 01:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6bb56b0d-584c-4639-a0dd-9e612b2fa0fb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 02:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6bb56b0d-584c-4639-a0dd-9e612b2fa0fb', 'x-amzn-bedrock-invocation-latency': '391', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6709df369e73711f011266fa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a298e7b-6f17-4a04-8635-de97b5b71113', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 02:30:17 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9a298e7b-6f17-4a04-8635-de97b5b71113', 'x-amzn-bedrock-invocation-latency': '1289', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709df399e73711f011266fb
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.60.114 - - [12/Oct/2024 02:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6709ed789e73711f011266fd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c15af72d-6cd9-4e1f-bcc5-251738d60d5a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 03:31:06 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c15af72d-6cd9-4e1f-bcc5-251738d60d5a', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709ed7a9e73711f011266fe
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.57.1 - - [12/Oct/2024 03:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6709fb929e73711f01126700
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4d291a76-933e-437f-a0da-a970778e27d0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 04:31:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4d291a76-933e-437f-a0da-a970778e27d0', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a413f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6709fb949e73711f01126701
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.94.136 - - [12/Oct/2024 04:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7ffed5a6-2b50-42f2-b625-1ad7c8cfe4b8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 05:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7ffed5a6-2b50-42f2-b625-1ad7c8cfe4b8', 'x-amzn-bedrock-invocation-latency': '388', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a413f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670a096d9e73711f01126703
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '43858308-d8e8-48aa-910c-4f5929462057', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 05:30:23 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '43858308-d8e8-48aa-910c-4f5929462057', 'x-amzn-bedrock-invocation-latency': '1367', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ccd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a096f9e73711f01126704
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.198.60.72 - - [12/Oct/2024 05:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.153 - - [12/Oct/2024 06:08:59] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670a17cc9e73711f01126706
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e9881af2-bdfe-4133-b668-0570832363b8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 06:31:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e9881af2-bdfe-4133-b668-0570832363b8', 'x-amzn-bedrock-invocation-latency': '1427', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fbb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a17ce9e73711f01126707
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.198.60.72 - - [12/Oct/2024 06:31:42] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.156.92 - - [12/Oct/2024 07:02:25] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.156.83 - - [12/Oct/2024 07:02:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5e5cf9df-582f-4080-90d8-8b41a12fc9cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 07:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5e5cf9df-582f-4080-90d8-8b41a12fc9cb', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bface0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670a25999e73711f01126709
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a762c0a-2843-4233-922c-25afd0574d5b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 07:30:36 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3a762c0a-2843-4233-922c-25afd0574d5b', 'x-amzn-bedrock-invocation-latency': '1390', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a259c9e73711f0112670a
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.173.181.35 - - [12/Oct/2024 07:30:36] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:104.236.249.169 - - [12/Oct/2024 08:21:59] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:104.236.249.169 - - [12/Oct/2024 08:21:59] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03`U:\x93\x97¬¢\x02J\x1e¬§√É√ôL√à_√¢4\x8a√Æ¬ß\x90√®√°√Ö\x907~\x86\x1a√π√∞√ó\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:104.236.249.169 - - [12/Oct/2024 08:22:00] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:104.236.249.169 - - [12/Oct/2024 08:22:00] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03√µ\x81\x08√ã\x89KV\x1e√î\x9e^√É¬∫\x12√ú\x8b\x9bR√¶√õCQ3√ü¬¨\x86√î¬¶¬∫√ñ\x02o\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:104.236.249.169 - - [12/Oct/2024 08:22:00] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670a33d89e73711f0112670c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '28cea93d-5dd7-4995-94ce-b9fac538b429', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 08:31:23 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '28cea93d-5dd7-4995-94ce-b9fac538b429', 'x-amzn-bedrock-invocation-latency': '1444', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d0f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a33db9e73711f0112670d
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.153.129.183 - - [12/Oct/2024 08:31:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8aec8756-84bb-4dd7-8629-88bf06d70f15', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 09:30:34 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8aec8756-84bb-4dd7-8629-88bf06d70f15', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa6e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670a41ba9e73711f0112670f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3b0634a6-d618-4b0b-ba90-a489a071f7f6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 09:30:37 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3b0634a6-d618-4b0b-ba90-a489a071f7f6', 'x-amzn-bedrock-invocation-latency': '1367', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cbb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a41bd9e73711f01126710
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.128.65 - - [12/Oct/2024 09:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670a4fd19e73711f01126712
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '98891887-1eea-4671-a16f-732ef7e43179', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 10:30:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '98891887-1eea-4671-a16f-732ef7e43179', 'x-amzn-bedrock-invocation-latency': '1445', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9eb30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a4fd49e73711f01126713
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.211.104.147 - - [12/Oct/2024 10:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f6e201e9-7514-4260-9711-76834d6fec83', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 11:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f6e201e9-7514-4260-9711-76834d6fec83', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a421d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670a5dcb9e73711f01126715
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c5b2a04-3107-4acb-8847-6aa207726710', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 11:30:22 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6c5b2a04-3107-4acb-8847-6aa207726710', 'x-amzn-bedrock-invocation-latency': '1379', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e2f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a5dce9e73711f01126716
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.15.114 - - [12/Oct/2024 11:30:22] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [12/Oct/2024 12:00:21] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [12/Oct/2024 12:00:21] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670a6c069e73711f01126718
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a6bbec4b-55f5-4b82-8b9c-7616ddb099eb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 12:31:05 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a6bbec4b-55f5-4b82-8b9c-7616ddb099eb', 'x-amzn-bedrock-invocation-latency': '1438', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a6c099e73711f01126719
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.164.160.46 - - [12/Oct/2024 12:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e307e99b-7a91-45fb-ba63-344f0cbe43e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 13:30:44 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e307e99b-7a91-45fb-ba63-344f0cbe43e8', 'x-amzn-bedrock-invocation-latency': '331', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670a7a049e73711f0112671b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5341b0bb-9aee-4434-92ab-c28d4b242d24', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 13:30:46 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5341b0bb-9aee-4434-92ab-c28d4b242d24', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e8f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a7a069e73711f0112671c
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.213.216 - - [12/Oct/2024 13:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:4.151.38.26 - - [12/Oct/2024 14:04:55] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ae0dfdc3-74b2-498b-9eae-4b2a0733ce10', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 14:30:38 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ae0dfdc3-74b2-498b-9eae-4b2a0733ce10', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670a880e9e73711f0112671e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f4a236db-80da-4745-8ae8-2a1c79022e22', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 14:30:41 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f4a236db-80da-4745-8ae8-2a1c79022e22', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a88119e73711f0112671f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.144.27.72 - - [12/Oct/2024 14:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b6f66527-ee38-44ff-aca6-b8f6b69a68fc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 15:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b6f66527-ee38-44ff-aca6-b8f6b69a68fc', 'x-amzn-bedrock-invocation-latency': '339', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7af80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670a95fe9e73711f01126721
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06629920-b38e-4203-8ab0-ccfce49a6d80', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 15:30:08 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '06629920-b38e-4203-8ab0-ccfce49a6d80', 'x-amzn-bedrock-invocation-latency': '1351', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670a96009e73711f01126722
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.21.81.71 - - [12/Oct/2024 15:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670aa4579e73711f01126724
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cc2a69e1-351e-4d8a-964f-a3b228e30790', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 16:31:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cc2a69e1-351e-4d8a-964f-a3b228e30790', 'x-amzn-bedrock-invocation-latency': '1383', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ce20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670aa4599e73711f01126725
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.250.100 - - [12/Oct/2024 16:31:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '912783b5-e330-4ec7-89ce-cb825550f1f6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 17:31:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '912783b5-e330-4ec7-89ce-cb825550f1f6', 'x-amzn-bedrock-invocation-latency': '371', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfab60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670ab2619e73711f01126727
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed007a62-be1d-4450-8e0f-d1bdb21ac1e5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 17:31:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed007a62-be1d-4450-8e0f-d1bdb21ac1e5', 'x-amzn-bedrock-invocation-latency': '1396', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9efe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ab2649e73711f01126728
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.171.3.40 - - [12/Oct/2024 17:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '67613190-5bcb-4d3a-9e6c-5ed0515b0ef0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 18:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '67613190-5bcb-4d3a-9e6c-5ed0515b0ef0', 'x-amzn-bedrock-invocation-latency': '328', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a795d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670ac0399e73711f0112672a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '474db767-2f17-41c8-a10b-07f8ed3ea84d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 18:30:19 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '474db767-2f17-41c8-a10b-07f8ed3ea84d', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd20b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ac03b9e73711f0112672b
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.134.109 - - [12/Oct/2024 18:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670ace679e73711f0112672d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5f654744-ccea-47bf-a698-a11f35368da4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 19:30:50 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5f654744-ccea-47bf-a698-a11f35368da4', 'x-amzn-bedrock-invocation-latency': '1501', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d2d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ace6a9e73711f0112672e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.162.228.191 - - [12/Oct/2024 19:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670adc829e73711f01126730
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a11b028-adb8-4d8c-98d3-eb2207fd2a29', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 20:31:01 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3a11b028-adb8-4d8c-98d3-eb2207fd2a29', 'x-amzn-bedrock-invocation-latency': '1438', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670adc859e73711f01126731
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.218.150.82 - - [12/Oct/2024 20:31:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4b2e07b5-12f0-4fff-a057-b3f9e6821564', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 21:30:53 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4b2e07b5-12f0-4fff-a057-b3f9e6821564', 'x-amzn-bedrock-invocation-latency': '290', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41870>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670aea8d9e73711f01126733
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '77ba83f5-7aff-403a-ad99-5bdeabf6e2d3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 21:30:55 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '77ba83f5-7aff-403a-ad99-5bdeabf6e2d3', 'x-amzn-bedrock-invocation-latency': '1392', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670aea8f9e73711f01126734
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.147.46 - - [12/Oct/2024 21:30:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670af8a39e73711f01126736
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '38911cc7-5e3a-4372-b576-42d71a3b0ebe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 22:31:02 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '38911cc7-5e3a-4372-b576-42d71a3b0ebe', 'x-amzn-bedrock-invocation-latency': '1458', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd23e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670af8a69e73711f01126737
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.21.199.238 - - [12/Oct/2024 22:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '28dc383a-c684-4716-9ce5-208d3c357816', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 23:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '28dc383a-c684-4716-9ce5-208d3c357816', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670b067f9e73711f01126739
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fcb70f4a-db88-4cb2-8c46-bc55d3cab071', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 12 Oct 2024 23:30:10 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'fcb70f4a-db88-4cb2-8c46-bc55d3cab071', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e7a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b06829e73711f0112673a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.208.34.186 - - [12/Oct/2024 23:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670b14d29e73711f0112673c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a0db18fa-4761-45da-a306-37ff73a4f4a1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 00:31:17 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a0db18fa-4761-45da-a306-37ff73a4f4a1', 'x-amzn-bedrock-invocation-latency': '1356', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b14d59e73711f0112673d
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.73.51 - - [13/Oct/2024 00:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.48 - - [13/Oct/2024 01:11:51] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5907fbe4-a88d-4a47-915c-926ce6d3b37e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 01:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5907fbe4-a88d-4a47-915c-926ce6d3b37e', 'x-amzn-bedrock-invocation-latency': '290', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670b22c89e73711f0112673f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd24906da-84ef-4e94-a33a-141d800641eb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 01:30:50 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'd24906da-84ef-4e94-a33a-141d800641eb', 'x-amzn-bedrock-invocation-latency': '1407', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd04c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b22ca9e73711f01126740
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.225.238 - - [13/Oct/2024 01:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670b30f39e73711f01126742
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3daa0b49-8c06-41cc-b328-e755e060da46', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 02:31:18 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3daa0b49-8c06-41cc-b328-e755e060da46', 'x-amzn-bedrock-invocation-latency': '1425', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b30f69e73711f01126743
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.236.61.35 - - [13/Oct/2024 02:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '10cc338d-9c29-4c04-b905-610b67f9aaa2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 03:31:04 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '10cc338d-9c29-4c04-b905-610b67f9aaa2', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fa90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670b3ef89e73711f01126745
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '87145468-3975-4e7e-bc4f-18e6392b5a2c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 03:31:06 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '87145468-3975-4e7e-bc4f-18e6392b5a2c', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b3efa9e73711f01126746
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.168.10.18 - - [13/Oct/2024 03:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64c3d666-9714-45a1-b5ad-f3176bf3fbc9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 04:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '64c3d666-9714-45a1-b5ad-f3176bf3fbc9', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670b4cd99e73711f01126748
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e686193-363a-488d-b0b0-4172f7431bc9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 04:30:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1e686193-363a-488d-b0b0-4172f7431bc9', 'x-amzn-bedrock-invocation-latency': '1381', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b4cdc9e73711f01126749
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.246.112 - - [13/Oct/2024 04:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670b5afc9e73711f0112674b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1ef2e4bd-e619-4503-b386-4d413cdf9a50', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 05:30:38 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1ef2e4bd-e619-4503-b386-4d413cdf9a50', 'x-amzn-bedrock-invocation-latency': '1286', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1db0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b5afe9e73711f0112674c
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.153.179.11 - - [13/Oct/2024 05:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:87.236.176.212 - - [13/Oct/2024 05:56:21] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3eb7b89f-3ea6-411f-9bf6-8f27c34cb9e7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 06:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3eb7b89f-3ea6-411f-9bf6-8f27c34cb9e7', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf84f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670b68fa9e73711f0112674e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c65089b-023b-41a8-85bd-a2453fcd8fe9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 06:30:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4c65089b-023b-41a8-85bd-a2453fcd8fe9', 'x-amzn-bedrock-invocation-latency': '1288', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b68fd9e73711f0112674f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.244.28 - - [13/Oct/2024 06:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8c056749-df50-4892-ae6f-0956a4c37d10', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 07:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8c056749-df50-4892-ae6f-0956a4c37d10', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9feb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670b77039e73711f01126751
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bac9b17b-655c-4a27-b009-eac8bdd91ddc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 07:30:13 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'bac9b17b-655c-4a27-b009-eac8bdd91ddc', 'x-amzn-bedrock-invocation-latency': '1336', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b77059e73711f01126752
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.20.242 - - [13/Oct/2024 07:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how to remove lwp', 'conversation_id': 'a:1LD9c3pqyFwaEkjvemf1c5VuAHFoaoV4_pjNyXzAyfTDiHKXYxLmpp3zNa6F0IUmUGCZxRY7r-wAigWvD7G2yTGgynh9CfTZA0A2eoG4DbaFh0wnM5pL2tQq59VVj0QP9'}
INFO:__main__:Received query: how to remove lwp
INFO:__main__:Received conversation_id: a:1LD9c3pqyFwaEkjvemf1c5VuAHFoaoV4_pjNyXzAyfTDiHKXYxLmpp3zNa6F0IUmUGCZxRY7r-wAigWvD7G2yTGgynh9CfTZA0A2eoG4DbaFh0wnM5pL2tQq59VVj0QP9
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670b79999e73711f01126754
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0f0c5a2b-0883-4232-9b13-ec38b9569097', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 07:41:17 GMT', 'content-type': 'application/json', 'content-length': '879', 'connection': 'keep-alive', 'x-amzn-requestid': '0f0c5a2b-0883-4232-9b13-ec38b9569097', 'x-amzn-bedrock-invocation-latency': '2539', 'x-amzn-bedrock-output-token-count': '254', 'x-amzn-bedrock-input-token-count': '915'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a403d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To remove LWP, you need to raise a ticket on the Helpdesk under the MIS LWP option. Once your DC manager and HR approve it, the LWP will be removed.\",\n    \"References\": [\n        {\n            \"Statement\": \"Just raise a ticket on the Helpdesk under the MIS LWP option. Once your DC manager and HR approve it, the LWP will be removed.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 19\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1LD9c3pqyFwaEkjvemf1c5VuAHFoaoV4_pjNyXzAyfTDiHKXYxLmpp3zNa6F0IUmUGCZxRY7r-wAigWvD7G2yTGgynh9CfTZA0A2eoG4DbaFh0wnM5pL2tQq59VVj0QP9\",\n        \"query\": \"how to remove lwp\",\n        \"source\": \"HR - Leave Policy.csv\",\n        \"response_length\": \"56\"\n    }\n}","prompt_token_count":915,"generation_token_count":254,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b799d9e73711f01126755
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [13/Oct/2024 07:41:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'thanks', 'conversation_id': 'a:1LD9c3pqyFwaEkjvemf1c5VuAHFoaoV4_pjNyXzAyfTDiHKXYxLmpp3zNa6F0IUmUGCZxRY7r-wAigWvD7G2yTGgynh9CfTZA0A2eoG4DbaFh0wnM5pL2tQq59VVj0QP9'}
INFO:__main__:Received query: thanks
INFO:__main__:Received conversation_id: a:1LD9c3pqyFwaEkjvemf1c5VuAHFoaoV4_pjNyXzAyfTDiHKXYxLmpp3zNa6F0IUmUGCZxRY7r-wAigWvD7G2yTGgynh9CfTZA0A2eoG4DbaFh0wnM5pL2tQq59VVj0QP9
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a8de8b7-8a60-4f50-9d64-2de215e71acb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 07:43:01 GMT', 'content-type': 'application/json', 'content-length': '179', 'connection': 'keep-alive', 'x-amzn-requestid': '9a8de8b7-8a60-4f50-9d64-2de215e71acb', 'x-amzn-bedrock-invocation-latency': '298', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '276'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a797e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"thanks for the help on removing LWP\"\n}","prompt_token_count":276,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: thanks for the help on removing LWP
INFO:__main__:Query stored successfully with ID: 670b7a059e73711f01126757
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd6e38486-3bba-4d66-9a44-031006a06451', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 07:43:05 GMT', 'content-type': 'application/json', 'content-length': '993', 'connection': 'keep-alive', 'x-amzn-requestid': 'd6e38486-3bba-4d66-9a44-031006a06451', 'x-amzn-bedrock-invocation-latency': '2741', 'x-amzn-bedrock-output-token-count': '277', 'x-amzn-bedrock-input-token-count': '1000'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"You're welcome! To remove LWP, you can raise a ticket on the Helpdesk under the MIS LWP option. Once your DC manager and HR approve it, the LWP will be removed. Please note that you need to submit the change request before the 25th of the month.\",\n    \"References\": [\n        {\n            \"Statement\": \"Just raise a ticket on the Helpdesk under the MIS LWP option. Once your DC manager and HR approve it, the LWP will be removed.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 19\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1LD9c3pqyFwaEkjvemf1c5VuAHFoaoV4_pjNyXzAyfTDiHKXYxLmpp3zNa6F6IUmUGCZxRY7r-wAigWvD7G2yTGgynh9CfTZA0A2eoG4DbaFh0wnM5pL2tQq59VVj0QP9\",\n        \"query\": \"thanks for the help on removing LWP\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1000,"generation_token_count":277,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b7a099e73711f01126758
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [13/Oct/2024 07:43:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670b851a9e73711f0112675a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a0702752-0eec-454f-bbc4-0b1a2224542c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 08:30:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a0702752-0eec-454f-bbc4-0b1a2224542c', 'x-amzn-bedrock-invocation-latency': '1378', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd29e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b851d9e73711f0112675b
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.207.235 - - [13/Oct/2024 08:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.142 - - [13/Oct/2024 09:08:54] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670b933d9e73711f0112675d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3ef16fa9-03ae-4cc5-b24e-37cd7c8fd0d5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 09:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3ef16fa9-03ae-4cc5-b24e-37cd7c8fd0d5', 'x-amzn-bedrock-invocation-latency': '1349', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a794b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670b93409e73711f0112675e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.162.105 - - [13/Oct/2024 09:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.84.89.3 - - [13/Oct/2024 09:47:11] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670ba1519e73711f01126760
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'df6e6c27-dc13-4286-91dc-4b3576c1bcad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 10:30:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'df6e6c27-dc13-4286-91dc-4b3576c1bcad', 'x-amzn-bedrock-invocation-latency': '1396', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ba1549e73711f01126761
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.235.156.143 - - [13/Oct/2024 10:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7d6fc516-0cf7-4547-9a99-5606df587a7a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 11:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7d6fc516-0cf7-4547-9a99-5606df587a7a', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670baf419e73711f01126763
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '182db834-a9e7-48b7-b04c-312e60d94a9d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 11:30:12 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '182db834-a9e7-48b7-b04c-312e60d94a9d', 'x-amzn-bedrock-invocation-latency': '1399', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3dc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670baf449e73711f01126764
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.90.255 - - [13/Oct/2024 11:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670bbd789e73711f01126766
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a0047647-583d-4e3f-b2c9-ae0c07aef4fe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 12:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a0047647-583d-4e3f-b2c9-ae0c07aef4fe', 'x-amzn-bedrock-invocation-latency': '1433', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0160>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670bbd7b9e73711f01126767
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.43.117 - - [13/Oct/2024 12:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a080f980-852c-4e21-bc27-09cb3f7f9829', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 13:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a080f980-852c-4e21-bc27-09cb3f7f9829', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fdf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670bcb7f9e73711f01126769
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1be262b6-10e1-4449-b48d-0a550950dd95', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 13:30:42 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1be262b6-10e1-4449-b48d-0a550950dd95', 'x-amzn-bedrock-invocation-latency': '1354', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf94e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670bcb829e73711f0112676a
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.175.244.27 - - [13/Oct/2024 13:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4bd5f80c-fdbf-4b4f-abc4-a0b1b05f8f09', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 14:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4bd5f80c-fdbf-4b4f-abc4-a0b1b05f8f09', 'x-amzn-bedrock-invocation-latency': '381', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670bd97d9e73711f0112676c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f14d00cb-bc0a-4104-aefb-a001cd1b5016', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 14:30:24 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'f14d00cb-bc0a-4104-aefb-a001cd1b5016', 'x-amzn-bedrock-invocation-latency': '1396', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670bd9809e73711f0112676d
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.47.58 - - [13/Oct/2024 14:30:24] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:44.220.185.133 - - [13/Oct/2024 15:06:49] code 400, message Bad request version ("\x82\x14¬µ√†√Ö√ØQ|b¬∂√®M\x9e\x00rU\x00V\x13\x02\x13\x03\x13\x01√Ä,√Ä0√Ä+√Ä/√å¬©√å¬®\x00\x9f\x00\x9e√å¬™√Ä¬Ø√Ä\xad√Ä¬Æ√Ä¬¨√Ä$√Ä(√Ä#√Ä'√Ä")
INFO:werkzeug:44.220.185.133 - - [13/Oct/2024 15:06:49] "[31m[1m\x16\x03\x01\x02\x00\x01\x00\x01√º\x03\x03-a¬π√∂\x17√Æ\x90\x08\x19\x865\x1c\x7fW6√ºF\x92¬Ω\x08Y\x14√ªh√°\x19\x14\x8d\x81\x9a\x8b¬Æ "\x88\x97√∫√Ä\x1cd¬•√ÇxM√ü\x95√æ√¢\x09\x82\x14¬µ√†√Ö√ØQ|b¬∂√®M\x9e\x00rU\x00V\x13\x02\x13\x03\x13\x01√Ä,√Ä0√Ä+√Ä/√å¬©√å¬®\x00\x9f\x00\x9e√å¬™√Ä¬Ø√Ä¬≠√Ä¬Æ√Ä¬¨√Ä$√Ä(√Ä#√Ä'√Ä[0m" 400 -
INFO:werkzeug:44.220.185.133 - - [13/Oct/2024 15:06:49] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670be7959e73711f0112676f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b403da40-ffee-4b3d-9f40-3208d1ca5991', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 15:30:32 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b403da40-ffee-4b3d-9f40-3208d1ca5991', 'x-amzn-bedrock-invocation-latency': '1329', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670be7989e73711f01126770
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.75.147 - - [13/Oct/2024 15:30:32] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:13.212.143.177 - - [13/Oct/2024 16:03:30] code 400, message Bad request syntax ('\x16\x03\x01\x00√≤\x01\x00\x00√Æ\x03\x03ZU¬ºq\x11√õ')
INFO:werkzeug:13.212.143.177 - - [13/Oct/2024 16:03:30] "[31m[1m\x16\x03\x01\x00√≤\x01\x00\x00√Æ\x03\x03ZU¬ºq\x11√õ[0m" 400 -
INFO:werkzeug:13.212.143.177 - - [13/Oct/2024 16:03:31] "[33mGET /?pp=env HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2563a871-0bcb-495c-856d-3974e44aa45d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 16:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2563a871-0bcb-495c-856d-3974e44aa45d', 'x-amzn-bedrock-invocation-latency': '317', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7aa70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670bf5959e73711f01126772
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bd6d0165-7464-45c0-879c-db62dc9c03df', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 16:30:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'bd6d0165-7464-45c0-879c-db62dc9c03df', 'x-amzn-bedrock-invocation-latency': '1384', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1000>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670bf5989e73711f01126773
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.210.164.208 - - [13/Oct/2024 16:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670c03b19e73711f01126775
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4288aa38-8d13-49b3-a429-728c21cdd4a7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 17:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4288aa38-8d13-49b3-a429-728c21cdd4a7', 'x-amzn-bedrock-invocation-latency': '1468', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf94e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c03b49e73711f01126776
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.180.34 - - [13/Oct/2024 17:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670c12219e73711f01126778
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4efb4abc-242c-40eb-98c3-16373103c53d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 18:32:04 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4efb4abc-242c-40eb-98c3-16373103c53d', 'x-amzn-bedrock-invocation-latency': '1360', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1cc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c12249e73711f01126779
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.165.13.19 - - [13/Oct/2024 18:32:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '486cecc5-c0da-4184-9bd4-5deaf4f19848', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 19:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '486cecc5-c0da-4184-9bd4-5deaf4f19848', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670c1fd89e73711f0112677b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '718ab4d7-d896-4838-91ff-0b7e64d820a1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 19:30:35 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '718ab4d7-d896-4838-91ff-0b7e64d820a1', 'x-amzn-bedrock-invocation-latency': '1367', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c1fdb9e73711f0112677c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.210.164.208 - - [13/Oct/2024 19:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2046c92f-88c8-4951-9a8d-bf6da7e063f7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 20:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2046c92f-88c8-4951-9a8d-bf6da7e063f7', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79b40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670c2de69e73711f0112677e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0368573a-be2a-4e99-bc49-48e757025c0b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 20:30:33 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '0368573a-be2a-4e99-bc49-48e757025c0b', 'x-amzn-bedrock-invocation-latency': '1395', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1a80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c2de99e73711f0112677f
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.245.23 - - [13/Oct/2024 20:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e118473e-bf84-4169-907e-d46530d86433', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 21:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e118473e-bf84-4169-907e-d46530d86433', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbb20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670c3bde9e73711f01126781
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8b50cfb3-3cf0-43ea-81f0-3c5636d0a189', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 21:30:09 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8b50cfb3-3cf0-43ea-81f0-3c5636d0a189', 'x-amzn-bedrock-invocation-latency': '1308', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c3be19e73711f01126782
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.145.44 - - [13/Oct/2024 21:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670c4a029e73711f01126784
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6b69dade-0a24-4d71-94dc-eab4bf198be4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 22:30:28 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6b69dade-0a24-4d71-94dc-eab4bf198be4', 'x-amzn-bedrock-invocation-latency': '1337', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c4a049e73711f01126785
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.238.152.67 - - [13/Oct/2024 22:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670c58179e73711f01126787
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '466dbfcf-7f74-402c-bb3b-77863b5533cc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 13 Oct 2024 23:30:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '466dbfcf-7f74-402c-bb3b-77863b5533cc', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd29e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c581a9e73711f01126788
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.205.60 - - [13/Oct/2024 23:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670c663c9e73711f0112678a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6ffc9ba5-04ca-4aa3-84c8-0118db528cad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 00:30:54 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '6ffc9ba5-04ca-4aa3-84c8-0118db528cad', 'x-amzn-bedrock-invocation-latency': '1353', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2b30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c663e9e73711f0112678b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.170.211 - - [14/Oct/2024 00:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670c74509e73711f0112678d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4348afa4-b450-44c1-af7d-ef0668d7331f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 01:30:59 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4348afa4-b450-44c1-af7d-ef0668d7331f', 'x-amzn-bedrock-invocation-latency': '1469', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c74539e73711f0112678e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.242.191 - - [14/Oct/2024 01:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.10 - - [14/Oct/2024 01:53:50] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:198.235.24.147 - - [14/Oct/2024 01:59:03] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670c82739e73711f01126790
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b28fa6f9-fcd0-4b9f-b96d-dd2832b06a79', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 02:31:18 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b28fa6f9-fcd0-4b9f-b96d-dd2832b06a79', 'x-amzn-bedrock-invocation-latency': '1458', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd32b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c82769e73711f01126791
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.91.103 - - [14/Oct/2024 02:31:18] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:80.66.83.114 - - [14/Oct/2024 03:16:56] code 400, message Bad request syntax ('\x04\x01\x00\x19h/\x12√°\x00')
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 03:16:56] "[31m[1m\x04\x01\x00\x19h/\x12√°\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [14/Oct/2024 03:17:56] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 03:17:56] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 03:17:57] "[33mCONNECT hotmail-com.olc.protection.outlook.com:25 HTTP/1.1[0m" 404 -
ERROR:werkzeug:80.66.83.114 - - [14/Oct/2024 03:25:11] code 400, message Bad request syntax ('\x04\x01\x00\x194e√Ç\x01\x00')
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 03:25:11] "[31m[1m\x04\x01\x00\x194e√Ç\x01\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [14/Oct/2024 03:26:11] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 03:26:11] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 03:26:11] "[33mCONNECT hotmail-com.olc.protection.outlook.com:25 HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ddb57403-71e1-426b-afc7-5e2a16464b53', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 03:30:34 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ddb57403-71e1-426b-afc7-5e2a16464b53', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbfd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670c905a9e73711f01126793
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '677cdf85-8168-4901-81f1-fd456887536f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 03:30:36 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '677cdf85-8168-4901-81f1-fd456887536f', 'x-amzn-bedrock-invocation-latency': '1385', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd08b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c905c9e73711f01126794
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.223.230 - - [14/Oct/2024 03:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '513b81df-1f7a-414d-a487-8e19171f438b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 04:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '513b81df-1f7a-414d-a487-8e19171f438b', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670c9e5d9e73711f01126796
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c70376ea-7371-41f4-821e-52f62354dc86', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 04:30:24 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'c70376ea-7371-41f4-821e-52f62354dc86', 'x-amzn-bedrock-invocation-latency': '1397', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670c9e609e73711f01126797
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.91.103 - - [14/Oct/2024 04:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670cac949e73711f01126799
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7899772c-be7a-451d-9287-aa3919422e3f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 05:31:03 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7899772c-be7a-451d-9287-aa3919422e3f', 'x-amzn-bedrock-invocation-latency': '1410', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670cac979e73711f0112679a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.74.84 - - [14/Oct/2024 05:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670cbaa89e73711f0112679c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '55b558fd-7bcf-4a81-adf6-f0f970a72e8c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 06:31:07 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '55b558fd-7bcf-4a81-adf6-f0f970a72e8c', 'x-amzn-bedrock-invocation-latency': '1447', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa830>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670cbaab9e73711f0112679d
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.210.145.137 - - [14/Oct/2024 06:31:07] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:80.66.83.114 - - [14/Oct/2024 06:34:15] code 400, message Bad HTTP/0.9 request type ('\x04\x01\x00PU√é')
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 06:34:15] "[31m[1m\x04\x01\x00PU√é¬†s\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [14/Oct/2024 06:35:15] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 06:35:15] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [14/Oct/2024 06:35:15] "[33mCONNECT 85.206.160.115:80 HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b779d52-ab00-4d87-bb92-8922cc94e69e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 07:30:49 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1b779d52-ab00-4d87-bb92-8922cc94e69e', 'x-amzn-bedrock-invocation-latency': '336', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfac80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670cc8a99e73711f0112679f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '958d9233-90f4-4ba4-9f38-609857fd80b0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 07:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '958d9233-90f4-4ba4-9f38-609857fd80b0', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9630>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670cc8ab9e73711f011267a0
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.82.222 - - [14/Oct/2024 07:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '066f45c1-2a58-4858-841b-46389f776864', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 08:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '066f45c1-2a58-4858-841b-46389f776864', 'x-amzn-bedrock-invocation-latency': '282', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf82e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670cd6b89e73711f011267a2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e7b47be6-7c7e-4cba-af7b-31a8424e70d7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 08:30:51 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e7b47be6-7c7e-4cba-af7b-31a8424e70d7', 'x-amzn-bedrock-invocation-latency': '1329', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a110>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670cd6bb9e73711f011267a3
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.171.150.177 - - [14/Oct/2024 08:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b146df18-a787-42dc-9dd9-8c367cf6baf8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 09:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b146df18-a787-42dc-9dd9-8c367cf6baf8', 'x-amzn-bedrock-invocation-latency': '324', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb4f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670ce49e9e73711f011267a5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '56468063-4dca-46e4-afa4-6d241044b1a5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 09:30:09 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '56468063-4dca-46e4-afa4-6d241044b1a5', 'x-amzn-bedrock-invocation-latency': '1259', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf92a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ce4a19e73711f011267a6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.74.84 - - [14/Oct/2024 09:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670cf2dd9e73711f011267a8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4614b2b4-abe8-45b6-a8b2-879860d1c9d6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 10:30:56 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4614b2b4-abe8-45b6-a8b2-879860d1c9d6', 'x-amzn-bedrock-invocation-latency': '1365', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9930>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670cf2e09e73711f011267a9
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.209.93.200 - - [14/Oct/2024 10:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:35.90.205.157 - - [14/Oct/2024 11:11:26] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a98b32e9-c6c5-4d3f-8888-5723344ff386', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 11:30:04 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a98b32e9-c6c5-4d3f-8888-5723344ff386', 'x-amzn-bedrock-invocation-latency': '274', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf95a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670d00bc9e73711f011267ab
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '56d6279c-f788-49cc-95c8-2708bc55aa60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 11:30:07 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '56d6279c-f788-49cc-95c8-2708bc55aa60', 'x-amzn-bedrock-invocation-latency': '1268', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d00bf9e73711f011267ac
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.91.74.84 - - [14/Oct/2024 11:30:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670d0eed9e73711f011267ae
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '084eafba-f0e0-4098-8aad-155531c6a241', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 12:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '084eafba-f0e0-4098-8aad-155531c6a241', 'x-amzn-bedrock-invocation-latency': '1389', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a3e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d0ef09e73711f011267af
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.216.159 - - [14/Oct/2024 12:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '85dbe19e-8ac4-4d9a-827d-d05e72e6df41', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 13:30:39 GMT', 'content-type': 'application/json', 'content-length': '280', 'connection': 'keep-alive', 'x-amzn-requestid': '85dbe19e-8ac4-4d9a-827d-d05e72e6df41', 'x-amzn-bedrock-invocation-latency': '449', 'x-amzn-bedrock-output-token-count': '38', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\"\n}","prompt_token_count":238,"generation_token_count":38,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?
INFO:__main__:Query stored successfully with ID: 670d1cff9e73711f011267b1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4a250a79-c419-40e3-bd29-f2ef1eb5cdf5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 13:30:44 GMT', 'content-type': 'application/json', 'content-length': '2113', 'connection': 'keep-alive', 'x-amzn-requestid': '4a250a79-c419-40e3-bd29-f2ef1eb5cdf5', 'x-amzn-bedrock-invocation-latency': '3796', 'x-amzn-bedrock-output-token-count': '386', 'x-amzn-bedrock-input-token-count': '1015'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' policies are available on various topics, including risk management, ESOP schemes, and privacy policies. The company has implemented a comprehensive Risk Management Policy (Text Block 2) that provides direction for identifying, assessing, and treating information security risks. The policy extends to all functions and staff of Gemini Solutions. Additionally, the company has a Privacy Policy (Text Block 1 and 5) that outlines its commitment to protecting non-public personal information and employee private data. The policy includes procedures to support privacy objectives and protect data consistent with applicable state and federal regulations. Gemini Solutions also has an Employee Stock Options Plan (ESOP) (Text Block 4) that outlines the terms and conditions of the plan. These policies are available in the company's documents, including the Gemini - Privacy Policy V1.1_India.pdf and Gemini - Risk Management Policy v1.0_India.pdf files.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solution is committed to using a comprehensive and systematic approach to manage risks to confidentiality, access authorization, technical safeguards, regulatory compliance, and loss management.\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - Page No: 3\"\n        },\n        {\n            \"Statement\": \"Gemini Solutions has procedures in place that support privacy objectives and protect non-public personal information and employee private data consistent with applicable state and federal regulations.\",\n            \"source\": \"Gemini - Privacy Policy V1.1_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies, specifically regarding risk management, ESOP schemes, and privacy policies?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1015,"generation_token_count":386,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d1d049e73711f011267b2
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.212.49.18 - - [14/Oct/2024 13:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '23090a16-7f3f-44e1-9fe6-cabafedb267b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 14:30:20 GMT', 'content-type': 'application/json', 'content-length': '236', 'connection': 'keep-alive', 'x-amzn-requestid': '23090a16-7f3f-44e1-9fe6-cabafedb267b', 'x-amzn-bedrock-invocation-latency': '422', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '510'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42290>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What are the company policies and procedures related to employee leaves at Gemini Solutions?\"\n}","prompt_token_count":510,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the company policies and procedures related to employee leaves at Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 670d2afc9e73711f011267b4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dabf9047-986e-45e5-a300-293741ab45df', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 14:30:26 GMT', 'content-type': 'application/json', 'content-length': '1993', 'connection': 'keep-alive', 'x-amzn-requestid': 'dabf9047-986e-45e5-a300-293741ab45df', 'x-amzn-bedrock-invocation-latency': '3976', 'x-amzn-bedrock-output-token-count': '402', 'x-amzn-bedrock-input-token-count': '1134'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79a50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has a leave policy that aims to grant leave to employees and define their entitlements. The policy applies to all employees of Gemini Solutions Pvt. Ltd. Employees are encouraged to discuss and agree on the timings of their leave with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior). The company does not consider Weekends/Public holidays as a leave deduction in case the same falls in employees' leave requests. The policy also outlines different types of leaves, including sick leaves, casual leaves, and emergency leaves. Employees are entitled to 7 days of sick leave on full fixed pay in one leave year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Gemini does not consider Weekends/Public holidays as a leave deduction incase the same falls in employees' leave requests.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What are the company policies and procedures related to employee leaves at Gemini Solutions?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1134,"generation_token_count":402,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d2b029e73711f011267b5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.55.196 - - [14/Oct/2024 14:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '89db2f77-0428-4d81-8de2-c4f4e439be77', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 15:30:13 GMT', 'content-type': 'application/json', 'content-length': '201', 'connection': 'keep-alive', 'x-amzn-requestid': '89db2f77-0428-4d81-8de2-c4f4e439be77', 'x-amzn-bedrock-invocation-latency': '360', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '508'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a403a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What are the types of leaves offered by Gemini Solutions?\"\n}","prompt_token_count":508,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the types of leaves offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 670d39059e73711f011267b7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a1a0473-1050-4f0a-bef2-4f4c0cae7536', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 15:30:16 GMT', 'content-type': 'application/json', 'content-length': '960', 'connection': 'keep-alive', 'x-amzn-requestid': '9a1a0473-1050-4f0a-bef2-4f4c0cae7536', 'x-amzn-bedrock-invocation-latency': '1757', 'x-amzn-bedrock-output-token-count': '180', 'x-amzn-bedrock-input-token-count': '1180'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers various types of leaves to its employees. The company's Employee Stock Options Plan (ESOP) allows employees to receive equity shares and exercise options. Additionally, the company may offer other types of leaves such as annual leaves, sick leaves, and casual leaves, as per the applicable laws and company policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solution embarks on a journey of growth using innovation and new technological advances\",\n            \"source\": \"Gemini - Risk Management Policy v1.0_India.pdf - Page No: 3\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What are the types of leaves offered by Gemini Solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1180,"generation_token_count":180,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d39089e73711f011267b8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.214.143.171 - - [14/Oct/2024 15:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670d475b9e73711f011267ba
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e3d6720f-3812-4080-a4ca-38a955599805', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 16:31:26 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e3d6720f-3812-4080-a4ca-38a955599805', 'x-amzn-bedrock-invocation-latency': '1417', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d475e9e73711f011267bb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.147.254.171 - - [14/Oct/2024 16:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6176c8c9-00de-4e8b-a46d-86a43bd7637f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 17:31:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6176c8c9-00de-4e8b-a46d-86a43bd7637f', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a791b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670d555e9e73711f011267bd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2db68db4-64f9-4e66-b4a3-3c784a5f80fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 17:31:13 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '2db68db4-64f9-4e66-b4a3-3c784a5f80fa', 'x-amzn-bedrock-invocation-latency': '1377', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ae60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d55619e73711f011267be
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.147.254.171 - - [14/Oct/2024 17:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670d64409e73711f011267c0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '87b31960-d791-485c-af89-7beef33ef76b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 18:34:43 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '87b31960-d791-485c-af89-7beef33ef76b', 'x-amzn-bedrock-invocation-latency': '1431', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b2b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d64439e73711f011267c1
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.119.193 - - [14/Oct/2024 18:34:43] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:165.154.173.204 - - [14/Oct/2024 19:15:28] "[33mGET / HTTP/1.1[0m" 404 -
ERROR:werkzeug:165.154.173.204 - - [14/Oct/2024 19:15:30] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:165.154.173.204 - - [14/Oct/2024 19:15:30] "[31m[1m\x16\x03\x01\x00√≤\x01\x00\x00√Æ\x03\x03¬£x¬¥3√æpP\x83\x95√Ω\x04√ü√∞6\x18$5?¬©\x9b¬∂\x8e\x1cE√≤>V\x1c¬∏¬¢\x97I ¬Ω&y\x8f\x0e\x14\x0c√∏\x89√£√°√π¬µ√°\x01\x97\x83\x80√¶k¬ø√±m√õ\x8f√åbt¬¶\x89¬º\x08\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
ERROR:werkzeug:165.154.173.204 - - [14/Oct/2024 19:15:30] code 400, message Bad HTTP/0.9 request type ('t3')
INFO:werkzeug:165.154.173.204 - - [14/Oct/2024 19:15:30] "[31m[1mt3 12.1.2[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '360a9452-bf9a-4b02-88d3-ab009b875a46', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 19:30:46 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '360a9452-bf9a-4b02-88d3-ab009b875a46', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ab60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670d71669e73711f011267c3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8db483ce-cc66-4ef6-b463-1f4d1535527d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 19:30:49 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '8db483ce-cc66-4ef6-b463-1f4d1535527d', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d71699e73711f011267c4
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.119.193 - - [14/Oct/2024 19:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.241 - - [14/Oct/2024 19:51:17] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670d7fb29e73711f011267c6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a8512ff5-6abf-4264-9cdf-c511571592d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 20:31:49 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a8512ff5-6abf-4264-9cdf-c511571592d8', 'x-amzn-bedrock-invocation-latency': '1411', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d7fb59e73711f011267c7
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.84.14 - - [14/Oct/2024 20:31:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4881d32b-0b7b-438e-9338-a4ce5e687906', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 21:31:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4881d32b-0b7b-438e-9338-a4ce5e687906', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7aa70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670d8da39e73711f011267c9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3570b159-470f-43fb-914f-20d08866d46d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 21:31:18 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '3570b159-470f-43fb-914f-20d08866d46d', 'x-amzn-bedrock-invocation-latency': '1273', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a789d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d8da69e73711f011267ca
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.84.14 - - [14/Oct/2024 21:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '12ec9140-b0fc-4238-91cb-80c5a404fdd4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 22:30:56 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '12ec9140-b0fc-4238-91cb-80c5a404fdd4', 'x-amzn-bedrock-invocation-latency': '375', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42e00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670d9ba09e73711f011267cc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aa94675d-987a-4828-84d3-bc5c7a039d1c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 22:30:59 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'aa94675d-987a-4828-84d3-bc5c7a039d1c', 'x-amzn-bedrock-invocation-latency': '1394', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a796f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670d9ba39e73711f011267cd
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.146.214.231 - - [14/Oct/2024 22:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dd000411-bbbe-4b79-97df-131da584191f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 23:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'dd000411-bbbe-4b79-97df-131da584191f', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670da9829e73711f011267cf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7440fee5-0c2a-4287-841d-787afb3f74fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 14 Oct 2024 23:30:12 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7440fee5-0c2a-4287-841d-787afb3f74fa', 'x-amzn-bedrock-invocation-latency': '1384', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9eda0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670da9849e73711f011267d0
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.223.80.130 - - [14/Oct/2024 23:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670db7c59e73711f011267d2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cfdd27ed-5852-4c15-9acc-e5d28685860b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 00:31:04 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'cfdd27ed-5852-4c15-9acc-e5d28685860b', 'x-amzn-bedrock-invocation-latency': '1420', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670db7c89e73711f011267d3
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.90.211 - - [15/Oct/2024 00:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6d551c08-32d0-4a39-bc6c-a1f767498c66', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 01:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6d551c08-32d0-4a39-bc6c-a1f767498c66', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a6e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670dc5af9e73711f011267d5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5df9b98e-11ab-4641-88f3-c4a58a509cce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 01:30:25 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5df9b98e-11ab-4641-88f3-c4a58a509cce', 'x-amzn-bedrock-invocation-latency': '1379', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7baf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670dc5b19e73711f011267d6
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.214.138.48 - - [15/Oct/2024 01:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670dd3cd9e73711f011267d8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5eb7ae26-d008-41f6-b654-2c5e2c47d24a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 02:30:40 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5eb7ae26-d008-41f6-b654-2c5e2c47d24a', 'x-amzn-bedrock-invocation-latency': '1435', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670dd3d09e73711f011267d9
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.141.36 - - [15/Oct/2024 02:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4748be83-d554-46e4-97ad-fd5ec24e9e9f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 03:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4748be83-d554-46e4-97ad-fd5ec24e9e9f', 'x-amzn-bedrock-invocation-latency': '304', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670de1c59e73711f011267db
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1cc4d86-dbee-402f-bf0e-255ba5b4027d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 03:30:15 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1cc4d86-dbee-402f-bf0e-255ba5b4027d', 'x-amzn-bedrock-invocation-latency': '1271', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fa90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670de1c79e73711f011267dc
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.49.215 - - [15/Oct/2024 03:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:152.32.135.81 - - [15/Oct/2024 03:30:49] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:152.32.135.81 - - [15/Oct/2024 03:30:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:werkzeug:152.32.135.81 - - [15/Oct/2024 03:30:49] "[33mGET /robots.txt HTTP/1.1[0m" 404 -
INFO:werkzeug:152.32.135.81 - - [15/Oct/2024 03:30:49] "[33mGET /sitemap.xml HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.156.43 - - [15/Oct/2024 04:02:22] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.156.39 - - [15/Oct/2024 04:02:34] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670df0029e73711f011267de
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '602f26bb-2e95-4984-b1e8-dd8aefb744b9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 04:31:00 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '602f26bb-2e95-4984-b1e8-dd8aefb744b9', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670df0049e73711f011267df
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.49.215 - - [15/Oct/2024 04:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f40b0390-7c02-43b5-b354-a0593d33e17e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 05:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f40b0390-7c02-43b5-b354-a0593d33e17e', 'x-amzn-bedrock-invocation-latency': '364', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670dfde99e73711f011267e1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '95024ba0-bc2a-48f5-ae62-6e02d42d185a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 05:30:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '95024ba0-bc2a-48f5-ae62-6e02d42d185a', 'x-amzn-bedrock-invocation-latency': '1379', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e140>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670dfdec9e73711f011267e2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.43.145 - - [15/Oct/2024 05:30:20] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:45.95.169.130 - - [15/Oct/2024 05:32:54] code 400, message Bad HTTP/0.9 request type ('\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00')
INFO:werkzeug:45.95.169.130 - - [15/Oct/2024 05:32:54] "[31m[1m\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00\x0c\x02\x00\x00\x00\x10MyCustomAssembly\x05\x01\x00\x00\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670e0c299e73711f011267e4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83c6bc19-6d6d-404c-8e9f-b25394b1e07b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 06:31:08 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '83c6bc19-6d6d-404c-8e9f-b25394b1e07b', 'x-amzn-bedrock-invocation-latency': '1278', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f010>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e0c2c9e73711f011267e5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.226.152 - - [15/Oct/2024 06:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.152 - - [15/Oct/2024 06:44:35] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e56c7d12-ecc0-4d99-85da-5514e91477bc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 07:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e56c7d12-ecc0-4d99-85da-5514e91477bc', 'x-amzn-bedrock-invocation-latency': '307', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfba60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670e1a039e73711f011267e7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7fe1bad1-f9e1-47af-9e63-03e36a0fa7ca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 07:30:13 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '7fe1bad1-f9e1-47af-9e63-03e36a0fa7ca', 'x-amzn-bedrock-invocation-latency': '1288', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2fb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e1a059e73711f011267e8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.223.240 - - [15/Oct/2024 07:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670e28639e73711f011267ea
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aa837227-b49e-4795-af8b-0284b68806bd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 08:31:34 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'aa837227-b49e-4795-af8b-0284b68806bd', 'x-amzn-bedrock-invocation-latency': '1353', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1e10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e28669e73711f011267eb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.25.28 - - [15/Oct/2024 08:31:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f6eb118e-d251-46cc-9af2-0aa531a2c2a9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 09:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f6eb118e-d251-46cc-9af2-0aa531a2c2a9', 'x-amzn-bedrock-invocation-latency': '282', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79f90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670e36329e73711f011267ed
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '63e9c415-dd04-4d6b-98c8-e8b06a48cb15', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 09:30:29 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '63e9c415-dd04-4d6b-98c8-e8b06a48cb15', 'x-amzn-bedrock-invocation-latency': '1367', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbfd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e36359e73711f011267ee
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.25.28 - - [15/Oct/2024 09:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670e44759e73711f011267f0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '42d5a94b-17a9-4986-884f-4a67c0dfb8c1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 10:31:20 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '42d5a94b-17a9-4986-884f-4a67c0dfb8c1', 'x-amzn-bedrock-invocation-latency': '1262', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e44789e73711f011267f1
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.247.237 - - [15/Oct/2024 10:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a236786-8cff-46e3-94ba-adb382fcea0e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 11:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3a236786-8cff-46e3-94ba-adb382fcea0e', 'x-amzn-bedrock-invocation-latency': '317', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e06a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670e52459e73711f011267f3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '76faafe7-e8fc-47c1-826b-61acc5a69c27', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 11:30:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '76faafe7-e8fc-47c1-826b-61acc5a69c27', 'x-amzn-bedrock-invocation-latency': '1351', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd06d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e52489e73711f011267f4
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.247.237 - - [15/Oct/2024 11:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670e60889e73711f011267f6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9c8439ad-6c8a-4939-9090-39f4aac54f64', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 12:31:06 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '9c8439ad-6c8a-4939-9090-39f4aac54f64', 'x-amzn-bedrock-invocation-latency': '1456', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e608a9e73711f011267f7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.188.81 - - [15/Oct/2024 12:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5757fb83-2e73-47d2-a4e1-60c0e5cdc7a2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 13:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5757fb83-2e73-47d2-a4e1-60c0e5cdc7a2', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670e6e629e73711f011267f9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5baeab4f-5aab-49be-9458-f62172b34109', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 13:30:12 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5baeab4f-5aab-49be-9458-f62172b34109', 'x-amzn-bedrock-invocation-latency': '1361', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e06a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e6e649e73711f011267fa
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.74.99 - - [15/Oct/2024 13:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670e7cc49e73711f011267fc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4f09f6c3-24d8-488d-8a1d-db145727de65', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 14:31:35 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '4f09f6c3-24d8-488d-8a1d-db145727de65', 'x-amzn-bedrock-invocation-latency': '1325', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e7cc79e73711f011267fd
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.206.170.33 - - [15/Oct/2024 14:31:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b503ed6f-1a86-4931-906b-17ed891617c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 15:30:47 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b503ed6f-1a86-4931-906b-17ed891617c5', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670e8aa79e73711f011267ff
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b9f3d54a-b9eb-4a59-8f1b-025b8005ac02', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 15:30:50 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'b9f3d54a-b9eb-4a59-8f1b-025b8005ac02', 'x-amzn-bedrock-invocation-latency': '1363', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1b40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e8aaa9e73711f01126800
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.208.116 - - [15/Oct/2024 15:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670e98c89e73711f01126802
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '299e5865-6afd-4959-ab89-3894b9119865', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 16:31:07 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '299e5865-6afd-4959-ab89-3894b9119865', 'x-amzn-bedrock-invocation-latency': '1287', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd18a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670e98cb9e73711f01126803
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.221.81 - - [15/Oct/2024 16:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4f2b9f46-15f8-4e6c-85d7-a8172b54e1d8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 17:30:41 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4f2b9f46-15f8-4e6c-85d7-a8172b54e1d8', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670ea6c19e73711f01126805
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '35defc8d-c8c4-4f09-ab46-c47fb12fc264', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 17:30:44 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '35defc8d-c8c4-4f09-ab46-c47fb12fc264', 'x-amzn-bedrock-invocation-latency': '1365', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e2140>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ea6c49e73711f01126806
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.89.186 - - [15/Oct/2024 17:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670eb4d79e73711f01126808
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5279ceff-95c9-4ee5-a871-3bf963bc7243', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 18:30:50 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5279ceff-95c9-4ee5-a871-3bf963bc7243', 'x-amzn-bedrock-invocation-latency': '1406', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670eb4da9e73711f01126809
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.66.29 - - [15/Oct/2024 18:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670ec3019e73711f0112680b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '98ede40b-3300-4856-9176-87989875c272', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 19:31:16 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '98ede40b-3300-4856-9176-87989875c272', 'x-amzn-bedrock-invocation-latency': '1456', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ec3049e73711f0112680c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.220.52 - - [15/Oct/2024 19:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670ed1309e73711f0112680e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '410185a5-2c66-4616-9efb-c043f9d5b73b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 20:31:47 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '410185a5-2c66-4616-9efb-c043f9d5b73b', 'x-amzn-bedrock-invocation-latency': '1421', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd38e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ed1339e73711f0112680f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.89.186 - - [15/Oct/2024 20:31:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd39f7126-2a9c-4a66-b908-669854b356ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 21:30:44 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd39f7126-2a9c-4a66-b908-669854b356ce', 'x-amzn-bedrock-invocation-latency': '374', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670edf049e73711f01126811
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aa61ee33-216b-4291-9cfc-63f151183266', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 21:30:46 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'aa61ee33-216b-4291-9cfc-63f151183266', 'x-amzn-bedrock-invocation-latency': '1387', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd10c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670edf069e73711f01126812
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.152.124.38 - - [15/Oct/2024 21:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd045b8e7-9c88-41e5-9968-428e1e5cb518', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 22:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd045b8e7-9c88-41e5-9968-428e1e5cb518', 'x-amzn-bedrock-invocation-latency': '384', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b4c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670eed109e73711f01126814
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '47441fdb-5276-4da4-9a99-5909777c2bab', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 22:30:43 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '47441fdb-5276-4da4-9a99-5909777c2bab', 'x-amzn-bedrock-invocation-latency': '1369', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1000>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670eed139e73711f01126815
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.228.6.116 - - [15/Oct/2024 22:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670efb299e73711f01126817
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1a718555-f902-48f0-b4bd-f478ef50eca5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 15 Oct 2024 23:30:52 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '1a718555-f902-48f0-b4bd-f478ef50eca5', 'x-amzn-bedrock-invocation-latency': '1452', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670efb2c9e73711f01126818
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.228.6.116 - - [15/Oct/2024 23:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:172.168.41.52 - - [15/Oct/2024 23:56:22] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2a0b4d1a-e391-4c41-985d-f9f0acc7ce4d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 00:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2a0b4d1a-e391-4c41-985d-f9f0acc7ce4d', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a795d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670f091a9e73711f0112681a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a85ca297-9218-40f2-b980-652e5187fb5e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 00:30:21 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a85ca297-9218-40f2-b980-652e5187fb5e', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1a80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f091d9e73711f0112681b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.210.243.197 - - [16/Oct/2024 00:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670f17369e73711f0112681d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5cbd864b-226b-435a-ac53-c4ecd19e5012', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 01:30:32 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '5cbd864b-226b-435a-ac53-c4ecd19e5012', 'x-amzn-bedrock-invocation-latency': '1401', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41e70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f17389e73711f0112681e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.110.61 - - [16/Oct/2024 01:30:32] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:35.203.211.117 - - [16/Oct/2024 02:03:36] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:35.203.211.117 - - [16/Oct/2024 02:03:36] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03√à\x0b,¬©)√∞¬±√¶C\x00\x8d√±\x10\x1cC%√±\x05\x93√ß\x83√•¬≥4,\x97\x1b'j\x1f\x01√± ¬®\x96\x19\x06\x89h√ï√ù√á\x0e(("v\x92G√µ4√®\x05J¬∫¬∫\x8d"w√§|¬ª√Ü4y\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
ERROR:werkzeug:35.203.211.117 - - [16/Oct/2024 02:03:36] code 400, message Bad request version ('√Ä(√Ä$√Ä\x14√Ä')
INFO:werkzeug:35.203.211.117 - - [16/Oct/2024 02:03:36] "[31m[1m\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03\x8a¬∑x\x97v\x8f\x11l√ÇZf√ån√∞ √Ö √ß\x08\x8f√ó8√•\x88√ùS~y&?9\x99\x00\x00h√å\x14√å\x13√Ä/√Ä+√Ä0√Ä,√Ä\x11√Ä\x07√Ä'√Ä#√Ä\x13√Ä\x09√Ä(√Ä$√Ä\x14√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e6966add-b3a5-49ce-a4c1-3872ce5bc370', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 02:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e6966add-b3a5-49ce-a4c1-3872ce5bc370', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670f253b9e73711f01126820
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a09053fb-5d8e-475f-aca8-2001738d86a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 02:30:22 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a09053fb-5d8e-475f-aca8-2001738d86a0', 'x-amzn-bedrock-invocation-latency': '1399', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3010>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f253e9e73711f01126821
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.153.205 - - [16/Oct/2024 02:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670f33629e73711f01126823
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e305620e-1ae8-42b2-98de-204c153c35b8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 03:30:45 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'e305620e-1ae8-42b2-98de-204c153c35b8', 'x-amzn-bedrock-invocation-latency': '1431', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd39d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f33659e73711f01126824
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.205.184.229 - - [16/Oct/2024 03:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '52d4ff41-6a2e-4c98-a514-e3e04138f530', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 04:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '52d4ff41-6a2e-4c98-a514-e3e04138f530', 'x-amzn-bedrock-invocation-latency': '328', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670f416f9e73711f01126826
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '230ac4fe-4579-4cf7-95e6-81de8dd888ca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 04:30:41 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '230ac4fe-4579-4cf7-95e6-81de8dd888ca', 'x-amzn-bedrock-invocation-latency': '1382', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3c10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f41719e73711f01126827
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.218.173 - - [16/Oct/2024 04:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '73d50301-051a-4cab-a4ec-648da56dbc32', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 05:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '73d50301-051a-4cab-a4ec-648da56dbc32', 'x-amzn-bedrock-invocation-latency': '318', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670f4f759e73711f01126829
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a64499c1-c77e-4fab-89e4-96b5678b2e32', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 05:30:32 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': 'a64499c1-c77e-4fab-89e4-96b5678b2e32', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f4f789e73711f0112682a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.205.184.229 - - [16/Oct/2024 05:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4630b3de-c1df-4363-9b33-2ba9fed7381b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 06:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4630b3de-c1df-4363-9b33-2ba9fed7381b', 'x-amzn-bedrock-invocation-latency': '288', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '264'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":264,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670f5d859e73711f0112682c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '851cb665-1bed-49f3-9afa-310d6aecb9b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 06:30:32 GMT', 'content-type': 'application/json', 'content-length': '739', 'connection': 'keep-alive', 'x-amzn-requestid': '851cb665-1bed-49f3-9afa-310d6aecb9b6', 'x-amzn-bedrock-invocation-latency': '1344', 'x-amzn-bedrock-output-token-count': '133', 'x-amzn-bedrock-input-token-count': '1206'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd20b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not provide information on the number of leaves (vacation days) in their policies. The provided documents focus on risk management, ESOP schemes, and privacy policies, but do not mention leaves or vacation policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1206,"generation_token_count":133,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f5d889e73711f0112682d
INFO:__main__:Process completed successfully.
INFO:werkzeug:174.129.190.156 - - [16/Oct/2024 06:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3d525f70-468d-4a54-9c54-23912ef01157', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 07:30:31 GMT', 'content-type': 'application/json', 'content-length': '238', 'connection': 'keep-alive', 'x-amzn-requestid': '3d525f70-468d-4a54-9c54-23912ef01157', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '238'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbfd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\"\n}","prompt_token_count":238,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 670f6b979e73711f0112682f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8ed88b06-1297-4e84-ae38-ceaa11fc7aa0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 07:30:35 GMT', 'content-type': 'application/json', 'content-length': '1573', 'connection': 'keep-alive', 'x-amzn-requestid': '8ed88b06-1297-4e84-ae38-ceaa11fc7aa0', 'x-amzn-bedrock-invocation-latency': '3020', 'x-amzn-bedrock-output-token-count': '307', 'x-amzn-bedrock-input-token-count': '1209'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, the company provides information on leave entitlements, leave types, and procedures for availing leaves. Employees are encouraged to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines rules for availing leaves, including sick leaves, casual leaves, and emergency leaves. Additionally, the policy provides information on leave encashment and overall coordination.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"The policy also outlines rules for availing leaves, including sick leaves, casual leaves, and emergency leaves\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5, 6.1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1209,"generation_token_count":307,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f6b9b9e73711f01126830
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.161.179 - - [16/Oct/2024 07:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.58.97.162 - - [16/Oct/2024 08:10:39] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b8dfe1ab-ba5c-4320-856f-7d771ea7c95f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 08:30:17 GMT', 'content-type': 'application/json', 'content-length': '238', 'connection': 'keep-alive', 'x-amzn-requestid': 'b8dfe1ab-ba5c-4320-856f-7d771ea7c95f', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '420'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\"\n}","prompt_token_count":420,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What information is available on Gemini Solutions' policies regarding leaves or vacation days?
INFO:__main__:Query stored successfully with ID: 670f79999e73711f01126832
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a5e77b7f-36e6-4057-b74b-865b110057a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 08:30:21 GMT', 'content-type': 'application/json', 'content-length': '1603', 'connection': 'keep-alive', 'x-amzn-requestid': 'a5e77b7f-36e6-4057-b74b-865b110057a0', 'x-amzn-bedrock-invocation-latency': '2869', 'x-amzn-bedrock-output-token-count': '309', 'x-amzn-bedrock-input-token-count': '1209'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd19f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, employees are entitled to various types of leaves, including annual leave, sick leave, and emergency leave. The policy encourages employees to discuss and agree on leave timings with their reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave. The policy also outlines rules for availing leaves, including the requirement for a follow-up call and the possibility of leave encashment. Additionally, the policy defines the process for leave encashment and the formula for calculating leave encashment.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        },\n        {\n            \"Statement\": \"The policy defines the process and procedures regarding employee leave entitlements\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What information is available on Gemini Solutions' policies regarding leaves or vacation days?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1209,"generation_token_count":309,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f799d9e73711f01126833
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.174.99.23 - - [16/Oct/2024 08:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670f87b59e73711f01126835
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '94e09369-788c-4b8c-bd08-1660dabd3c37', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 09:30:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '94e09369-788c-4b8c-bd08-1660dabd3c37', 'x-amzn-bedrock-invocation-latency': '1420', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd07c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f87b79e73711f01126836
INFO:__main__:Process completed successfully.
INFO:werkzeug:174.129.190.156 - - [16/Oct/2024 09:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi jinie, how can i avail pluxee benefit?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hi jinie, how can i avail pluxee benefit?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670f90c39e73711f01126838
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5c8892c6-03f6-4b7a-862e-5f1ce6437864', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 10:09:11 GMT', 'content-type': 'application/json', 'content-length': '1085', 'connection': 'keep-alive', 'x-amzn-requestid': '5c8892c6-03f6-4b7a-862e-5f1ce6437864', 'x-amzn-bedrock-invocation-latency': '2953', 'x-amzn-bedrock-output-token-count': '292', 'x-amzn-bedrock-input-token-count': '1180'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd22c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To avail the Pluxee benefit, also known as Sodexo food wallet, you will receive an email from colleagues.connect@gemini.com during the financial year or new hire onboarding. You can opt for it and from your salary INR 2000 will be credited to your Sodexo food wallet every month.\",\n    \"References\": [\n        {\n            \"Statement\": \"To avail the Pluxee benefit, also known as Sodexo food wallet, you will receive an email from colleagues.connect@gemini.com during the financial year or new hire onboarding.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hi jinie, how can i avail pluxee benefit?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1180,"generation_token_count":292,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f90c79e73711f01126839
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [16/Oct/2024 10:09:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi jinie, how can i avail pluxee benefit?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hi jinie, how can i avail pluxee benefit?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c2da03d0-fc63-4a29-8c3c-82c7616215ac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 10:18:13 GMT', 'content-type': 'application/json', 'content-length': '186', 'connection': 'keep-alive', 'x-amzn-requestid': 'c2da03d0-fc63-4a29-8c3c-82c7616215ac', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '336'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"hi jinie, how can i avail pluxee benefit?\"\n}","prompt_token_count":336,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: hi jinie, how can i avail pluxee benefit?
INFO:__main__:Query stored successfully with ID: 670f92e59e73711f0112683b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7696aea7-101d-4b86-b75a-95198e11aadc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 10:18:18 GMT', 'content-type': 'application/json', 'content-length': '1496', 'connection': 'keep-alive', 'x-amzn-requestid': '7696aea7-101d-4b86-b75a-95198e11aadc', 'x-amzn-bedrock-invocation-latency': '3741', 'x-amzn-bedrock-output-token-count': '377', 'x-amzn-bedrock-input-token-count': '1184'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To avail the Pluxee benefit, also known as Sodexo food wallet, you will receive an email from colleagues.connect@geminisolutions.com during the beginning of the financial year or new hire onboarding. You can opt for it and from your salary INR 2000 will be credited to your Sodexo food wallet every month. Additionally, you can claim your tax benefit as per the prevailing Income Tax rules, and the production of requisite documents.\",\n    \"References\": [\n        {\n            \"Statement\": \"To avail the Pluxee benefit, also known as Sodexo food wallet, you will receive an email from colleagues.connect@geminisolutions.com during the beginning of  financial year or new hire onboarding.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 1\"\n        },\n        {\n            \"Statement\": \"You can opt for it and from your salary INR 2000 will be credited to your Sodexo food wallet every month.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hi jinie, how can i avail pluxee benefit?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1184,"generation_token_count":377,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f92ea9e73711f0112683c
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.216.157 - - [16/Oct/2024 10:18:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '316bca72-f9bb-4306-bd2a-7e189c94d788', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 10:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '316bca72-f9bb-4306-bd2a-7e189c94d788', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670f95be9e73711f0112683e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '34d0a2be-2219-432e-b8d6-38f0dbffb451', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 10:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '34d0a2be-2219-432e-b8d6-38f0dbffb451', 'x-amzn-bedrock-invocation-latency': '1431', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a18340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670f95c19e73711f0112683f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.174.99.23 - - [16/Oct/2024 10:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670fa3e39e73711f01126841
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c17727ca-63d1-4bd7-afd9-7b49f0fb4389', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 11:30:46 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c17727ca-63d1-4bd7-afd9-7b49f0fb4389', 'x-amzn-bedrock-invocation-latency': '1418', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670fa3e69e73711f01126842
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.69.127 - - [16/Oct/2024 11:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:87.236.176.131 - - [16/Oct/2024 11:48:29] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1c9e852c-b8bd-4cc0-b432-b7e5b09b9b48', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 12:30:44 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '1c9e852c-b8bd-4cc0-b432-b7e5b09b9b48', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 670fb1f49e73711f01126844
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a8744eaf-d577-4ee4-b433-e18960446b49', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 12:30:47 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'a8744eaf-d577-4ee4-b433-e18960446b49', 'x-amzn-bedrock-invocation-latency': '1335', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670fb1f79e73711f01126845
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.161.179 - - [16/Oct/2024 12:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1406c171-3405-4cfd-9db9-1d11983a1c94', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 13:30:41 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '1406c171-3405-4cfd-9db9-1d11983a1c94', 'x-amzn-bedrock-invocation-latency': '283', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 670fc0019e73711f01126847
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eb0f4a6a-e558-44dd-aa9e-baa0e961bfb4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 13:30:44 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'eb0f4a6a-e558-44dd-aa9e-baa0e961bfb4', 'x-amzn-bedrock-invocation-latency': '1408', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1db0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670fc0049e73711f01126848
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.228.67 - - [16/Oct/2024 13:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670fce2f9e73711f0112684a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd3adf15e-2e71-44ef-b3a1-409b335609fe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 14:31:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd3adf15e-2e71-44ef-b3a1-409b335609fe', 'x-amzn-bedrock-invocation-latency': '1486', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a340a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670fce329e73711f0112684b
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.203.238.76 - - [16/Oct/2024 14:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ad9e5f7a-7505-4094-9ad7-8ea2e53b67aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 15:31:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ad9e5f7a-7505-4094-9ad7-8ea2e53b67aa', 'x-amzn-bedrock-invocation-latency': '303', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41c30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670fdc3b9e73711f0112684d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f756e89c-86c8-45e2-b4b9-a3fa0d591d6f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 15:31:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f756e89c-86c8-45e2-b4b9-a3fa0d591d6f', 'x-amzn-bedrock-invocation-latency': '1341', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3f40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670fdc3e9e73711f0112684e
INFO:__main__:Process completed successfully.
INFO:werkzeug:23.20.44.10 - - [16/Oct/2024 15:31:10] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:64.23.139.150 - - [16/Oct/2024 16:20:57] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03u√ç√ü3\x95#¬™o\x0f¬æ$0Y*\x15\x1b√î\x93M√ß|7√ä¬ØU@%U√®9E¬Æ\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä')
INFO:werkzeug:64.23.139.150 - - [16/Oct/2024 16:20:57] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03u√ç√ü3\x95#¬™o\x0f¬æ$0Y*\x15\x1b√î\x93M√ß|7√ä¬ØU@%U√®9E¬Æ\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:64.23.139.150 - - [16/Oct/2024 16:20:57] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:64.23.139.150 - - [16/Oct/2024 16:20:57] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03c¬ºf√ß\x17√¶6w\\F\x1b√≤S\x84\x8e¬§√∏\x0c¬´</¬ª√ç√ßvV√Ç\x06¬©\x02¬æ\x1c\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:64.23.139.150 - - [16/Oct/2024 16:20:58] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04ed67fa-a133-456d-bf7e-b011c2afaa36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 16:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '04ed67fa-a133-456d-bf7e-b011c2afaa36', 'x-amzn-bedrock-invocation-latency': '306', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79c00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 670fea239e73711f01126850
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '95dfa23d-5555-4308-a46d-b9322b318141', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 16:30:30 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '95dfa23d-5555-4308-a46d-b9322b318141', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670fea269e73711f01126851
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.142.227 - - [16/Oct/2024 16:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 670ff8469e73711f01126853
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3e751d22-3d52-4e92-8091-5b88dffd59b2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 17:30:49 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3e751d22-3d52-4e92-8091-5b88dffd59b2', 'x-amzn-bedrock-invocation-latency': '1483', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 670ff8499e73711f01126854
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.142.227 - - [16/Oct/2024 17:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671006ae9e73711f01126856
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1ef85459-ee85-4218-958a-532b6929a307', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 18:32:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1ef85459-ee85-4218-958a-532b6929a307', 'x-amzn-bedrock-invocation-latency': '1473', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a34220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671006b09e73711f01126857
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.175.247.180 - - [16/Oct/2024 18:32:16] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:188.166.87.67 - - [16/Oct/2024 19:14:19] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7a5f2d37-9024-4001-95cf-33521abc0a21', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 19:30:44 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7a5f2d37-9024-4001-95cf-33521abc0a21', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671014649e73711f01126859
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ac6c7c07-2cfe-4855-aac1-a85f944fc5b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 19:30:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ac6c7c07-2cfe-4855-aac1-a85f944fc5b6', 'x-amzn-bedrock-invocation-latency': '1428', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42b00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671014679e73711f0112685a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.237.95 - - [16/Oct/2024 19:30:47] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:85.209.11.234 - - [16/Oct/2024 20:19:54] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*√†\x00\x00\x00\x00\x00Cookie:')
INFO:werkzeug:85.209.11.234 - - [16/Oct/2024 20:19:54] "[31m[1m\x03\x00\x00/*√†\x00\x00\x00\x00\x00Cookie: mstshash=Administr[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6710228e9e73711f0112685c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c110f1e-f457-4498-ada8-753e9b448ccb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 20:31:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6c110f1e-f457-4498-ada8-753e9b448ccb', 'x-amzn-bedrock-invocation-latency': '1417', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41210>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671022919e73711f0112685d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.190.228 - - [16/Oct/2024 20:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '52d4c469-a634-46ba-b1c6-ceb019f349b8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 21:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '52d4c469-a634-46ba-b1c6-ceb019f349b8', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9570>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6710306c9e73711f0112685f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '658f0626-ecfd-4608-aa08-53824961ecba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 21:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '658f0626-ecfd-4608-aa08-53824961ecba', 'x-amzn-bedrock-invocation-latency': '1451', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a347c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710306e9e73711f01126860
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.202.117 - - [16/Oct/2024 21:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67103ea19e73711f01126862
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4600789c-c2bb-4624-9de1-23f8442a74f4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 22:31:00 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4600789c-c2bb-4624-9de1-23f8442a74f4', 'x-amzn-bedrock-invocation-latency': '1499', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a34b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67103ea49e73711f01126863
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.59.73 - - [16/Oct/2024 22:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '745cff0b-d363-4f40-a8ea-263fd6837108', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 23:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '745cff0b-d363-4f40-a8ea-263fd6837108', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67104ca09e73711f01126865
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6469256b-d2ea-4c43-9f7f-564bdfa483ea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 16 Oct 2024 23:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6469256b-d2ea-4c43-9f7f-564bdfa483ea', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67104ca39e73711f01126866
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.23.251.123 - - [16/Oct/2024 23:30:43] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [16/Oct/2024 23:56:29] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [16/Oct/2024 23:56:29] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67105acd9e73711f01126868
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fc9116c0-76b9-4413-b3e8-57b152f61ad6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 00:31:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fc9116c0-76b9-4413-b3e8-57b152f61ad6', 'x-amzn-bedrock-invocation-latency': '1423', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a435b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67105ad09e73711f01126869
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.136.80 - - [17/Oct/2024 00:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:154.212.141.158 - - [17/Oct/2024 01:11:08] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a43bc13d-4496-49d5-b38d-5b464e8ec36a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 01:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a43bc13d-4496-49d5-b38d-5b464e8ec36a', 'x-amzn-bedrock-invocation-latency': '329', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671068c89e73711f0112686b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2053da3a-c821-4140-9203-b51ed4da53c8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 01:30:50 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2053da3a-c821-4140-9203-b51ed4da53c8', 'x-amzn-bedrock-invocation-latency': '1444', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525f90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671068ca9e73711f0112686c
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.136.80 - - [17/Oct/2024 01:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671077149e73711f0112686e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '17a9d22f-485e-46e7-a342-1c06dd4ae0ac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 02:31:51 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '17a9d22f-485e-46e7-a342-1c06dd4ae0ac', 'x-amzn-bedrock-invocation-latency': '1505', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ff10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671077179e73711f0112686f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.97.145 - - [17/Oct/2024 02:31:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1d16ae83-4790-436d-8990-fd7d01f97e08', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 03:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1d16ae83-4790-436d-8990-fd7d01f97e08', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671084cf9e73711f01126871
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6a7008a7-17c9-4191-a1a4-c2a30e772ec3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 03:30:26 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6a7008a7-17c9-4191-a1a4-c2a30e772ec3', 'x-amzn-bedrock-invocation-latency': '1358', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd10c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671084d29e73711f01126872
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.136.80 - - [17/Oct/2024 03:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671092fc9e73711f01126874
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2082b527-bda6-4761-991a-936bac65be36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 04:30:55 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2082b527-bda6-4761-991a-936bac65be36', 'x-amzn-bedrock-invocation-latency': '1450', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671092ff9e73711f01126875
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.47.110 - - [17/Oct/2024 04:30:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '98f3704c-4e3c-4e5f-8401-d9bfc829f998', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 05:30:44 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '98f3704c-4e3c-4e5f-8401-d9bfc829f998', 'x-amzn-bedrock-invocation-latency': '295', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a405b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6710a1049e73711f01126877
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9bf90df1-c20c-4556-bb08-04c3f4083926', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 05:30:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9bf90df1-c20c-4556-bb08-04c3f4083926', 'x-amzn-bedrock-invocation-latency': '1339', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f5b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710a1079e73711f01126878
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.128.3 - - [17/Oct/2024 05:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd95dc982-17f5-4ad3-9737-86fd234fb944', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 06:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd95dc982-17f5-4ad3-9737-86fd234fb944', 'x-amzn-bedrock-invocation-latency': '288', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a430a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6710aef79e73711f0112687a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '86717a7f-8cf9-4fce-a110-774d7e010f64', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 06:30:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '86717a7f-8cf9-4fce-a110-774d7e010f64', 'x-amzn-bedrock-invocation-latency': '1409', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710aefa9e73711f0112687b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.94.80.140 - - [17/Oct/2024 06:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6710bd0f9e73711f0112687d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '73acf342-b74b-4381-b07b-b07fd9509545', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 07:30:26 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '73acf342-b74b-4381-b07b-b07fd9509545', 'x-amzn-bedrock-invocation-latency': '1421', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e06a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710bd129e73711f0112687e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.47.110 - - [17/Oct/2024 07:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6710cb399e73711f01126880
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7e986e8c-4232-44c5-9d82-5970a0c47040', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 08:30:51 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7e986e8c-4232-44c5-9d82-5970a0c47040', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ed40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710cb3b9e73711f01126881
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.89.131.58 - - [17/Oct/2024 08:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.139 - - [17/Oct/2024 08:40:45] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6710d9639e73711f01126883
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '78a1dc20-f2aa-45a7-ad7d-d59ba688718f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 09:31:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '78a1dc20-f2aa-45a7-ad7d-d59ba688718f', 'x-amzn-bedrock-invocation-latency': '1458', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e440>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710d9669e73711f01126884
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.199.176 - - [17/Oct/2024 09:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7bb62fbf-50b0-453a-b42e-19a042bb17ee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 10:31:00 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7bb62fbf-50b0-453a-b42e-19a042bb17ee', 'x-amzn-bedrock-invocation-latency': '288', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6710e7649e73711f01126886
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '89568e4e-7090-4e1e-901f-d2e96c2533e5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 10:31:03 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '89568e4e-7090-4e1e-901f-d2e96c2533e5', 'x-amzn-bedrock-invocation-latency': '1422', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79690>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710e7679e73711f01126887
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.189.235 - - [17/Oct/2024 10:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7c94b1c5-3c09-4ae4-ad37-d7b6381c2420', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 11:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7c94b1c5-3c09-4ae4-ad37-d7b6381c2420', 'x-amzn-bedrock-invocation-latency': '296', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e4a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6710f54b9e73711f01126889
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2efde9e0-5ae3-4c0e-b3d7-a4e9aeb602a3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 11:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2efde9e0-5ae3-4c0e-b3d7-a4e9aeb602a3', 'x-amzn-bedrock-invocation-latency': '1414', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6710f54e9e73711f0112688a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.227.54.111 - - [17/Oct/2024 11:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671103679e73711f0112688c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '191f7ff0-a5cc-4b2e-9ae4-036e02d6f877', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 12:30:34 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '191f7ff0-a5cc-4b2e-9ae4-036e02d6f877', 'x-amzn-bedrock-invocation-latency': '1433', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f2e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711036a9e73711f0112688d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.140.92 - - [17/Oct/2024 12:30:34] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:85.209.11.234 - - [17/Oct/2024 12:40:11] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*√†\x00\x00\x00\x00\x00Cookie:')
INFO:werkzeug:85.209.11.234 - - [17/Oct/2024 12:40:11] "[31m[1m\x03\x00\x00/*√†\x00\x00\x00\x00\x00Cookie: mstshash=Administr[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6711119b9e73711f0112688f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4ee5c9ea-5041-43e1-8488-d5562933a5de', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 13:31:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4ee5c9ea-5041-43e1-8488-d5562933a5de', 'x-amzn-bedrock-invocation-latency': '1453', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79240>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711119e9e73711f01126890
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.227.54.111 - - [17/Oct/2024 13:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2d6d7e56-9f80-4339-99ea-9b092eff72b2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 14:31:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2d6d7e56-9f80-4339-99ea-9b092eff72b2', 'x-amzn-bedrock-invocation-latency': '307', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e4a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67111fab9e73711f01126892
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f188577a-9557-4299-b8d9-126b8eac366e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 14:31:09 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f188577a-9557-4299-b8d9-126b8eac366e', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67111fad9e73711f01126893
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.227.54.111 - - [17/Oct/2024 14:31:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c873b09d-eb2c-41bc-979f-a61e0a53d84b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 15:30:53 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c873b09d-eb2c-41bc-979f-a61e0a53d84b', 'x-amzn-bedrock-invocation-latency': '313', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ba60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67112dad9e73711f01126895
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8741380b-d81b-424d-8b3b-8f947cf8ce8d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 15:30:56 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8741380b-d81b-424d-8b3b-8f947cf8ce8d', 'x-amzn-bedrock-invocation-latency': '1456', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67112db09e73711f01126896
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.178.188 - - [17/Oct/2024 15:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67113bc39e73711f01126898
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '56f94f45-4362-46ca-bf63-dad19864ae0f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 16:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '56f94f45-4362-46ca-bf63-dad19864ae0f', 'x-amzn-bedrock-invocation-latency': '1354', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7aaa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67113bc69e73711f01126899
INFO:__main__:Process completed successfully.
INFO:werkzeug:50.16.176.157 - - [17/Oct/2024 16:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c50e41b0-c692-45a2-9f98-5f94f81bb1c3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 17:30:42 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c50e41b0-c692-45a2-9f98-5f94f81bb1c3', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41150>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671149c29e73711f0112689b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e9ccb010-a9e8-4a99-a1d7-6ae8a02500f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 17:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e9ccb010-a9e8-4a99-a1d7-6ae8a02500f2', 'x-amzn-bedrock-invocation-latency': '1341', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78b80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671149c59e73711f0112689c
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.207.195.43 - - [17/Oct/2024 17:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671159419e73711f0112689e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f1486ece-bdf4-4ef1-bf7b-8391c8975eca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 18:36:52 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f1486ece-bdf4-4ef1-bf7b-8391c8975eca', 'x-amzn-bedrock-invocation-latency': '1391', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671159449e73711f0112689f
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.21.185.39 - - [17/Oct/2024 18:36:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2a9ad961-fa79-4585-941b-79d7cc0874b5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 19:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2a9ad961-fa79-4585-941b-79d7cc0874b5', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79750>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671165d69e73711f011268a1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b22e5dff-4673-41c3-9082-ccfa03e0fd06', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 19:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b22e5dff-4673-41c3-9082-ccfa03e0fd06', 'x-amzn-bedrock-invocation-latency': '1328', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671165d89e73711f011268a2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.111.71 - - [17/Oct/2024 19:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671173e99e73711f011268a4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd0fb669c-255d-4f63-ad05-d4e40ca7a25a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 20:30:36 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd0fb669c-255d-4f63-ad05-d4e40ca7a25a', 'x-amzn-bedrock-invocation-latency': '1516', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79630>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671173ec9e73711f011268a5
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.73.246 - - [17/Oct/2024 20:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '169758ca-dd34-415c-9048-463673303a4c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 21:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '169758ca-dd34-415c-9048-463673303a4c', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671181de9e73711f011268a7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3c82736a-8150-4c40-8372-0daa41e25269', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 21:30:09 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3c82736a-8150-4c40-8372-0daa41e25269', 'x-amzn-bedrock-invocation-latency': '1439', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b8b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671181e19e73711f011268a8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.80.12 - - [17/Oct/2024 21:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.135 - - [17/Oct/2024 21:56:14] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671190049e73711f011268aa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '31e23873-5c56-49c1-b248-c0aba63733ee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 22:30:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '31e23873-5c56-49c1-b248-c0aba63733ee', 'x-amzn-bedrock-invocation-latency': '1473', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79060>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671190079e73711f011268ab
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.128.252 - - [17/Oct/2024 22:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67119e399e73711f011268ad
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3c0dea2f-c684-4dc7-b9ca-c72e02255473', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 17 Oct 2024 23:31:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3c0dea2f-c684-4dc7-b9ca-c72e02255473', 'x-amzn-bedrock-invocation-latency': '1453', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67119e3c9e73711f011268ae
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.80.12 - - [17/Oct/2024 23:31:08] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:134.209.178.181 - - [17/Oct/2024 23:37:39] code 400, message Bad request syntax ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x17¬¢\x02*')
INFO:werkzeug:134.209.178.181 - - [17/Oct/2024 23:37:39] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x17¬¢\x02*[0m" 400 -
ERROR:werkzeug:134.209.178.181 - - [17/Oct/2024 23:37:39] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:134.209.178.181 - - [17/Oct/2024 23:37:39] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x98√Ω√Å!d\x9a?√µ\x9e√®¬•\x1b√≥√é\x08\x97√ó¬≠6√ë√æ\x04\x9c√ø\x82H\x82\x941\x16{¬†\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:134.209.178.181 - - [17/Oct/2024 23:37:39] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '502b9fde-accc-44e6-b187-61d1a915bbbc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 00:31:00 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '502b9fde-accc-44e6-b187-61d1a915bbbc', 'x-amzn-bedrock-invocation-latency': '339', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6711ac449e73711f011268b0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd4a2dcde-8b7f-4a4a-a5bc-5f1e7043c761', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 00:31:03 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd4a2dcde-8b7f-4a4a-a5bc-5f1e7043c761', 'x-amzn-bedrock-invocation-latency': '1402', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ae60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711ac479e73711f011268b1
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.186.45 - - [18/Oct/2024 00:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6711ba5b9e73711f011268b3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f08c84c3-cf82-4dfc-95d4-ee1ac7a71610', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 01:31:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f08c84c3-cf82-4dfc-95d4-ee1ac7a71610', 'x-amzn-bedrock-invocation-latency': '1424', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a8f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711ba5e9e73711f011268b4
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.213.248.189 - - [18/Oct/2024 01:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83bbb7f2-25f0-4a74-87f5-633241f1c8a8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 02:30:38 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '83bbb7f2-25f0-4a74-87f5-633241f1c8a8', 'x-amzn-bedrock-invocation-latency': '335', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6711c84e9e73711f011268b6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b66eb74f-d133-4923-b193-c76b21436eae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 02:30:41 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b66eb74f-d133-4923-b193-c76b21436eae', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfae00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711c8519e73711f011268b7
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.177.95 - - [18/Oct/2024 02:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c7c44969-fd9d-4500-91f0-1112bcc6c6fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 03:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c7c44969-fd9d-4500-91f0-1112bcc6c6fa', 'x-amzn-bedrock-invocation-latency': '324', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a799f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6711d64a9e73711f011268b9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '965dcda9-1ac7-42d5-8388-5ad622b58b1c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 03:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '965dcda9-1ac7-42d5-8388-5ad622b58b1c', 'x-amzn-bedrock-invocation-latency': '1454', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711d64d9e73711f011268ba
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.209.227.67 - - [18/Oct/2024 03:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6711e4869e73711f011268bc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bf6bf7cf-d392-4f25-8334-2037de255c60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 04:31:05 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bf6bf7cf-d392-4f25-8334-2037de255c60', 'x-amzn-bedrock-invocation-latency': '1529', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a1a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711e4899e73711f011268bd
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.88.109.220 - - [18/Oct/2024 04:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bc7e9de0-e78b-4df1-aa41-1cf84e67cc32', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 05:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bc7e9de0-e78b-4df1-aa41-1cf84e67cc32', 'x-amzn-bedrock-invocation-latency': '268', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a440>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6711f2639e73711f011268bf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c8a97e3b-8ac1-4fb2-a71e-37a2ba1ee99c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 05:30:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c8a97e3b-8ac1-4fb2-a71e-37a2ba1ee99c', 'x-amzn-bedrock-invocation-latency': '1448', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9030>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6711f2669e73711f011268c0
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.88.109.220 - - [18/Oct/2024 05:30:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671200a19e73711f011268c2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6eefc6c6-c45c-4368-b4ae-864ae7829721', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 06:31:00 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6eefc6c6-c45c-4368-b4ae-864ae7829721', 'x-amzn-bedrock-invocation-latency': '1362', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa470>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671200a49e73711f011268c3
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.167.230.103 - - [18/Oct/2024 06:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67120ebf9e73711f011268c5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '85e0c868-9d91-47bc-b2fe-0daad4fcd55f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 07:31:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '85e0c868-9d91-47bc-b2fe-0daad4fcd55f', 'x-amzn-bedrock-invocation-latency': '1453', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67120ec29e73711f011268c6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.57.170 - - [18/Oct/2024 07:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.84.89.2 - - [18/Oct/2024 08:12:56] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aca8eac3-83a6-444c-9720-c6fa08e2678f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 08:30:53 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'aca8eac3-83a6-444c-9720-c6fa08e2678f', 'x-amzn-bedrock-invocation-latency': '296', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e290>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67121cbd9e73711f011268c8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'acd4efb0-7d23-4a76-9aeb-a89a9304f4c8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 08:30:56 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'acd4efb0-7d23-4a76-9aeb-a89a9304f4c8', 'x-amzn-bedrock-invocation-latency': '1421', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb8e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67121cc09e73711f011268c9
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.54.164 - - [18/Oct/2024 08:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4db00dc7-4d72-4d03-b398-784c47358878', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 09:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4db00dc7-4d72-4d03-b398-784c47358878', 'x-amzn-bedrock-invocation-latency': '294', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67122abd9e73711f011268cb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '292150bc-c763-4e9f-a648-4588c8c231bc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 09:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '292150bc-c763-4e9f-a648-4588c8c231bc', 'x-amzn-bedrock-invocation-latency': '1432', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67122ac09e73711f011268cc
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.185.226 - - [18/Oct/2024 09:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '60ec44cc-a275-4561-8e25-b65ef4f20e4f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 10:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '60ec44cc-a275-4561-8e25-b65ef4f20e4f', 'x-amzn-bedrock-invocation-latency': '278', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a790f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671238af9e73711f011268ce
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a8bb7985-d625-4a74-b59f-9578d5e834ae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 10:30:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a8bb7985-d625-4a74-b59f-9578d5e834ae', 'x-amzn-bedrock-invocation-latency': '1329', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf93f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671238b29e73711f011268cf
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.132.223 - - [18/Oct/2024 10:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6712471b9e73711f011268d1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '212ad222-6d82-4851-bb94-b42978da5e78', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 11:31:42 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '212ad222-6d82-4851-bb94-b42978da5e78', 'x-amzn-bedrock-invocation-latency': '1398', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa860>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712471e9e73711f011268d2
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.164.55.140 - - [18/Oct/2024 11:31:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aa5b32b2-97c4-4294-9d61-2de695783599', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 12:31:03 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'aa5b32b2-97c4-4294-9d61-2de695783599', 'x-amzn-bedrock-invocation-latency': '330', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b2b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671255079e73711f011268d4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eeab1cd3-af4c-40ee-b2e7-b213bffe7960', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 12:31:06 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'eeab1cd3-af4c-40ee-b2e7-b213bffe7960', 'x-amzn-bedrock-invocation-latency': '1407', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa020>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712550a9e73711f011268d5
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.213.248.189 - - [18/Oct/2024 12:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6712631d9e73711f011268d7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e4a031aa-ade8-4886-ad30-7148f435af9d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 13:31:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e4a031aa-ade8-4886-ad30-7148f435af9d', 'x-amzn-bedrock-invocation-latency': '1466', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671263209e73711f011268d8
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.165.91 - - [18/Oct/2024 13:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671271399e73711f011268da
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a39d6805-da02-4f8b-9a24-e6d3d79b461e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 14:31:24 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a39d6805-da02-4f8b-9a24-e6d3d79b461e', 'x-amzn-bedrock-invocation-latency': '1424', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfabc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712713c9e73711f011268db
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.226.241.124 - - [18/Oct/2024 14:31:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3b09568-7685-4549-8b17-ff46beef059f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 15:31:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3b09568-7685-4549-8b17-ff46beef059f', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9150>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67127f3d9e73711f011268dd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '93504a1f-068d-4004-be8a-ed55b68bb34d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 15:31:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '93504a1f-068d-4004-be8a-ed55b68bb34d', 'x-amzn-bedrock-invocation-latency': '1420', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67127f409e73711f011268de
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.73.138.2 - - [18/Oct/2024 15:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e0ca5b92-4091-4952-b04d-b6fe347591db', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 16:30:34 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e0ca5b92-4091-4952-b04d-b6fe347591db', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67128d2a9e73711f011268e0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '79cde2d5-959b-4e52-aa07-0bf0ae4d040e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 16:30:37 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '79cde2d5-959b-4e52-aa07-0bf0ae4d040e', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9c00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67128d2d9e73711f011268e1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.67.60 - - [18/Oct/2024 16:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67129b569e73711f011268e3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1565ad36-f699-4e1b-85b7-6fa3cc56b3a9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 17:31:05 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1565ad36-f699-4e1b-85b7-6fa3cc56b3a9', 'x-amzn-bedrock-invocation-latency': '1391', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67129b599e73711f011268e4
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.113.100 - - [18/Oct/2024 17:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '93685ff1-f622-45de-89ce-7b300de55c28', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 18:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '93685ff1-f622-45de-89ce-7b300de55c28', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6712a92f9e73711f011268e6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '35d9270f-6804-472e-94d5-e4e4bd4a6c60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 18:30:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '35d9270f-6804-472e-94d5-e4e4bd4a6c60', 'x-amzn-bedrock-invocation-latency': '1446', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a34eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712a9329e73711f011268e7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.227.241.100 - - [18/Oct/2024 18:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e4e5a7e4-eac8-4539-b24a-e65bcb860e78', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 19:30:10 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'e4e5a7e4-eac8-4539-b24a-e65bcb860e78', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9090>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6712b7429e73711f011268e9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1cabf34b-501d-4a0f-8c0e-3ba0e2f5685f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 19:30:12 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '1cabf34b-501d-4a0f-8c0e-3ba0e2f5685f', 'x-amzn-bedrock-invocation-latency': '1452', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712b7449e73711f011268ea
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.208.86.113 - - [18/Oct/2024 19:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd22b6c37-baf0-42ea-ae02-d85fc907fc2b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 20:30:09 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'd22b6c37-baf0-42ea-ae02-d85fc907fc2b', 'x-amzn-bedrock-invocation-latency': '364', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e2f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6712c5519e73711f011268ec
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c4a83bb3-9fa5-4006-a01a-92a04ba4f93f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 20:30:12 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'c4a83bb3-9fa5-4006-a01a-92a04ba4f93f', 'x-amzn-bedrock-invocation-latency': '1422', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8a60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712c5549e73711f011268ed
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.208.53 - - [18/Oct/2024 20:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6712d37e9e73711f011268ef
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7298bd7b-02cc-488d-88d7-bef240bbe110', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 21:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7298bd7b-02cc-488d-88d7-bef240bbe110', 'x-amzn-bedrock-invocation-latency': '1360', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a342b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712d3809e73711f011268f0
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.73.56.130 - - [18/Oct/2024 21:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6712e1a39e73711f011268f2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2efde0d2-d2b2-4d80-a9bb-1f0afe7f112f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 22:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2efde0d2-d2b2-4d80-a9bb-1f0afe7f112f', 'x-amzn-bedrock-invocation-latency': '1397', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a347f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712e1a69e73711f011268f3
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.229.211.3 - - [18/Oct/2024 22:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2793df2c-5960-4823-8369-39f74a651dd7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 23:30:59 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2793df2c-5960-4823-8369-39f74a651dd7', 'x-amzn-bedrock-invocation-latency': '305', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6712efb39e73711f011268f5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3e6b9795-9975-4c96-9614-f0937e367d8e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 18 Oct 2024 23:31:01 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3e6b9795-9975-4c96-9614-f0937e367d8e', 'x-amzn-bedrock-invocation-latency': '1468', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f010>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712efb59e73711f011268f6
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.229.211.3 - - [18/Oct/2024 23:31:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2185ce36-6cd4-46ed-89e0-62f14bcb2a5a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 00:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '2185ce36-6cd4-46ed-89e0-62f14bcb2a5a', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ff10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6712fd979e73711f011268f8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92c3f2a0-28f9-4124-9c07-64eac213db42', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 00:30:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '92c3f2a0-28f9-4124-9c07-64eac213db42', 'x-amzn-bedrock-invocation-latency': '1450', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd33a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6712fd9a9e73711f011268f9
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.229.229.235 - - [19/Oct/2024 00:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67130bd09e73711f011268fb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '22768e53-a647-4746-9f30-d60b951c381f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 01:30:59 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '22768e53-a647-4746-9f30-d60b951c381f', 'x-amzn-bedrock-invocation-latency': '1393', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1c60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67130bd39e73711f011268fc
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.58.235 - - [19/Oct/2024 01:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06946c7f-53bc-4b2d-a948-2e838f6ee89f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 02:30:47 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '06946c7f-53bc-4b2d-a948-2e838f6ee89f', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9eef0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671319d79e73711f011268fe
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bddf5b8a-2927-4142-8b85-749274d0d9dc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 02:30:50 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bddf5b8a-2927-4142-8b85-749274d0d9dc', 'x-amzn-bedrock-invocation-latency': '1466', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd04c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671319da9e73711f011268ff
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.150.60 - - [19/Oct/2024 02:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671327fc9e73711f01126901
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f9c993b4-9f17-44f4-ae66-60d21b3174aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 03:31:11 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f9c993b4-9f17-44f4-ae66-60d21b3174aa', 'x-amzn-bedrock-invocation-latency': '1480', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9b40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671327ff9e73711f01126902
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.200.251.200 - - [19/Oct/2024 03:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.117 - - [19/Oct/2024 03:35:44] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3f5158dd-1683-48de-bbf1-dabbac08eb67', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 04:31:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3f5158dd-1683-48de-bbf1-dabbac08eb67', 'x-amzn-bedrock-invocation-latency': '377', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa110>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671336099e73711f01126904
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4efaea03-beb0-4a58-8e86-8b9f16a1cd17', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 04:31:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4efaea03-beb0-4a58-8e86-8b9f16a1cd17', 'x-amzn-bedrock-invocation-latency': '1413', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd16c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713360c9e73711f01126905
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.45.167 - - [19/Oct/2024 04:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e9b882c2-50f5-4da6-a731-426612cd3275', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 05:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e9b882c2-50f5-4da6-a731-426612cd3275', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671343f89e73711f01126907
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '48d3d705-f829-4b97-ae12-dfd12a0c7804', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 05:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '48d3d705-f829-4b97-ae12-dfd12a0c7804', 'x-amzn-bedrock-invocation-latency': '1418', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd34f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671343fb9e73711f01126908
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.204.187 - - [19/Oct/2024 05:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '38600a1c-349f-4c1a-8f55-a76d8777383c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 06:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '38600a1c-349f-4c1a-8f55-a76d8777383c', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671351fa9e73711f0112690a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ea10e93f-7638-4209-ab6a-1894a5461cb5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 06:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ea10e93f-7638-4209-ab6a-1894a5461cb5', 'x-amzn-bedrock-invocation-latency': '1344', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42a70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671351fd9e73711f0112690b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.172.249 - - [19/Oct/2024 06:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:104.248.37.157 - - [19/Oct/2024 07:22:05] "[33mGET / HTTP/1.0[0m" 404 -
ERROR:werkzeug:167.172.190.8 - - [19/Oct/2024 07:22:05] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:167.172.190.8 - - [19/Oct/2024 07:22:05] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x035\x96¬¨k√¥\x06\x04CE√í}¬∏\x8f√µ+\x90|W\x0fQ8w\x01\x93¬∫p\x0dg¬®√≤b¬® u√óR¬Æ8√ê√∏\x86√Ñ\x8f\x87√≠√í¬§:√∞¬¶)V√¶¬´√á\x13√∏√†\x81+√û¬¨uP¬∂\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
INFO:werkzeug:178.128.197.55 - - [19/Oct/2024 07:22:05] "[33mGET /solr/admin/info/system HTTP/1.1[0m" 404 -
INFO:werkzeug:164.92.201.178 - - [19/Oct/2024 07:22:05] "[33mGET /cgi-bin/authLogin.cgi HTTP/1.1[0m" 404 -
INFO:werkzeug:164.92.201.178 - - [19/Oct/2024 07:22:05] "[33mGET /query?q=SHOW+DIAGNOSTICS HTTP/1.1[0m" 404 -
INFO:werkzeug:164.92.201.178 - - [19/Oct/2024 07:22:05] "[33mGET /v2/_catalog HTTP/1.1[0m" 404 -
INFO:werkzeug:157.230.123.193 - - [19/Oct/2024 07:22:05] "[33mGET / HTTP/1.1[0m" 404 -
ERROR:werkzeug:167.172.190.8 - - [19/Oct/2024 07:22:05] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:167.172.190.8 - - [19/Oct/2024 07:22:05] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03\x0f\x93¬∫¬®¬£\x1cK\x85\x83√ê\x19\x06\x98√±\x99√ùW¬Ω√âf¬ßx√¢\x052\x9f√â\x8f√úQ√ã\x86 \x01\x0d¬Ω√à8√Ñ3(Bk√∏\x07L¬æ\x14√É√Ü\x96&\x1c\x05.*\x04p2B6m7;¬µ\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
INFO:werkzeug:178.128.197.55 - - [19/Oct/2024 07:22:06] "[33mGET /solr/admin/cores?action=STATUS&wt=json HTTP/1.1[0m" 404 -
ERROR:werkzeug:167.172.190.8 - - [19/Oct/2024 07:22:06] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03\x8d')
INFO:werkzeug:167.172.190.8 - - [19/Oct/2024 07:22:06] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03\x8d\x1f¬∑[i√ß√Ñ\x96![0m" 400 -
INFO:werkzeug:20.118.64.67 - - [19/Oct/2024 07:45:59] "[33mGET /v2/ HTTP/1.1[0m" 404 -
ERROR:werkzeug:154.213.185.206 - - [19/Oct/2024 07:59:29] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [19/Oct/2024 07:59:29] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67136a239e73711f0112690d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bf157fe8-3bc9-4b13-b14d-1ed38df23d4a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 08:13:26 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bf157fe8-3bc9-4b13-b14d-1ed38df23d4a', 'x-amzn-bedrock-invocation-latency': '1491', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67136a269e73711f0112690e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.153.91 - - [19/Oct/2024 08:13:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ba79ea2d-b2b9-4302-9700-a7fa0e82c83d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 08:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ba79ea2d-b2b9-4302-9700-a7fa0e82c83d', 'x-amzn-bedrock-invocation-latency': '318', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67136e1d9e73711f01126910
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9b220422-9364-4ed9-883e-c1891651bda6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 08:30:23 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9b220422-9364-4ed9-883e-c1891651bda6', 'x-amzn-bedrock-invocation-latency': '1343', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a431f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67136e1f9e73711f01126911
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.178.108 - - [19/Oct/2024 08:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.184 - - [19/Oct/2024 08:50:46] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.197.185 - - [19/Oct/2024 08:50:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
ERROR:werkzeug:134.209.249.237 - - [19/Oct/2024 09:01:16] code 400, message Bad request version ('R\x80t√â√≠√∑e√Æ\x9c')
INFO:werkzeug:134.209.249.237 - - [19/Oct/2024 09:01:16] "[31m[1m\x16\x03\x01\x01$\x01\x00\x01 \x03\x03\x05\x16I{√à√£kW√•√°<p\x1a'\x1eR\x80t√â√≠√∑e√Æ\x9c[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67137c429e73711f01126913
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0623abac-408e-46fa-84f7-8fcfc985ec58', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 09:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0623abac-408e-46fa-84f7-8fcfc985ec58', 'x-amzn-bedrock-invocation-latency': '1363', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a438e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67137c459e73711f01126914
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.220.177.102 - - [19/Oct/2024 09:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67138a8b9e73711f01126916
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6cbf13f1-5811-423b-8891-938e1438bcbf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 10:31:42 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6cbf13f1-5811-423b-8891-938e1438bcbf', 'x-amzn-bedrock-invocation-latency': '1488', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42bc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67138a8e9e73711f01126917
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.210.250 - - [19/Oct/2024 10:31:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1d7131b-e8a8-484d-ba43-27ab0c040257', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 11:31:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1d7131b-e8a8-484d-ba43-27ab0c040257', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671398879e73711f01126919
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5c259bbf-a850-4107-83e9-ef3a52c22cd9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 11:31:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5c259bbf-a850-4107-83e9-ef3a52c22cd9', 'x-amzn-bedrock-invocation-latency': '1439', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713988a9e73711f0112691a
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.191.247 - - [19/Oct/2024 11:31:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7193ec1a-57f7-4f21-a825-affc607a2d2d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 12:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7193ec1a-57f7-4f21-a825-affc607a2d2d', 'x-amzn-bedrock-invocation-latency': '299', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6713a65c9e73711f0112691c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '61acca3d-d428-40e4-a859-9a37ba96019b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 12:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '61acca3d-d428-40e4-a859-9a37ba96019b', 'x-amzn-bedrock-invocation-latency': '1447', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713a65e9e73711f0112691d
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.18.154 - - [19/Oct/2024 12:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6713b49e9e73711f0112691f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e2bc7149-cb92-4091-b0fe-61d9a48f5e7c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 13:31:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e2bc7149-cb92-4091-b0fe-61d9a48f5e7c', 'x-amzn-bedrock-invocation-latency': '1504', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a430a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713b4a19e73711f01126920
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.23.141.85 - - [19/Oct/2024 13:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6e3399c2-5552-4a38-85c6-16e97455ad36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 14:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6e3399c2-5552-4a38-85c6-16e97455ad36', 'x-amzn-bedrock-invocation-latency': '359', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9eb00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6713c2939e73711f01126922
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6db85fe8-8c3a-43f6-bfbb-f828ed7515d3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 14:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6db85fe8-8c3a-43f6-bfbb-f828ed7515d3', 'x-amzn-bedrock-invocation-latency': '1416', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713c2959e73711f01126923
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.227.98.59 - - [19/Oct/2024 14:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6713d0c39e73711f01126925
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fa187ce7-2a96-4b05-883c-155cdbeb2dd3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 15:31:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fa187ce7-2a96-4b05-883c-155cdbeb2dd3', 'x-amzn-bedrock-invocation-latency': '1355', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a423b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713d0c69e73711f01126926
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.21.90.119 - - [19/Oct/2024 15:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fdde6c19-3295-4261-ad43-d66fd1a4c42b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 16:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fdde6c19-3295-4261-ad43-d66fd1a4c42b', 'x-amzn-bedrock-invocation-latency': '341', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c0a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6713de919e73711f01126928
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e95e7838-719e-44fd-ab04-febf8693248c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 16:30:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e95e7838-719e-44fd-ab04-febf8693248c', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43b20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713de949e73711f01126929
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.237.242.215 - - [19/Oct/2024 16:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6713ecb19e73711f0112692b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b59952b8-89fc-4b29-92d2-3ad2ca537177', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 17:30:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b59952b8-89fc-4b29-92d2-3ad2ca537177', 'x-amzn-bedrock-invocation-latency': '1496', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713ecb49e73711f0112692c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.75.202 - - [19/Oct/2024 17:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6713fadf9e73711f0112692e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8b464513-cf46-4ca3-ad1b-ec656bd901d9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 18:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8b464513-cf46-4ca3-ad1b-ec656bd901d9', 'x-amzn-bedrock-invocation-latency': '1490', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42590>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6713fae19e73711f0112692f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.193.96 - - [19/Oct/2024 18:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671408ff9e73711f01126931
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a960f867-8bab-4ead-add3-d825628d71c1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 19:31:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a960f867-8bab-4ead-add3-d825628d71c1', 'x-amzn-bedrock-invocation-latency': '1495', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671409029e73711f01126932
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.43.210 - - [19/Oct/2024 19:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '05e59706-9480-4329-9bca-c7b6e6552ea4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 20:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '05e59706-9480-4329-9bca-c7b6e6552ea4', 'x-amzn-bedrock-invocation-latency': '309', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671416d19e73711f01126934
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '597659bc-7e22-4322-ab9b-5a507f8fffb7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 20:30:11 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '597659bc-7e22-4322-ab9b-5a507f8fffb7', 'x-amzn-bedrock-invocation-latency': '1438', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40ee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671416d39e73711f01126935
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.69.18 - - [19/Oct/2024 20:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.94 - - [19/Oct/2024 20:32:32] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671425149e73711f01126937
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '30f6580a-32d7-4e3b-8c9e-1661dcf59645', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 21:31:03 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '30f6580a-32d7-4e3b-8c9e-1661dcf59645', 'x-amzn-bedrock-invocation-latency': '1529', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41c60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671425179e73711f01126938
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.46.152 - - [19/Oct/2024 21:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '02513bde-0234-4453-995d-c9d1f381a01f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 22:31:02 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '02513bde-0234-4453-995d-c9d1f381a01f', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671433269e73711f0112693a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '14241ceb-4217-4cff-9a72-5e3c2261d26b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 22:31:05 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '14241ceb-4217-4cff-9a72-5e3c2261d26b', 'x-amzn-bedrock-invocation-latency': '1419', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525a20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671433299e73711f0112693b
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.219.40 - - [19/Oct/2024 22:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:87.236.176.188 - - [19/Oct/2024 23:11:29] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6714413d9e73711f0112693d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8def89ee-ab88-4c40-b760-85d549d94f12', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 19 Oct 2024 23:31:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8def89ee-ab88-4c40-b760-85d549d94f12', 'x-amzn-bedrock-invocation-latency': '1521', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ff0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671441409e73711f0112693e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.154.76 - - [19/Oct/2024 23:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04b3046a-5495-46b3-85ad-f37d9c9c4e5d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 00:31:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '04b3046a-5495-46b3-85ad-f37d9c9c4e5d', 'x-amzn-bedrock-invocation-latency': '327', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1ba0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67144f4d9e73711f01126940
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '920ddf82-a1ce-488c-9c18-32e1f8eed935', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 00:31:11 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '920ddf82-a1ce-488c-9c18-32e1f8eed935', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67144f4f9e73711f01126941
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.91.230.43 - - [20/Oct/2024 00:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '386fcb44-f460-4eaf-b915-dfb186e83230', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 01:30:42 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '386fcb44-f460-4eaf-b915-dfb186e83230', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67145d429e73711f01126943
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e215e44b-5404-477f-a373-de4ecef3cfa2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 01:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e215e44b-5404-477f-a373-de4ecef3cfa2', 'x-amzn-bedrock-invocation-latency': '1420', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79b70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67145d459e73711f01126944
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.172.240.73 - - [20/Oct/2024 01:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b4bbd8b1-8fe0-4772-80b4-ae5fd4578173', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 02:30:43 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'b4bbd8b1-8fe0-4772-80b4-ae5fd4578173', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42f80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67146b539e73711f01126946
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c0e2c1c0-fc9d-4321-b825-4eabe09d454b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 02:30:46 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'c0e2c1c0-fc9d-4321-b825-4eabe09d454b', 'x-amzn-bedrock-invocation-latency': '1436', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67146b569e73711f01126947
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.154.76 - - [20/Oct/2024 02:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.177 - - [20/Oct/2024 03:13:30] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '30716d12-0aca-4360-9bb5-0fda47d3de00', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 03:30:40 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '30716d12-0aca-4360-9bb5-0fda47d3de00', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5257e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671479609e73711f01126949
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '67f82d16-be59-4b48-be11-cb5a067288d3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 03:30:43 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '67f82d16-be59-4b48-be11-cb5a067288d3', 'x-amzn-bedrock-invocation-latency': '1427', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41330>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671479639e73711f0112694a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.159.20.233 - - [20/Oct/2024 03:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671487919e73711f0112694c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '97d9c63c-9b94-4458-ad45-33ac95d6139a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 04:31:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '97d9c63c-9b94-4458-ad45-33ac95d6139a', 'x-amzn-bedrock-invocation-latency': '1442', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41db0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671487949e73711f0112694d
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.253.196 - - [20/Oct/2024 04:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71bc4fe7-3614-4614-b3d5-9b6120f6e964', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 05:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '71bc4fe7-3614-4614-b3d5-9b6120f6e964', 'x-amzn-bedrock-invocation-latency': '341', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6714956a9e73711f0112694f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '99add729-57e8-46a7-8ed0-cbcd7a6cf3fc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 05:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '99add729-57e8-46a7-8ed0-cbcd7a6cf3fc', 'x-amzn-bedrock-invocation-latency': '1424', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a781f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714956d9e73711f01126950
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.173.196 - - [20/Oct/2024 05:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9afc28b4-504a-462b-9dcc-bf479058007c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 06:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9afc28b4-504a-462b-9dcc-bf479058007c', 'x-amzn-bedrock-invocation-latency': '317', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6714a36f9e73711f01126952
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4be62024-cbcb-4564-8641-0ea45a072c5e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 06:30:09 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4be62024-cbcb-4564-8641-0ea45a072c5e', 'x-amzn-bedrock-invocation-latency': '1321', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714a3719e73711f01126953
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.175.56 - - [20/Oct/2024 06:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6714b19c9e73711f01126955
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4c0d2fe8-cacd-407a-856e-ca58fb0f6707', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 07:30:39 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4c0d2fe8-cacd-407a-856e-ca58fb0f6707', 'x-amzn-bedrock-invocation-latency': '1456', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ef20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714b19f9e73711f01126956
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.23.96.156 - - [20/Oct/2024 07:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '98256eee-b7e6-447b-8479-7909da73be60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 08:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '98256eee-b7e6-447b-8479-7909da73be60', 'x-amzn-bedrock-invocation-latency': '382', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6714bf959e73711f01126958
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '81035d1a-680a-4691-b01a-97818dafeb5c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 08:30:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '81035d1a-680a-4691-b01a-97818dafeb5c', 'x-amzn-bedrock-invocation-latency': '1428', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714bf979e73711f01126959
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.148.22 - - [20/Oct/2024 08:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6714cde29e73711f0112695b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0ec68a36-9776-404d-be8a-0b37a881f1c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 09:31:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0ec68a36-9776-404d-be8a-0b37a881f1c5', 'x-amzn-bedrock-invocation-latency': '1386', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714cde49e73711f0112695c
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.187.96 - - [20/Oct/2024 09:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6714dbfd9e73711f0112695e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed3e536f-0d9d-4441-9420-4465c2113e3b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 10:31:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed3e536f-0d9d-4441-9420-4465c2113e3b', 'x-amzn-bedrock-invocation-latency': '1399', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79900>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714dc009e73711f0112695f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.195.26.249 - - [20/Oct/2024 10:31:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1da392e9-7878-4a03-8a47-51441196bd70', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 11:31:27 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '1da392e9-7878-4a03-8a47-51441196bd70', 'x-amzn-bedrock-invocation-latency': '360', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ad70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6714ea0f9e73711f01126961
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a5a2ac03-f48e-4e67-acea-788ccc49c9d1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 11:31:30 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'a5a2ac03-f48e-4e67-acea-788ccc49c9d1', 'x-amzn-bedrock-invocation-latency': '1411', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b9d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714ea129e73711f01126962
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.234.144.53 - - [20/Oct/2024 11:31:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'df19d493-08e6-4f5e-a68e-b89c3552be9d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 12:30:39 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'df19d493-08e6-4f5e-a68e-b89c3552be9d', 'x-amzn-bedrock-invocation-latency': '324', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6714f7ef9e73711f01126964
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7b5a78a0-0399-49dd-a70b-67685ad22b89', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 12:30:42 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '7b5a78a0-0399-49dd-a70b-67685ad22b89', 'x-amzn-bedrock-invocation-latency': '1402', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79bd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6714f7f29e73711f01126965
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.197.213.163 - - [20/Oct/2024 12:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671506059e73711f01126967
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4942b751-76a8-4d46-aa83-d1a4d0706a60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 13:30:48 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4942b751-76a8-4d46-aa83-d1a4d0706a60', 'x-amzn-bedrock-invocation-latency': '1408', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a950>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671506089e73711f01126968
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.187.96 - - [20/Oct/2024 13:30:48] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:47.254.215.181 - - [20/Oct/2024 13:38:16] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:47.254.215.181 - - [20/Oct/2024 13:38:16] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03I\x06¬≤√π¬º\x99i√ÄY√ª√∏¬∫e-\x83Ud]\x0e\x8d¬∑b8¬¥g√Ü√ù9dZ8f g√Å\x81i¬≥√∂√≤√ã¬∞¬©\x19N√ñ¬Ω\x95g|p√º√©<Z¬°\x90T¬∑√©¬•8'O;\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
INFO:werkzeug:47.254.215.181 - - [20/Oct/2024 13:38:26] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '27bf44c4-752f-443c-b5df-07bc147d2f32', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 14:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '27bf44c4-752f-443c-b5df-07bc147d2f32', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bbb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671514109e73711f0112696a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83861c14-48bd-48e8-967f-d0233389f03e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 14:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '83861c14-48bd-48e8-967f-d0233389f03e', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671514139e73711f0112696b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.71.4 - - [20/Oct/2024 14:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671522259e73711f0112696d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7cc1f0d4-b02b-4c09-a1cf-eccea2ef1012', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 15:30:48 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7cc1f0d4-b02b-4c09-a1cf-eccea2ef1012', 'x-amzn-bedrock-invocation-latency': '1476', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671522289e73711f0112696e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.10.182 - - [20/Oct/2024 15:30:48] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [20/Oct/2024 16:23:25] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [20/Oct/2024 16:23:25] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f4ccc858-ef26-4156-9f2d-c353f7fb83e9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 16:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f4ccc858-ef26-4156-9f2d-c353f7fb83e9', 'x-amzn-bedrock-invocation-latency': '339', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6715301d9e73711f01126970
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd2a075c3-ffcf-41b4-8be3-3c7a73f4fbc5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 16:30:24 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd2a075c3-ffcf-41b4-8be3-3c7a73f4fbc5', 'x-amzn-bedrock-invocation-latency': '1445', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78a30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671530209e73711f01126971
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.220.71.129 - - [20/Oct/2024 16:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67153e4b9e73711f01126973
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db2ca978-18d4-4ed6-b297-8a7906df0336', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 17:30:54 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'db2ca978-18d4-4ed6-b297-8a7906df0336', 'x-amzn-bedrock-invocation-latency': '1504', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67153e4e9e73711f01126974
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.197.213.163 - - [20/Oct/2024 17:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67154cc39e73711f01126976
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e4ba8626-7666-4661-a1b3-188e22140287', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 18:32:38 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e4ba8626-7666-4661-a1b3-188e22140287', 'x-amzn-bedrock-invocation-latency': '1481', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ad40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67154cc69e73711f01126977
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.220.71.129 - - [20/Oct/2024 18:32:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3e44c0a-05ec-4a83-8d72-73fa0f6d55ff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 19:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3e44c0a-05ec-4a83-8d72-73fa0f6d55ff', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67155a639e73711f01126979
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6819a076-c32a-4fe0-b988-c48fb6741fa2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 19:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6819a076-c32a-4fe0-b988-c48fb6741fa2', 'x-amzn-bedrock-invocation-latency': '1430', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a590>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67155a659e73711f0112697a
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.55.253 - - [20/Oct/2024 19:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671568a09e73711f0112697c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e0df947-7b8e-40f8-a9ec-8890592eecc4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 20:31:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1e0df947-7b8e-40f8-a9ec-8890592eecc4', 'x-amzn-bedrock-invocation-latency': '1508', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671568a39e73711f0112697d
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.55.253 - - [20/Oct/2024 20:31:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b7de73c5-b54e-4c6f-865b-3de8c17a682f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 21:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b7de73c5-b54e-4c6f-865b-3de8c17a682f', 'x-amzn-bedrock-invocation-latency': '328', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7add0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671576689e73711f0112697f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a9c66e6e-4cb6-4905-ae13-28d8059e273f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 21:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a9c66e6e-4cb6-4905-ae13-28d8059e273f', 'x-amzn-bedrock-invocation-latency': '1460', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a34f70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715766b9e73711f01126980
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.212.8.179 - - [20/Oct/2024 21:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671584889e73711f01126982
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '03c7156a-a08c-485d-af60-248f9c6a9252', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 22:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '03c7156a-a08c-485d-af60-248f9c6a9252', 'x-amzn-bedrock-invocation-latency': '1502', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a34220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715848b9e73711f01126983
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.162.207.183 - - [20/Oct/2024 22:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.66 - - [20/Oct/2024 23:03:16] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd1a4f21b-9cff-435a-bfcd-e00b1e4a5a22', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 23:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd1a4f21b-9cff-435a-bfcd-e00b1e4a5a22', 'x-amzn-bedrock-invocation-latency': '308', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671592839e73711f01126985
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '358f4d6a-5b1e-45f7-8d5c-67220183fc9a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 20 Oct 2024 23:30:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '358f4d6a-5b1e-45f7-8d5c-67220183fc9a', 'x-amzn-bedrock-invocation-latency': '1437', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671592869e73711f01126986
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.212.23.26 - - [20/Oct/2024 23:30:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6715a0c29e73711f01126988
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '57f3b184-1037-4b74-9d7c-67c8508dc608', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 00:31:01 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '57f3b184-1037-4b74-9d7c-67c8508dc608', 'x-amzn-bedrock-invocation-latency': '1464', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715a0c59e73711f01126989
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.87.93.173 - - [21/Oct/2024 00:31:01] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:57.128.188.94 - - [21/Oct/2024 00:59:13] code 400, message Bad request syntax ('\x03\x00\x00\x13\x0e√†\x00\x00\x00\x00\x00\x01\x00\x08\x00\x03\x00\x00\x00')
INFO:werkzeug:57.128.188.94 - - [21/Oct/2024 00:59:13] "[31m[1m\x03\x00\x00\x13\x0e√†\x00\x00\x00\x00\x00\x01\x00\x08\x00\x03\x00\x00\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '02a52261-415f-4269-a236-841044be34ec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 01:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '02a52261-415f-4269-a236-841044be34ec', 'x-amzn-bedrock-invocation-latency': '378', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0e80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6715aea39e73711f0112698b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b5d6d287-7eb1-4713-90b1-7547a6c8e907', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 01:30:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b5d6d287-7eb1-4713-90b1-7547a6c8e907', 'x-amzn-bedrock-invocation-latency': '1461', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715aea69e73711f0112698c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.88.50.175 - - [21/Oct/2024 01:30:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6715bccd9e73711f0112698e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '300139c1-6203-426a-b7af-e0b3a285d6aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 02:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '300139c1-6203-426a-b7af-e0b3a285d6aa', 'x-amzn-bedrock-invocation-latency': '1444', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a920>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715bcd09e73711f0112698f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.6.114 - - [21/Oct/2024 02:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6715cae59e73711f01126991
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e39ce609-30e4-449c-a03f-a842b87009aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 03:30:48 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e39ce609-30e4-449c-a03f-a842b87009aa', 'x-amzn-bedrock-invocation-latency': '1443', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715cae89e73711f01126992
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.210.7.197 - - [21/Oct/2024 03:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6715d8fa9e73711f01126994
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '171e30b8-d701-4ee0-bdb4-dcb863416141', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 04:30:53 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '171e30b8-d701-4ee0-bdb4-dcb863416141', 'x-amzn-bedrock-invocation-latency': '1508', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715d8fd9e73711f01126995
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.88.50.175 - - [21/Oct/2024 04:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f70d576-3335-4cd0-9d12-cb632c4e2b3d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 05:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7f70d576-3335-4cd0-9d12-cb632c4e2b3d', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6715e7039e73711f01126997
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bdd48f54-ce34-4615-afd3-4ee3ae81a0ad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 05:30:46 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bdd48f54-ce34-4615-afd3-4ee3ae81a0ad', 'x-amzn-bedrock-invocation-latency': '1417', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79fc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715e7069e73711f01126998
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.215.103.224 - - [21/Oct/2024 05:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.17 - - [21/Oct/2024 06:19:07] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e42f899b-5322-46eb-a00b-8279753b8b21', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 06:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e42f899b-5322-46eb-a00b-8279753b8b21', 'x-amzn-bedrock-invocation-latency': '329', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7be80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6715f5089e73711f0112699a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd9ab3f87-4d67-4363-b22a-2e63c6602799', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 06:30:36 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd9ab3f87-4d67-4363-b22a-2e63c6602799', 'x-amzn-bedrock-invocation-latency': '1410', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8970>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6715f50c9e73711f0112699b
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.210.130.215 - - [21/Oct/2024 06:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671603359e73711f0112699d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1733d9ab-dbbd-4111-8767-05c176187586', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 07:31:03 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1733d9ab-dbbd-4111-8767-05c176187586', 'x-amzn-bedrock-invocation-latency': '1365', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d270>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671603379e73711f0112699e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.210.130.215 - - [21/Oct/2024 07:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.11 - - [21/Oct/2024 08:24:58] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e114f041-4580-42cb-b343-05e4eae41d2f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 08:30:42 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e114f041-4580-42cb-b343-05e4eae41d2f', 'x-amzn-bedrock-invocation-latency': '358', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ec20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671611329e73711f011269a0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'af3d6922-54c5-49c2-af3d-5f603fe7e758', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 08:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'af3d6922-54c5-49c2-af3d-5f603fe7e758', 'x-amzn-bedrock-invocation-latency': '1446', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b2b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671611359e73711f011269a1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.252.70 - - [21/Oct/2024 08:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67161f539e73711f011269a3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ca4795b8-b4ac-437a-9154-0840a2d93cd1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 09:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ca4795b8-b4ac-437a-9154-0840a2d93cd1', 'x-amzn-bedrock-invocation-latency': '1425', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67161f569e73711f011269a4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.197.41.51 - - [21/Oct/2024 09:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13213c8f-f73c-4a5c-a611-d7632a998f31', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 10:30:52 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '13213c8f-f73c-4a5c-a611-d7632a998f31', 'x-amzn-bedrock-invocation-latency': '299', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a200>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67162d5c9e73711f011269a6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '890407d9-5e48-4e49-a448-a6599e156037', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 10:30:54 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '890407d9-5e48-4e49-a448-a6599e156037', 'x-amzn-bedrock-invocation-latency': '1432', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67162d5e9e73711f011269a7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.252.70 - - [21/Oct/2024 10:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92fbdcbc-1d91-4b71-b380-3d70d25991ae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 11:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '92fbdcbc-1d91-4b71-b380-3d70d25991ae', 'x-amzn-bedrock-invocation-latency': '304', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a770>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67163b519e73711f011269a9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f56d5304-1728-41e3-baff-c7b792f58aa6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 11:30:27 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f56d5304-1728-41e3-baff-c7b792f58aa6', 'x-amzn-bedrock-invocation-latency': '1441', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7acb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67163b539e73711f011269aa
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.207.233.52 - - [21/Oct/2024 11:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671649729e73711f011269ac
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a483847d-f632-45a4-8d95-3be4456b90d1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 12:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a483847d-f632-45a4-8d95-3be4456b90d1', 'x-amzn-bedrock-invocation-latency': '1448', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb7f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671649759e73711f011269ad
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.174.171 - - [21/Oct/2024 12:30:45] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:71.6.134.233 - - [21/Oct/2024 12:35:49] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:71.6.134.233 - - [21/Oct/2024 12:35:49] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03√π√å\x1c\x17\\\x9f\x02B\x04¬•L\x10\x15√º\x88¬®P\x16<.\x15√Æ>l$√∏\x96√øu$qC >T:√Ø\x05\x85√¨*\x012\x076i√ã¬≤√†u\x02√º@\x0b√ù\x94√ì\x06MW¬π\x85/\x93√≥\x00&√å¬®√å¬©√Ä/√Ä0√Ä+√Ä,√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:71.6.134.233 - - [21/Oct/2024 12:51:23] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:71.6.134.233 - - [21/Oct/2024 12:51:50] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '08ac96d9-ec77-4b24-adcd-a2a01a93072e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 13:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '08ac96d9-ec77-4b24-adcd-a2a01a93072e', 'x-amzn-bedrock-invocation-latency': '273', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bb80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6716576c9e73711f011269af
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '88b29986-c002-48cc-adb5-1923859f5ee6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 13:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '88b29986-c002-48cc-adb5-1923859f5ee6', 'x-amzn-bedrock-invocation-latency': '1452', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6716576e9e73711f011269b0
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.207.252.124 - - [21/Oct/2024 13:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.212.143.177 - - [21/Oct/2024 14:00:53] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '531f1d91-5069-41f5-9adf-b60a60b798fe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 14:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '531f1d91-5069-41f5-9adf-b60a60b798fe', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671665779e73711f011269b2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1941e5a9-9390-4847-851f-d06a64677048', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 14:30:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1941e5a9-9390-4847-851f-d06a64677048', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671665799e73711f011269b3
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.237.1 - - [21/Oct/2024 14:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671673aa9e73711f011269b5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5e6c5bfb-a6ac-412f-b0a6-2b0029632ac0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 15:30:53 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5e6c5bfb-a6ac-412f-b0a6-2b0029632ac0', 'x-amzn-bedrock-invocation-latency': '1369', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671673ad9e73711f011269b6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.147.93.181 - - [21/Oct/2024 15:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '03550c7e-51e5-40bd-a2f2-149050a6fa41', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 16:30:08 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '03550c7e-51e5-40bd-a2f2-149050a6fa41', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bd30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671681909e73711f011269b8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a643cb87-3295-42ac-9431-77f3879b3f23', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 16:30:11 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a643cb87-3295-42ac-9431-77f3879b3f23', 'x-amzn-bedrock-invocation-latency': '1347', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671681939e73711f011269b9
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.207.220 - - [21/Oct/2024 16:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.212.143.177 - - [21/Oct/2024 17:12:19] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67168fcc9e73711f011269bb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a154836-73a0-4e13-89a1-21068c2f8a2e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 17:30:55 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3a154836-73a0-4e13-89a1-21068c2f8a2e', 'x-amzn-bedrock-invocation-latency': '1360', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67168fcf9e73711f011269bc
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.172.200 - - [21/Oct/2024 17:30:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67169de89e73711f011269be
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1d6ad702-1b9e-40d2-b525-ffbffe5ab455', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 18:31:07 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1d6ad702-1b9e-40d2-b525-ffbffe5ab455', 'x-amzn-bedrock-invocation-latency': '1385', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67169deb9e73711f011269bf
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.236.210 - - [21/Oct/2024 18:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.212.143.177 - - [21/Oct/2024 19:24:12] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd6ee1302-1dee-4fff-b56e-75196d012607', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 19:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd6ee1302-1dee-4fff-b56e-75196d012607', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfabc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6716abe59e73711f011269c1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '69d9c2ac-d1a9-4cc3-8eb7-621b3a8aa750', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 19:30:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '69d9c2ac-d1a9-4cc3-8eb7-621b3a8aa750', 'x-amzn-bedrock-invocation-latency': '1354', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfba60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6716abe79e73711f011269c2
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.236.210 - - [21/Oct/2024 19:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6716ba1e9e73711f011269c4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9b7de7e-a126-487d-9255-17f796bc0997', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 20:31:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9b7de7e-a126-487d-9255-17f796bc0997', 'x-amzn-bedrock-invocation-latency': '1362', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8f40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6716ba209e73711f011269c5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.219.99 - - [21/Oct/2024 20:31:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b625c0df-1b28-453e-a23a-4a2c7f46e9a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 21:31:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b625c0df-1b28-453e-a23a-4a2c7f46e9a0', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9510>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6716c81e9e73711f011269c7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c5ec35d3-8d78-47c5-b064-8cd9f4659000', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 21:31:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c5ec35d3-8d78-47c5-b064-8cd9f4659000', 'x-amzn-bedrock-invocation-latency': '1368', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6716c8219e73711f011269c8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.212.61.49 - - [21/Oct/2024 21:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5ef4fbb0-dc18-4628-bad5-d06c6b29524b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 22:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5ef4fbb0-dc18-4628-bad5-d06c6b29524b', 'x-amzn-bedrock-invocation-latency': '405', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf90f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6716d5ed9e73711f011269ca
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0da96c13-bf2b-45b5-9bd5-8c2c6a80c683', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 22:30:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0da96c13-bf2b-45b5-9bd5-8c2c6a80c683', 'x-amzn-bedrock-invocation-latency': '1344', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40e20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6716d5f09e73711f011269cb
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.241.197 - - [21/Oct/2024 22:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6716e4199e73711f011269cd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ea4d2459-9e29-475d-903c-91d8aebcefb1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 21 Oct 2024 23:30:36 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ea4d2459-9e29-475d-903c-91d8aebcefb1', 'x-amzn-bedrock-invocation-latency': '1500', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a5f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6716e41c9e73711f011269ce
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.211.174 - - [21/Oct/2024 23:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6716f2379e73711f011269d0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bf19096c-f5de-4672-ae75-23bcc5b0b2b1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 00:30:49 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bf19096c-f5de-4672-ae75-23bcc5b0b2b1', 'x-amzn-bedrock-invocation-latency': '1444', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8fa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6716f2399e73711f011269d1
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.221.39.236 - - [22/Oct/2024 00:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'feb87afd-a7ff-4aed-b557-3612b5abb874', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 01:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'feb87afd-a7ff-4aed-b557-3612b5abb874', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb2b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671700409e73711f011269d3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ef2508a6-9c2b-45b0-acb0-ea75467773f9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 01:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ef2508a6-9c2b-45b0-acb0-ea75467773f9', 'x-amzn-bedrock-invocation-latency': '1446', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40820>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671700439e73711f011269d4
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.171.84.147 - - [22/Oct/2024 01:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '07318172-e7e9-42c3-8cf7-89de48586715', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 02:30:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '07318172-e7e9-42c3-8cf7-89de48586715', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ba0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67170e339e73711f011269d6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '403e434d-39f3-41e1-a38a-f85f9f18279c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 02:30:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '403e434d-39f3-41e1-a38a-f85f9f18279c', 'x-amzn-bedrock-invocation-latency': '1341', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40e50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67170e359e73711f011269d7
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.209.221.235 - - [22/Oct/2024 02:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67171c5f9e73711f011269d9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dac58d5c-f8e9-4169-8855-675cac262a87', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 03:30:41 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'dac58d5c-f8e9-4169-8855-675cac262a87', 'x-amzn-bedrock-invocation-latency': '1385', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67171c619e73711f011269da
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.52.99 - - [22/Oct/2024 03:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67172a899e73711f011269dc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6e3bd1e4-d5e7-4959-887a-2befab4a8c3a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 04:31:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6e3bd1e4-d5e7-4959-887a-2befab4a8c3a', 'x-amzn-bedrock-invocation-latency': '1515', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41720>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67172a8c9e73711f011269dd
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.52.99 - - [22/Oct/2024 04:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6dd4a5dc-7e84-4bd5-95b2-652f8ea09619', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 05:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6dd4a5dc-7e84-4bd5-95b2-652f8ea09619', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671738809e73711f011269df
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9d2cd890-3402-4acd-986f-2d25ddbb7778', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 05:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9d2cd890-3402-4acd-986f-2d25ddbb7778', 'x-amzn-bedrock-invocation-latency': '1407', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41510>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671738839e73711f011269e0
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.205.113.31 - - [22/Oct/2024 05:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dca090bd-0b2d-4c4c-b558-4b29a077749a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 06:30:24 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'dca090bd-0b2d-4c4c-b558-4b29a077749a', 'x-amzn-bedrock-invocation-latency': '308', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671746809e73711f011269e2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b8c43e37-f85e-417c-9e9e-0b475c36c6e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 06:30:26 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b8c43e37-f85e-417c-9e9e-0b475c36c6e8', 'x-amzn-bedrock-invocation-latency': '1427', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671746829e73711f011269e3
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.233.152.211 - - [22/Oct/2024 06:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '72a23415-b6e1-4747-a5be-ad507d75180b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 07:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '72a23415-b6e1-4747-a5be-ad507d75180b', 'x-amzn-bedrock-invocation-latency': '314', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a414e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671754859e73711f011269e5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '60d7ac41-cf82-4c9e-b40d-f4fcda954b48', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 07:30:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '60d7ac41-cf82-4c9e-b40d-f4fcda954b48', 'x-amzn-bedrock-invocation-latency': '1391', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671754889e73711f011269e6
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.207.232.71 - - [22/Oct/2024 07:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671762a09e73711f011269e8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '19609fa8-42e5-4cf4-9d5e-8ee9de43290f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 08:30:27 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '19609fa8-42e5-4cf4-9d5e-8ee9de43290f', 'x-amzn-bedrock-invocation-latency': '1456', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671762a39e73711f011269e9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.204.89 - - [22/Oct/2024 08:30:27] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:185.100.87.136 - - [22/Oct/2024 08:33:25] code 400, message Bad HTTP/0.9 request type ('\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00')
INFO:werkzeug:185.100.87.136 - - [22/Oct/2024 08:33:25] "[31m[1m\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00\x0c\x02\x00\x00\x00\x10MyCustomAssembly\x05\x01\x00\x00\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671770c09e73711f011269eb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5c718753-7ed6-4b74-9ad9-58cf80a6e1c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 09:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5c718753-7ed6-4b74-9ad9-58cf80a6e1c6', 'x-amzn-bedrock-invocation-latency': '1366', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671770c39e73711f011269ec
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.209.204.89 - - [22/Oct/2024 09:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67177f009e73711f011269ee
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9939fd70-bb02-4c7b-91e9-95f30475971d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 10:31:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9939fd70-bb02-4c7b-91e9-95f30475971d', 'x-amzn-bedrock-invocation-latency': '1389', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42bf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67177f039e73711f011269ef
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.146.222.232 - - [22/Oct/2024 10:31:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '39f9db8b-9cfc-4e27-92da-8fd705a1e742', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 11:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '39f9db8b-9cfc-4e27-92da-8fd705a1e742', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42d70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67178cdc9e73711f011269f1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9887d5f2-de52-432e-aac3-b82b88d4c727', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 11:30:39 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9887d5f2-de52-432e-aac3-b82b88d4c727', 'x-amzn-bedrock-invocation-latency': '1447', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67178cdf9e73711f011269f2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.71.113 - - [22/Oct/2024 11:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67179af89e73711f011269f4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2e3b134a-105f-40f5-8909-3ed76683ecfa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 12:30:50 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2e3b134a-105f-40f5-8909-3ed76683ecfa', 'x-amzn-bedrock-invocation-latency': '1352', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67179afa9e73711f011269f5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.217.8 - - [22/Oct/2024 12:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.79.102.116 - - [22/Oct/2024 13:24:03] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e1e169c7-a686-4969-ab1f-5121e1e7df73', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 13:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e1e169c7-a686-4969-ab1f-5121e1e7df73', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2da0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6717a8f89e73711f011269f7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '01703c58-f62e-4fc0-9f6e-524d1e972d46', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 13:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '01703c58-f62e-4fc0-9f6e-524d1e972d46', 'x-amzn-bedrock-invocation-latency': '1443', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6717a8fb9e73711f011269f8
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.159.195.102 - - [22/Oct/2024 13:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6717b7229e73711f011269fa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cd67dae6-b174-4050-bd13-7094e5979b1c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 14:31:00 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cd67dae6-b174-4050-bd13-7094e5979b1c', 'x-amzn-bedrock-invocation-latency': '1421', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43f40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6717b7249e73711f011269fb
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.143.254 - - [22/Oct/2024 14:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:183.160.195.59 - - [22/Oct/2024 14:35:51] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ac50654f-dc74-48c6-b0b0-7be4c0d9077a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 15:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ac50654f-dc74-48c6-b0b0-7be4c0d9077a', 'x-amzn-bedrock-invocation-latency': '330', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6717c51d9e73711f011269fd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '07af0a8b-2407-4b32-ad9c-08f7b774946f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 15:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '07af0a8b-2407-4b32-ad9c-08f7b774946f', 'x-amzn-bedrock-invocation-latency': '1449', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6717c5209e73711f011269fe
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.57.71 - - [22/Oct/2024 15:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6717d33e9e73711f01126a00
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5448b589-4027-4fb8-9610-dd7808acb9b7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 16:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5448b589-4027-4fb8-9610-dd7808acb9b7', 'x-amzn-bedrock-invocation-latency': '1415', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41840>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6717d3419e73711f01126a01
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.242.64 - - [22/Oct/2024 16:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e43e9d90-560c-45f2-b2df-53dc3fe9920f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 17:30:57 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'e43e9d90-560c-45f2-b2df-53dc3fe9920f', 'x-amzn-bedrock-invocation-latency': '283', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6717e1519e73711f01126a03
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ff7194fa-d7d5-4ee2-a2dd-549c1f2a45c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 17:31:00 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'ff7194fa-d7d5-4ee2-a2dd-549c1f2a45c5', 'x-amzn-bedrock-invocation-latency': '1334', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a34940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6717e1549e73711f01126a04
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.206.239.50 - - [22/Oct/2024 17:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:87.236.176.240 - - [22/Oct/2024 17:58:02] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '45889c3c-612f-4dee-a90d-a4433db0fd98', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 18:30:09 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '45889c3c-612f-4dee-a90d-a4433db0fd98', 'x-amzn-bedrock-invocation-latency': '367', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6717ef319e73711f01126a06
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e981a817-2729-4df1-9f8f-e7b1cac8874c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 18:30:12 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'e981a817-2729-4df1-9f8f-e7b1cac8874c', 'x-amzn-bedrock-invocation-latency': '1346', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a351e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6717ef349e73711f01126a07
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.90.168.226 - - [22/Oct/2024 18:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b2a743e4-8c6f-4e76-bc64-7510cb83cc19', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 19:30:09 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'b2a743e4-8c6f-4e76-bc64-7510cb83cc19', 'x-amzn-bedrock-invocation-latency': '280', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6717fd419e73711f01126a09
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4a34c7ef-37cb-4f3a-b418-6f99e2f6a1fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 19:30:12 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '4a34c7ef-37cb-4f3a-b418-6f99e2f6a1fa', 'x-amzn-bedrock-invocation-latency': '1342', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6717fd449e73711f01126a0a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.95.240.217 - - [22/Oct/2024 19:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67180b779e73711f01126a0c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'efd4952f-6ae2-4372-aa84-26c284db3cec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 20:30:50 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'efd4952f-6ae2-4372-aa84-26c284db3cec', 'x-amzn-bedrock-invocation-latency': '1349', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd29b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67180b7a9e73711f01126a0d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.82.221.189 - - [22/Oct/2024 20:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fdafab82-000c-4a51-870c-9fb3a8d769f0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 21:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fdafab82-000c-4a51-870c-9fb3a8d769f0', 'x-amzn-bedrock-invocation-latency': '304', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2440>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6718197b9e73711f01126a0f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '011b9cfb-f7f5-4523-aee7-a10544d9a6ac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 21:30:38 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '011b9cfb-f7f5-4523-aee7-a10544d9a6ac', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718197e9e73711f01126a10
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.135.40 - - [22/Oct/2024 21:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6718279f9e73711f01126a12
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '658f7de2-e8df-47af-a356-a78cae76f343', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 22:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '658f7de2-e8df-47af-a356-a78cae76f343', 'x-amzn-bedrock-invocation-latency': '1446', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671827a19e73711f01126a13
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.135.40 - - [22/Oct/2024 22:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1142cd75-32f7-4243-9244-50849414ddeb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 23:30:52 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1142cd75-32f7-4243-9244-50849414ddeb', 'x-amzn-bedrock-invocation-latency': '327', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd17e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671835ac9e73711f01126a15
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db7a8493-bf77-433f-9ebf-14d8ae5be438', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 22 Oct 2024 23:30:55 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'db7a8493-bf77-433f-9ebf-14d8ae5be438', 'x-amzn-bedrock-invocation-latency': '1432', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ff40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671835af9e73711f01126a16
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.174.14.105 - - [22/Oct/2024 23:30:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '86b82ce6-becb-4f46-a721-cb0e41e58d0d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 00:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '86b82ce6-becb-4f46-a721-cb0e41e58d0d', 'x-amzn-bedrock-invocation-latency': '364', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525f60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671843a29e73711f01126a18
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb07dcd5-412d-4b76-b8c0-067c96fb984b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 00:30:29 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb07dcd5-412d-4b76-b8c0-067c96fb984b', 'x-amzn-bedrock-invocation-latency': '1361', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2170>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671843a59e73711f01126a19
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.207.248.89 - - [23/Oct/2024 00:30:29] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:137.184.14.220 - - [23/Oct/2024 01:11:33] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:137.184.14.220 - - [23/Oct/2024 01:11:33] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03;P√±\x04√±\x1eY√Ä\x93(¬±√ó^√ï¬©√≥¬Ω¬µo\x87!\x99/\x9c¬∏\x95√°√ê{@\x0b√é\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:137.184.14.220 - - [23/Oct/2024 01:11:33] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:137.184.14.220 - - [23/Oct/2024 01:11:33] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x9b¬±√ù~√å\x8dG¬∏.@\x18\x87¬°j6\x0d=√õ√¥\x97√Üy√ü√ú\x02Uh\x7f¬™\x8dY\x06\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:137.184.14.220 - - [23/Oct/2024 01:11:34] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b675b270-5483-4da7-8863-715502ea67fd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 01:30:29 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'b675b270-5483-4da7-8863-715502ea67fd', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2380>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671851b59e73711f01126a1b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'be5ee8f1-517d-4f77-993c-1575a80b6e75', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 01:30:31 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'be5ee8f1-517d-4f77-993c-1575a80b6e75', 'x-amzn-bedrock-invocation-latency': '1446', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671851b79e73711f01126a1c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.218.207.121 - - [23/Oct/2024 01:30:31] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:162.216.150.238 - - [23/Oct/2024 02:02:11] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:162.216.150.238 - - [23/Oct/2024 02:02:11] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03√≠¬≠√≠√•\x92√æp√∂√©t¬¢√ï√ú?\x0c<N√ó√∂√≥\x07√à\x94\x0f\x80\x1c\x99√≥\x1a¬∑\x16√∑ \x87T"√§√ê\x0b√∏pJ\x12\x17√°F\x92¬±\x17√ß√úe+\x1f√º\x0d√π\x9bGPc\x80√ã√Ñ[\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
ERROR:werkzeug:162.216.150.238 - - [23/Oct/2024 02:02:12] code 400, message Bad request version ('√Ä(√Ä$√Ä\x14√Ä')
INFO:werkzeug:162.216.150.238 - - [23/Oct/2024 02:02:12] "[31m[1m\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03¬¶#v√ó\x84¬µ&\x1e\x15\x8d¬∞√ö\x1d¬§√Ñ\x01√ê√Å\x8c√çG(√≠√µa\x0dG\x0b4¬º¬ø\x9d\x00\x00h√å\x14√å\x13√Ä/√Ä+√Ä0√Ä,√Ä\x11√Ä\x07√Ä'√Ä#√Ä\x13√Ä\x09√Ä(√Ä$√Ä\x14√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1cf3e68d-43d0-4219-ae84-68d9313eaadb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 02:30:14 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '1cf3e68d-43d0-4219-ae84-68d9313eaadb', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd26b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67185fb69e73711f01126a1e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c76cfb95-7480-4b60-b11c-ef17f1cf83db', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 02:30:17 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'c76cfb95-7480-4b60-b11c-ef17f1cf83db', 'x-amzn-bedrock-invocation-latency': '1441', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ffa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67185fb99e73711f01126a1f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.172.101 - - [23/Oct/2024 02:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67186e139e73711f01126a21
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '07d6bea4-f991-4936-a0e5-f24d824fa1cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 03:31:34 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '07d6bea4-f991-4936-a0e5-f24d824fa1cb', 'x-amzn-bedrock-invocation-latency': '1396', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fc10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67186e169e73711f01126a22
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.202.95 - - [23/Oct/2024 03:31:34] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.79.73.181 - - [23/Oct/2024 04:21:42] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '55f81a48-9fd8-434a-a6a3-c4c73eadd0e1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 04:31:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '55f81a48-9fd8-434a-a6a3-c4c73eadd0e1', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1e40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67187c1d9e73711f01126a24
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7d846679-4bc5-4726-ad71-31632745ab6a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 04:31:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7d846679-4bc5-4726-ad71-31632745ab6a', 'x-amzn-bedrock-invocation-latency': '1425', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5245e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67187c209e73711f01126a25
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.159.97.71 - - [23/Oct/2024 04:31:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '023d77da-7131-4336-b9d2-61c3bcf790e5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 05:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '023d77da-7131-4336-b9d2-61c3bcf790e5', 'x-amzn-bedrock-invocation-latency': '343', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671889f69e73711f01126a27
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c809ff11-82e1-4275-9410-9c36bb311a24', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 05:30:33 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c809ff11-82e1-4275-9410-9c36bb311a24', 'x-amzn-bedrock-invocation-latency': '1354', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671889f99e73711f01126a28
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.230.163.140 - - [23/Oct/2024 05:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:23.145.40.147 - - [23/Oct/2024 06:07:31] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41acf437-a4af-44b0-8741-ba36a7022544', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 06:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '41acf437-a4af-44b0-8741-ba36a7022544', 'x-amzn-bedrock-invocation-latency': '306', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa590>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671897fb9e73711f01126a2a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c3fa94de-7fda-4bbc-96f1-2ba78f426581', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 06:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c3fa94de-7fda-4bbc-96f1-2ba78f426581', 'x-amzn-bedrock-invocation-latency': '1416', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c2e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671897fe9e73711f01126a2b
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.144.135 - - [23/Oct/2024 06:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6718a6399e73711f01126a2d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c92e1b30-a14b-416e-84ff-023218abf0b3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 07:31:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c92e1b30-a14b-416e-84ff-023218abf0b3', 'x-amzn-bedrock-invocation-latency': '1514', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ea70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718a63c9e73711f01126a2e
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.3.94 - - [23/Oct/2024 07:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a823b5eb-cd7a-4a9d-b1af-97a6cc994d1a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 08:31:01 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a823b5eb-cd7a-4a9d-b1af-97a6cc994d1a', 'x-amzn-bedrock-invocation-latency': '295', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6718b4459e73711f01126a30
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '040a34e7-96bc-44e2-85f0-db213c64a688', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 08:31:04 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '040a34e7-96bc-44e2-85f0-db213c64a688', 'x-amzn-bedrock-invocation-latency': '1424', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718b4489e73711f01126a31
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.240.109 - - [23/Oct/2024 08:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.58.97.162 - - [23/Oct/2024 08:34:52] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:198.235.24.172 - - [23/Oct/2024 08:50:10] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb694c05-fb93-402e-9bd8-b472867cda27', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 09:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb694c05-fb93-402e-9bd8-b472867cda27', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6718c22b9e73711f01126a33
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dbc692dd-54be-479c-aeb1-86d32e917271', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 09:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'dbc692dd-54be-479c-aeb1-86d32e917271', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d330>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718c22e9e73711f01126a34
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.204.217.142 - - [23/Oct/2024 09:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.121 - - [23/Oct/2024 10:22:47] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.197.115 - - [23/Oct/2024 10:23:04] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6718d0499e73711f01126a36
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd99a294d-3ad8-49d6-aac2-b9e05f00679f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 10:30:36 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd99a294d-3ad8-49d6-aac2-b9e05f00679f', 'x-amzn-bedrock-invocation-latency': '1394', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718d04c9e73711f01126a37
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.153.208.41 - - [23/Oct/2024 10:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8931fed0-d235-49fb-b541-6644428f84b3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 11:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8931fed0-d235-49fb-b541-6644428f84b3', 'x-amzn-bedrock-invocation-latency': '289', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd09d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6718de499e73711f01126a39
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b7b2edf3-a440-4153-85cf-eaa45c0cfa61', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 11:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b7b2edf3-a440-4153-85cf-eaa45c0cfa61', 'x-amzn-bedrock-invocation-latency': '1397', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bfa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718de4b9e73711f01126a3a
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.209.132 - - [23/Oct/2024 11:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6718ec949e73711f01126a3c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '067fb41d-a028-4a20-9a90-23573617d322', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 12:31:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '067fb41d-a028-4a20-9a90-23573617d322', 'x-amzn-bedrock-invocation-latency': '1455', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ea70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718ec969e73711f01126a3d
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.135.49 - - [23/Oct/2024 12:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.156.128.79 - - [23/Oct/2024 12:44:21] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a2ab773b-2934-4534-bf0c-e573b878ac3b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 13:31:17 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'a2ab773b-2934-4534-bf0c-e573b878ac3b', 'x-amzn-bedrock-invocation-latency': '330', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6718faa59e73711f01126a3f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fa6d5d4e-0414-47a4-889f-691feaa24482', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 13:31:20 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'fa6d5d4e-0414-47a4-889f-691feaa24482', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6718faa89e73711f01126a40
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.215.67.29 - - [23/Oct/2024 13:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '72788386-f3f1-4e81-ad68-1c35b54b7c3b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 14:31:14 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '72788386-f3f1-4e81-ad68-1c35b54b7c3b', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2aa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671908b29e73711f01126a42
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0be4a70e-6cc7-40b5-b5cd-f21c87a9f9f6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 14:31:17 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '0be4a70e-6cc7-40b5-b5cd-f21c87a9f9f6', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7af20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671908b59e73711f01126a43
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.235.97 - - [23/Oct/2024 14:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '52769707-0693-4043-90ee-80ca086e52fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 15:31:15 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '52769707-0693-4043-90ee-80ca086e52fa', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ce50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671916c39e73711f01126a45
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '363e1972-3c34-4aa5-a422-63b98636811a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 15:31:18 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '363e1972-3c34-4aa5-a422-63b98636811a', 'x-amzn-bedrock-invocation-latency': '1441', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7afb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671916c69e73711f01126a46
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.54.220 - - [23/Oct/2024 15:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '32eea93e-0290-4e71-90bc-6d2d427de930', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 16:30:15 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '32eea93e-0290-4e71-90bc-6d2d427de930', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671924979e73711f01126a48
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7db4b8ec-52a7-4788-8c1b-c8c0b6119560', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 16:30:18 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '7db4b8ec-52a7-4788-8c1b-c8c0b6119560', 'x-amzn-bedrock-invocation-latency': '1307', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3af0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719249a9e73711f01126a49
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.197.34.130 - - [23/Oct/2024 16:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671932ba9e73711f01126a4b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '190d621e-2d10-4a34-8fa8-02c58267440d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 17:30:37 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '190d621e-2d10-4a34-8fa8-02c58267440d', 'x-amzn-bedrock-invocation-latency': '1495', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd37c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671932bd9e73711f01126a4c
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [23/Oct/2024 17:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671940dd9e73711f01126a4e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5dea95e2-b7ce-42e5-b74b-daa5ed348cc5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 18:30:56 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5dea95e2-b7ce-42e5-b74b-daa5ed348cc5', 'x-amzn-bedrock-invocation-latency': '1503', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79a80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671940e09e73711f01126a4f
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [23/Oct/2024 18:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06aa97ce-4920-4848-aff3-fe82fe9238ac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 19:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '06aa97ce-4920-4848-aff3-fe82fe9238ac', 'x-amzn-bedrock-invocation-latency': '386', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e590>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67194ebf9e73711f01126a51
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '704485a7-26af-474e-9483-6129db2324b9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 19:30:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '704485a7-26af-474e-9483-6129db2324b9', 'x-amzn-bedrock-invocation-latency': '1343', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b4f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67194ec29e73711f01126a52
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [23/Oct/2024 19:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.159 - - [23/Oct/2024 20:23:54] "[33mGET / HTTP/1.0[0m" 404 -
INFO:werkzeug:147.185.132.42 - - [23/Oct/2024 20:26:03] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67195d109e73711f01126a54
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fb87bee3-eb33-4719-b6c0-ce1b3950849b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 20:31:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fb87bee3-eb33-4719-b6c0-ce1b3950849b', 'x-amzn-bedrock-invocation-latency': '1436', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3b20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67195d139e73711f01126a55
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.210.91 - - [23/Oct/2024 20:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3e112235-6d33-4694-9b34-8cbc223c513f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 21:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3e112235-6d33-4694-9b34-8cbc223c513f', 'x-amzn-bedrock-invocation-latency': '330', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1e10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67196aeb9e73711f01126a57
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0519f8a7-5087-4c76-98fb-ed3ea92ef606', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 21:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0519f8a7-5087-4c76-98fb-ed3ea92ef606', 'x-amzn-bedrock-invocation-latency': '1381', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78400>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67196aee9e73711f01126a58
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.93.30 - - [23/Oct/2024 21:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671979109e73711f01126a5a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c8d867c3-4643-4529-8de2-8c813d69209e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 22:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c8d867c3-4643-4529-8de2-8c813d69209e', 'x-amzn-bedrock-invocation-latency': '1396', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bc10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671979139e73711f01126a5b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.214.112 - - [23/Oct/2024 22:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:188.166.87.67 - - [23/Oct/2024 23:18:55] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671987339e73711f01126a5d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e5c9cca5-bfb2-49fd-9f05-028ea2c7911c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 23 Oct 2024 23:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e5c9cca5-bfb2-49fd-9f05-028ea2c7911c', 'x-amzn-bedrock-invocation-latency': '1462', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79db0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671987369e73711f01126a5e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.204.145.10 - - [23/Oct/2024 23:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e1209a9c-577a-4bd5-893d-1790ee81088f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 00:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e1209a9c-577a-4bd5-893d-1790ee81088f', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671995289e73711f01126a60
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e8fae390-1932-4998-b5a6-08f9d854c06f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 00:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e8fae390-1932-4998-b5a6-08f9d854c06f', 'x-amzn-bedrock-invocation-latency': '1444', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78a60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719952b9e73711f01126a61
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.214.232 - - [24/Oct/2024 00:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6719a35d9e73711f01126a63
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd83a1372-1022-49f6-825d-1787f54dc04d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 01:31:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd83a1372-1022-49f6-825d-1787f54dc04d', 'x-amzn-bedrock-invocation-latency': '1447', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a783d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719a3609e73711f01126a64
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.213.148.12 - - [24/Oct/2024 01:31:12] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:203.55.131.3 - - [24/Oct/2024 01:50:41] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:203.55.131.3 - - [24/Oct/2024 01:50:41] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03p \x87¬≤\x8dp√ùp\x9clP√å¬±\x8cY√Ø¬¶√ê[\x9d¬≠?√¢0z√∞¬®\x83;\x1d¬Øh ¬≤\x1d√ß]-\x85√§C\x13\x1e\x8b√ä=√å√®:cX9](K¬Ø¬¥D\x92√≠\x88\x8e('2\x00&√å¬®√å¬©√Ä/√Ä0√Ä+√Ä,√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:203.55.131.3 - - [24/Oct/2024 02:06:09] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:203.55.131.3 - - [24/Oct/2024 02:06:33] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'edef2554-99eb-47bf-9232-1c7fe3a2c523', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 02:31:12 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'edef2554-99eb-47bf-9232-1c7fe3a2c523', 'x-amzn-bedrock-invocation-latency': '334', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e3b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6719b1709e73711f01126a66
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '48dd1397-d262-4cd9-a8c1-1c2ec7d007dc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 02:31:14 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '48dd1397-d262-4cd9-a8c1-1c2ec7d007dc', 'x-amzn-bedrock-invocation-latency': '1345', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719b1729e73711f01126a67
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.106.149 - - [24/Oct/2024 02:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d726e8a-0635-42a6-84d1-573929688382', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:30:28 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '8d726e8a-0635-42a6-84d1-573929688382', 'x-amzn-bedrock-invocation-latency': '372', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7af20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6719bf549e73711f01126a69
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0632cc48-dfd3-46f0-9c22-646aa22f205c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:30:30 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '0632cc48-dfd3-46f0-9c22-646aa22f205c', 'x-amzn-bedrock-invocation-latency': '1409', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a791b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719bf569e73711f01126a6a
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.117.166 - - [24/Oct/2024 03:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the notice period?', 'conversation_id': 'a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd'}
INFO:__main__:Received query: what is the notice period?
INFO:__main__:Received conversation_id: a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6719c5509e73711f01126a6c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6e45ac00-539f-4c27-943a-62e83dceb012', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:56:04 GMT', 'content-type': 'application/json', 'content-length': '1080', 'connection': 'keep-alive', 'x-amzn-requestid': '6e45ac00-539f-4c27-943a-62e83dceb012', 'x-amzn-bedrock-invocation-latency': '2894', 'x-amzn-bedrock-output-token-count': '283', 'x-amzn-bedrock-input-token-count': '814'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ad10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The notice period at Gemini Solutions is 3 months duration after resignation, and it is not negotiable. However, it may be possible to buy out the notice period after necessary approvals.\",\n    \"References\": [\n        {\n            \"Statement\": \"Notice period is of 3 months duration after your resignation\",\n            \"source\": \"HR - Exit Policy.csv - Sheet1 - Index: 1\"\n        },\n        {\n            \"Statement\": \"No, Unfortunately it is of standard 3 months duration\",\n            \"source\": \"HR - Exit Policy.csv - Sheet1 - Index: 3\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd\",\n        \"query\": \"what is the notice period?\",\n        \"source\": \"HR - Exit Policy.csv, Gemini-EXIT POLICY_Version 7.0_India.pdf\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":814,"generation_token_count":283,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719c5549e73711f01126a6d
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [24/Oct/2024 03:56:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'okay', 'conversation_id': 'a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd'}
INFO:__main__:Received query: okay
INFO:__main__:Received conversation_id: a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a6598e9b-04c9-4a1d-97a4-be38467eeba3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:56:20 GMT', 'content-type': 'application/json', 'content-length': '180', 'connection': 'keep-alive', 'x-amzn-requestid': 'a6598e9b-04c9-4a1d-97a4-be38467eeba3', 'x-amzn-bedrock-invocation-latency': '284', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '290'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what's next after the notice period?\"\n}","prompt_token_count":290,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what's next after the notice period?
INFO:__main__:Query stored successfully with ID: 6719c5649e73711f01126a6f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '950b4550-ae39-474c-9031-2a2907e87c4d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:56:23 GMT', 'content-type': 'application/json', 'content-length': '848', 'connection': 'keep-alive', 'x-amzn-requestid': '950b4550-ae39-474c-9031-2a2907e87c4d', 'x-amzn-bedrock-invocation-latency': '2078', 'x-amzn-bedrock-output-token-count': '224', 'x-amzn-bedrock-input-token-count': '841'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78ee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"After the notice period, your employment with Gemini Solutions will officially come to an end. You will not be required to work for the company beyond the notice period.\",\n    \"References\": [\n        {\n            \"Statement\": \"Notice period is of 3 months duration after your resignation\",\n            \"source\": \"HR - Exit Policy.csv - Sheet1 - Index: 1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd\",\n        \"query\": \"what's next after the notice period?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":841,"generation_token_count":224,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719c5679e73711f01126a70
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [24/Oct/2024 03:56:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'tell me more about casual leaves', 'conversation_id': 'a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd'}
INFO:__main__:Received query: tell me more about casual leaves
INFO:__main__:Received conversation_id: a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '05ac71cd-821c-4f04-9c1c-7c4189f39c47', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:56:43 GMT', 'content-type': 'application/json', 'content-length': '217', 'connection': 'keep-alive', 'x-amzn-requestid': '05ac71cd-821c-4f04-9c1c-7c4189f39c47', 'x-amzn-bedrock-invocation-latency': '330', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '382'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbb20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are the leave policies at Gemini Solutions, including casual leaves?\"\n}","prompt_token_count":382,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are the leave policies at Gemini Solutions, including casual leaves?
INFO:__main__:Query stored successfully with ID: 6719c57b9e73711f01126a72
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '09531a80-a1a4-4993-8c7c-54d1b95b9b4e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:56:48 GMT', 'content-type': 'application/json', 'content-length': '1655', 'connection': 'keep-alive', 'x-amzn-requestid': '09531a80-a1a4-4993-8c7c-54d1b95b9b4e', 'x-amzn-bedrock-invocation-latency': '3878', 'x-amzn-bedrock-output-token-count': '423', 'x-amzn-bedrock-input-token-count': '1218'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"At Gemini Solutions, the leave policies include casual leaves, sick leaves, and privilege leaves. According to the policy, every confirmed employee is allowed 7 days of sick leave on full fixed pay in one leave year. Additionally, employees are entitled to 7 casual leaves (CLs) and 1.5 privilege leaves (PLs) per month. For new joiners, CLs and SLs are calculated on a pro-rata basis. It is recommended to discuss and agree on the timings of leave with the respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave.\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        },\n        {\n            \"Statement\": \"Gemini Solutions provides 7 Casual Leaves (CLs), 7 Sick Leaves (SLs) annually, and 1.5 Privilege Leaves (PLs) per month.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Sheet Name: Feedbacks - Index: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd\",\n        \"query\": \"what are the leave policies at Gemini Solutions, including casual leaves?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf and Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1218,"generation_token_count":423,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719c5809e73711f01126a73
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [24/Oct/2024 03:56:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can we take 3 cls together?', 'conversation_id': 'a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd'}
INFO:__main__:Received query: can we take 3 cls together?
INFO:__main__:Received conversation_id: a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '32f6e272-4d48-41ae-a122-4e6c708f35a4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:57:19 GMT', 'content-type': 'application/json', 'content-length': '217', 'connection': 'keep-alive', 'x-amzn-requestid': '32f6e272-4d48-41ae-a122-4e6c708f35a4', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '521'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78be0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are the rules for taking casual leaves together at Gemini Solutions?\"\n}","prompt_token_count":521,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are the rules for taking casual leaves together at Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6719c59f9e73711f01126a75
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '400ff513-45d3-4509-bbb4-bb656b0c372d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 03:57:24 GMT', 'content-type': 'application/json', 'content-length': '1572', 'connection': 'keep-alive', 'x-amzn-requestid': '400ff513-45d3-4509-bbb4-bb656b0c372d', 'x-amzn-bedrock-invocation-latency': '3556', 'x-amzn-bedrock-output-token-count': '364', 'x-amzn-bedrock-input-token-count': '1125'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42770>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, employees are encouraged to discuss and agree on the timings of their leave with their respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior). There is no specific rule mentioned for taking casual leaves together. However, employees are expected to inform their reporting manager if they are required to take a leave unexpectedly, and in situations where prior permission is not possible, they should intimate the respective Lead/Manager and HR with the reason of the absence, expected date of resuming work, and seeking approval for the same.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees are encouraged to discuss and agree on the timings of their leave with them respective reporting manager/team leads/vertical head and obtain prior sanction before proceeding on leave (2 weeks prior).\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 8\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Ame40W8-C6EjVgnf4XrTG0BC3qer51B4GVmqa0kwS-pSyTHQYulmajp8ao2Kb2FFfaKSexUCPSTgWskl2TsUWFp04FJYcGfjAkdNwKyfcev6lvv2hEOYxA6slta56TBd\",\n        \"query\": \"what are the rules for taking casual leaves together at Gemini Solutions?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1125,"generation_token_count":364,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719c5a49e73711f01126a76
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [24/Oct/2024 03:57:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6719cd689e73711f01126a78
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ad6881bb-1ac7-463a-bb5e-76067a3cecdf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 04:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ad6881bb-1ac7-463a-bb5e-76067a3cecdf', 'x-amzn-bedrock-invocation-latency': '1414', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b0a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719cd6b9e73711f01126a79
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.26.45 - - [24/Oct/2024 04:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dbdf7d92-94f0-4189-9ab3-3b3bc9713f2b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 05:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'dbdf7d92-94f0-4189-9ab3-3b3bc9713f2b', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb310>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6719db629e73711f01126a7b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2ad9c273-4421-46b4-b673-5ac7fe0d8d5c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 05:30:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2ad9c273-4421-46b4-b673-5ac7fe0d8d5c', 'x-amzn-bedrock-invocation-latency': '1358', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ac80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719db659e73711f01126a7c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.26.45 - - [24/Oct/2024 05:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6719e97a9e73711f01126a7e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8c0cc5d-86e5-401f-ba98-8f7424385eef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 06:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8c0cc5d-86e5-401f-ba98-8f7424385eef', 'x-amzn-bedrock-invocation-latency': '1458', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719e97d9e73711f01126a7f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.199.95 - - [24/Oct/2024 06:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5bbab545-2a34-4aa5-ade1-66c968a0754c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 07:30:12 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5bbab545-2a34-4aa5-ade1-66c968a0754c', 'x-amzn-bedrock-invocation-latency': '288', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79c00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6719f7849e73711f01126a81
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd2b9ae22-9ef7-4325-99c0-2e3276eb83c7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 07:30:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd2b9ae22-9ef7-4325-99c0-2e3276eb83c7', 'x-amzn-bedrock-invocation-latency': '1414', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43cd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6719f7879e73711f01126a82
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [24/Oct/2024 07:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671a05cc9e73711f01126a84
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6ee22cc1-376c-476c-8052-9fbb6cd24089', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 08:31:11 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6ee22cc1-376c-476c-8052-9fbb6cd24089', 'x-amzn-bedrock-invocation-latency': '1400', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79fc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a05cf9e73711f01126a85
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.193.30 - - [24/Oct/2024 08:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the app we use for consulting doctors under our mediclaim', 'conversation_id': 'a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi'}
INFO:__main__:Received query: what is the app we use for consulting doctors under our mediclaim
INFO:__main__:Received conversation_id: a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671a06239e73711f01126a87
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eb21ca6a-02e6-4092-950f-3cd9dc81ea0e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 08:32:39 GMT', 'content-type': 'application/json', 'content-length': '865', 'connection': 'keep-alive', 'x-amzn-requestid': 'eb21ca6a-02e6-4092-950f-3cd9dc81ea0e', 'x-amzn-bedrock-invocation-latency': '2316', 'x-amzn-bedrock-output-token-count': '226', 'x-amzn-bedrock-input-token-count': '1057'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ae30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, the provided information does not mention a specific app for consulting doctors under our mediclaim. However, it's possible that the information is not publicly available or is stored in a different document.\",\n    \"References\": [\n        {\n            \"Statement\": \"No relevant information found\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi\",\n        \"query\": \"what is the app we use for consulting doctors under our mediclaim\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1057,"generation_token_count":226,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a06279e73711f01126a88
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [24/Oct/2024 08:32:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '833ce2d7-bdeb-42ae-bd44-894babdc64a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 09:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '833ce2d7-bdeb-42ae-bd44-894babdc64a6', 'x-amzn-bedrock-invocation-latency': '310', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b430>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671a139f9e73711f01126a8a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3b441c4e-cf35-4356-b08e-50068b68dad8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 09:30:09 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3b441c4e-cf35-4356-b08e-50068b68dad8', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79b70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a13a19e73711f01126a8b
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.38.197 - - [24/Oct/2024 09:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671a21b39e73711f01126a8d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c2760338-990a-4b8f-8250-b12ca51dd891', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 10:30:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c2760338-990a-4b8f-8250-b12ca51dd891', 'x-amzn-bedrock-invocation-latency': '1461', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41b10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a21b69e73711f01126a8e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.175.92 - - [24/Oct/2024 10:30:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671a2fc99e73711f01126a90
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd1f255d2-c4a3-447d-bf31-62f0145bb13c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 11:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd1f255d2-c4a3-447d-bf31-62f0145bb13c', 'x-amzn-bedrock-invocation-latency': '1410', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7aaa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a2fcb9e73711f01126a91
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.175.92 - - [24/Oct/2024 11:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9be343d9-4da3-4d0b-a92b-37faa0e09055', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 12:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9be343d9-4da3-4d0b-a92b-37faa0e09055', 'x-amzn-bedrock-invocation-latency': '314', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ee30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671a3dd89e73711f01126a93
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4f1cfb1f-67d8-4950-889f-38e23ef00f78', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 12:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4f1cfb1f-67d8-4950-889f-38e23ef00f78', 'x-amzn-bedrock-invocation-latency': '1337', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ab00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a3ddb9e73711f01126a94
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.18.248 - - [24/Oct/2024 12:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671a4c229e73711f01126a96
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a0ae991-5b42-4dc5-9f53-e89d4bc393b4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 13:31:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9a0ae991-5b42-4dc5-9f53-e89d4bc393b4', 'x-amzn-bedrock-invocation-latency': '1457', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a920>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a4c259e73711f01126a97
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.18.248 - - [24/Oct/2024 13:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9858deab-6b80-4687-80bc-3658374ee057', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 14:30:12 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9858deab-6b80-4687-80bc-3658374ee057', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a590>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671a59f49e73711f01126a99
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2e91f081-6adf-491f-9429-2fa335587500', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 14:30:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2e91f081-6adf-491f-9429-2fa335587500', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a59f79e73711f01126a9a
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.43.199 - - [24/Oct/2024 14:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671a682e9e73711f01126a9c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9a55cdc-2218-4a51-a887-35b7a334fac3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 15:30:56 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9a55cdc-2218-4a51-a887-35b7a334fac3', 'x-amzn-bedrock-invocation-latency': '1490', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a68309e73711f01126a9d
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.183.33 - - [24/Oct/2024 15:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e58a171-70e7-459a-8e2c-838658aa2116', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 16:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1e58a171-70e7-459a-8e2c-838658aa2116', 'x-amzn-bedrock-invocation-latency': '375', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e110>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671a762c9e73711f01126a9f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6407db00-9220-4b37-8a84-3c6c3dbf22f5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 16:30:39 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6407db00-9220-4b37-8a84-3c6c3dbf22f5', 'x-amzn-bedrock-invocation-latency': '1439', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a9e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a762f9e73711f01126aa0
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.216.90.142 - - [24/Oct/2024 16:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e5352057-44d5-4eab-9708-9f74200c9f2d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 17:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e5352057-44d5-4eab-9708-9f74200c9f2d', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671a84229e73711f01126aa2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '039eb6a2-eb9e-490c-a863-ebe1cdd37b78', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 17:30:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '039eb6a2-eb9e-490c-a863-ebe1cdd37b78', 'x-amzn-bedrock-invocation-latency': '1342', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a418a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a84249e73711f01126aa3
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.70.63.128 - - [24/Oct/2024 17:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671a939b9e73711f01126aa5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c49cd4f9-d6c3-4510-861f-7c2833dd0886', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 18:36:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c49cd4f9-d6c3-4510-861f-7c2833dd0886', 'x-amzn-bedrock-invocation-latency': '1456', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671a939e9e73711f01126aa6
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.217.40 - - [24/Oct/2024 18:36:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '63254ddf-f962-44ff-af11-8970b6968aec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 19:30:55 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '63254ddf-f962-44ff-af11-8970b6968aec', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671aa06f9e73711f01126aa8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '507b811b-6082-4598-ace9-0bc955afc740', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 19:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '507b811b-6082-4598-ace9-0bc955afc740', 'x-amzn-bedrock-invocation-latency': '1454', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671aa0719e73711f01126aa9
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.110.97 - - [24/Oct/2024 19:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1e25090b-7362-42bf-8350-44d3e47b5021', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 20:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1e25090b-7362-42bf-8350-44d3e47b5021', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ecb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671aae5a9e73711f01126aab
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '11acde80-3d07-41f5-b35b-1aef378b4ec5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 20:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '11acde80-3d07-41f5-b35b-1aef378b4ec5', 'x-amzn-bedrock-invocation-latency': '1445', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40b80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671aae5d9e73711f01126aac
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.110.97 - - [24/Oct/2024 20:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671abc899e73711f01126aae
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd300e403-3f66-41a5-9253-396439081bce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 21:30:51 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd300e403-3f66-41a5-9253-396439081bce', 'x-amzn-bedrock-invocation-latency': '1375', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43b20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671abc8b9e73711f01126aaf
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.197.61 - - [24/Oct/2024 21:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.21 - - [24/Oct/2024 21:34:39] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '76b392de-cbba-43d7-b7c0-bfaeb2a7973b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 22:30:28 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '76b392de-cbba-43d7-b7c0-bfaeb2a7973b', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2680>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671aca849e73711f01126ab1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '21a7fb93-d210-4667-961f-6818ed7b2ac3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 22:30:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '21a7fb93-d210-4667-961f-6818ed7b2ac3', 'x-amzn-bedrock-invocation-latency': '1452', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42920>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671aca879e73711f01126ab2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.197.61 - - [24/Oct/2024 22:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7d50b635-8b13-4517-bdd1-2ce8c6805af2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 23:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7d50b635-8b13-4517-bdd1-2ce8c6805af2', 'x-amzn-bedrock-invocation-latency': '365', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e2800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671ad87d9e73711f01126ab4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7d72b9ff-d75a-4d65-b810-5eee33fc6953', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 24 Oct 2024 23:30:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7d72b9ff-d75a-4d65-b810-5eee33fc6953', 'x-amzn-bedrock-invocation-latency': '1418', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ad8809e73711f01126ab5
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.110.97 - - [24/Oct/2024 23:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671ae69e9e73711f01126ab7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '16a90a5f-f7e3-4535-8332-f4efa919f821', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 00:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '16a90a5f-f7e3-4535-8332-f4efa919f821', 'x-amzn-bedrock-invocation-latency': '1405', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1c30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ae6a19e73711f01126ab8
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.236.240.78 - - [25/Oct/2024 00:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '30858f16-4dd9-4a27-8e0e-2ac7c40fbf20', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 01:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '30858f16-4dd9-4a27-8e0e-2ac7c40fbf20', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671af4a69e73711f01126aba
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7df24769-abdc-48e7-8684-a673bbb79d08', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 01:30:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7df24769-abdc-48e7-8684-a673bbb79d08', 'x-amzn-bedrock-invocation-latency': '1492', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a400d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671af4a99e73711f01126abb
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.6.244 - - [25/Oct/2024 01:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671b02c49e73711f01126abd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '11081d07-6c2d-428f-a7c6-2ef3590a7f2c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 02:30:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '11081d07-6c2d-428f-a7c6-2ef3590a7f2c', 'x-amzn-bedrock-invocation-latency': '1515', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b02c79e73711f01126abe
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.159.92 - - [25/Oct/2024 02:30:31] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:5.101.6.131 - - [25/Oct/2024 02:56:51] code 400, message Bad request version ("¬Øn√£Y¬ªbhl√ø(=':¬©\x82√ôo√à¬¢√ó\x93\x98¬¥√Ø\x80√•¬π\x90\x00(√Ä")
INFO:werkzeug:5.101.6.131 - - [25/Oct/2024 02:56:51] "[31m[1m\x16\x03\x02\x01o\x01\x00\x01k\x03\x02RH√Ö\x1a#√∑:N√ü√¢¬¥\x82/√ø\x09T\x9f¬ß√Ñy¬∞h√Ü\x13\x8c¬§\x1c="√°\x1a\x98 \x84¬¥,\x85¬Øn√£Y¬ªbhl√ø(=':¬©\x82√ôo√à¬¢√ó\x93\x98¬¥√Ø\x80√•¬π\x90\x00(√Ä[0m" 400 -
ERROR:werkzeug:5.101.0.66 - - [25/Oct/2024 02:57:11] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:5.101.0.66 - - [25/Oct/2024 02:57:11] "[31m[1m\x16\x03\x01\x05¬®\x01\x00\x05¬§\x03\x03"√òk8√Ñ√Ω1\x0f¬∏\x87\x95√ªQE9¬Ω\x97√Ω\x07\x19#\x99√Ö√ºz$\x82√¶√†F\x03¬µ ,√∂\x02G\x8a\x8d¬æ√õ√ø6\x9bF\x85\x0f/¬¢K8√ºbB√æo9√Ñ√Å√ë√æ√•√®\x07√å\x00\x1a√å¬©√å¬®√Ä+√Ä/√Ä,√Ä0√Ä\x09√Ä\x13√Ä[0m" 400 -
INFO:werkzeug:5.101.0.66 - - [25/Oct/2024 02:57:11] "[33mGET /v2/_catalog HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671b10e69e73711f01126ac0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8e81b343-a2be-432b-b632-b5d115b387cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 03:30:48 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8e81b343-a2be-432b-b632-b5d115b387cb', 'x-amzn-bedrock-invocation-latency': '1380', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbb20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b10e89e73711f01126ac1
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.159.92 - - [25/Oct/2024 03:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.202 - - [25/Oct/2024 04:02:11] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0ab31184-ebc2-4586-ab9d-05bcb4563a0e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 04:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0ab31184-ebc2-4586-ab9d-05bcb4563a0e', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671b1edb9e73711f01126ac3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fdc40305-0218-4085-a762-93065100cd77', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 04:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fdc40305-0218-4085-a762-93065100cd77', 'x-amzn-bedrock-invocation-latency': '1487', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b1ede9e73711f01126ac4
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.138.233 - - [25/Oct/2024 04:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a14c7f76-4662-4928-8c7e-ced06fce3174', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 05:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a14c7f76-4662-4928-8c7e-ced06fce3174', 'x-amzn-bedrock-invocation-latency': '277', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf92a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671b2cea9e73711f01126ac6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5c0c01d7-c9bf-49dc-b399-8bd9cb75c9c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 05:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5c0c01d7-c9bf-49dc-b399-8bd9cb75c9c6', 'x-amzn-bedrock-invocation-latency': '1416', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41690>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b2ced9e73711f01126ac7
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.152.16.155 - - [25/Oct/2024 05:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671b3b439e73711f01126ac9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aabef6c5-d96d-40d6-9373-0c1bfa1c82c9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 06:31:34 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'aabef6c5-d96d-40d6-9373-0c1bfa1c82c9', 'x-amzn-bedrock-invocation-latency': '1423', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b3b469e73711f01126aca
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.152.16.155 - - [25/Oct/2024 06:31:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f9899d5e-8a7b-4d1f-acdd-bfd73e4c4379', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 07:30:51 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f9899d5e-8a7b-4d1f-acdd-bfd73e4c4379', 'x-amzn-bedrock-invocation-latency': '290', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b0d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671b492b9e73711f01126acc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0dad8d95-b28d-4e78-8cdd-73533f9e97e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 07:30:54 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0dad8d95-b28d-4e78-8cdd-73533f9e97e8', 'x-amzn-bedrock-invocation-latency': '1325', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41060>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b492e9e73711f01126acd
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.144.61 - - [25/Oct/2024 07:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:65.49.1.74 - - [25/Oct/2024 07:39:23] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:65.49.1.77 - - [25/Oct/2024 07:39:39] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04b6e8a3-6e6d-4d7a-972d-4120c88ac236', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 08:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '04b6e8a3-6e6d-4d7a-972d-4120c88ac236', 'x-amzn-bedrock-invocation-latency': '314', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671b57239e73711f01126acf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8ade7a20-4f4f-422e-9ca3-d779cf505d39', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 08:30:29 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8ade7a20-4f4f-422e-9ca3-d779cf505d39', 'x-amzn-bedrock-invocation-latency': '1424', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a419c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b57259e73711f01126ad0
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.151.7 - - [25/Oct/2024 08:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671b65509e73711f01126ad2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '39392350-2b98-4189-adbb-6f1c0037f4ef', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 09:30:59 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '39392350-2b98-4189-adbb-6f1c0037f4ef', 'x-amzn-bedrock-invocation-latency': '1439', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b65539e73711f01126ad3
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.72.207.14 - - [25/Oct/2024 09:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'when can you sell esops?', 'conversation_id': 'a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41'}
INFO:__main__:Received query: when can you sell esops?
INFO:__main__:Received conversation_id: a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671b65719e73711f01126ad5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1c4b7657-f285-4a5a-b934-069a7b491eb2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 09:31:34 GMT', 'content-type': 'application/json', 'content-length': '1258', 'connection': 'keep-alive', 'x-amzn-requestid': '1c4b7657-f285-4a5a-b934-069a7b491eb2', 'x-amzn-bedrock-invocation-latency': '3062', 'x-amzn-bedrock-output-token-count': '331', 'x-amzn-bedrock-input-token-count': '932'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42ef0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"You can sell ESOPs after they are vested to you. ESOPs vest over 4 consecutive years, with 25% each year. Additionally, you can sell your vested ESOPs through a buyback option, which is offered by the company based on management discretion. Once notified, you can request a buyback by emailing esop@geminisolutions.com.\",\n    \"References\": [\n        {\n            \"Statement\": \"ESOPs vest over 4 consecutive years, with 25% each year.\",\n            \"source\": \"Accounts - Remuneration.csv, Sheet1, Index: 40\"\n        },\n        {\n            \"Statement\": \"The company reserves the right to offer buyback options based on management discretion.\",\n            \"source\": \"Accounts - Remuneration.csv, Sheet1, Index: 41\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:192HMUPLIEJ4axCjC2GQK1wPTaON3xTropxy3DdAhQrJRsHcJINmtaUsKM6v0l-9By7MoCRKKbzyUw0MLnPzMAlgSBjlMIincMxSF9i6HXZypXnIDGYK8PRisqnlpoE41\",\n        \"query\": \"when can you sell esops?\",\n        \"source\": \"Gemini-ESOP scheme - final 1_India.pdf, Accounts - Remuneration.csv\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":932,"generation_token_count":331,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b65769e73711f01126ad6
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [25/Oct/2024 09:31:34] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:98.80.4.74 - - [25/Oct/2024 10:24:23] code 400, message Bad request version ("6√î\x0e\x1brc\x93\x94\x94g*%'r¬øQs\x924o[\x00V\x13\x02\x13\x03\x13\x01√Ä,√Ä0√Ä+√Ä/√å¬©√å¬®\x00\x9f\x00\x9e√å¬™√Ä¬Ø√Ä\xad√Ä¬Æ√Ä¬¨√Ä$√Ä(√Ä#√Ä'√Ä")
INFO:werkzeug:98.80.4.74 - - [25/Oct/2024 10:24:23] "[31m[1m\x16\x03\x01\x02\x00\x01\x00\x01√º\x03\x03V\x02-√¥@6$r#√Ü√í√¢√¨\x8b&\x9e\x9b√ë6\x99d\x88√¶"√Ü√µ\x98B√æ√¥dw wKA√º¬≥√µ√Å\x04√Ñ¬∏\x856√î\x0e\x1brc\x93\x94\x94g*%'r¬øQs\x924o[\x00V\x13\x02\x13\x03\x13\x01√Ä,√Ä0√Ä+√Ä/√å¬©√å¬®\x00\x9f\x00\x9e√å¬™√Ä¬Ø√Ä¬≠√Ä¬Æ√Ä¬¨√Ä$√Ä(√Ä#√Ä'√Ä[0m" 400 -
INFO:werkzeug:98.80.4.74 - - [25/Oct/2024 10:24:24] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cde80075-4f57-40b5-95f6-cf314d896597', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 10:30:46 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cde80075-4f57-40b5-95f6-cf314d896597', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671b73569e73711f01126ad8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '90f46c77-42e7-4891-be31-4dc613262b35', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 10:30:48 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '90f46c77-42e7-4891-be31-4dc613262b35', 'x-amzn-bedrock-invocation-latency': '1430', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b73589e73711f01126ad9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.174.50.235 - - [25/Oct/2024 10:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:165.154.120.253 - - [25/Oct/2024 10:37:48] "[33mGET / HTTP/1.1[0m" 404 -
ERROR:werkzeug:165.154.120.253 - - [25/Oct/2024 10:37:49] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:165.154.120.253 - - [25/Oct/2024 10:37:49] "[31m[1m\x16\x03\x01\x00√≤\x01\x00\x00√Æ\x03\x03√∞√â`\x04√çx√≠w\x09\x113√©gd√Å\x08\x81¬∞\x16i\x87{√≥√úW\x0f\x8f-E√ú<\x0d √§√¶√™¬∏¬º√í¬≥k\x10¬º\x8d k(S¬´*\x99√æ\x0f%√úp\x11¬´¬•W√õY√¥:b\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
ERROR:werkzeug:165.154.120.253 - - [25/Oct/2024 10:37:49] code 400, message Bad HTTP/0.9 request type ('t3')
INFO:werkzeug:165.154.120.253 - - [25/Oct/2024 10:37:49] "[31m[1mt3 12.1.2[0m" 400 -
INFO:werkzeug:87.236.176.183 - - [25/Oct/2024 10:57:30] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671b818d9e73711f01126adb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eea180ef-2d97-489c-bf90-69b11454e289', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 11:31:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'eea180ef-2d97-489c-bf90-69b11454e289', 'x-amzn-bedrock-invocation-latency': '1420', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42f50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b81909e73711f01126adc
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.151.7 - - [25/Oct/2024 11:31:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5d263ac3-de79-4ccf-aa65-389623137525', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 12:31:00 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5d263ac3-de79-4ccf-aa65-389623137525', 'x-amzn-bedrock-invocation-latency': '271', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bd00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671b8f849e73711f01126ade
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83d7ad69-c1c8-4510-b905-fcfe66f61bb8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 12:31:03 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '83d7ad69-c1c8-4510-b905-fcfe66f61bb8', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a431c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b8f879e73711f01126adf
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.53.146 - - [25/Oct/2024 12:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ad333437-5442-496a-9852-9f721b58d753', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 13:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ad333437-5442-496a-9852-9f721b58d753', 'x-amzn-bedrock-invocation-latency': '318', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42dd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671b9d859e73711f01126ae1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '33bc09a3-b062-42f8-8b15-e3b5f2f57a07', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 13:30:48 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '33bc09a3-b062-42f8-8b15-e3b5f2f57a07', 'x-amzn-bedrock-invocation-latency': '1393', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671b9d889e73711f01126ae2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.34.170 - - [25/Oct/2024 13:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671baba59e73711f01126ae4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4546a40e-f2e3-469d-9091-4a19d4f2d5a8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 14:31:04 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4546a40e-f2e3-469d-9091-4a19d4f2d5a8', 'x-amzn-bedrock-invocation-latency': '1394', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40ac0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671baba89e73711f01126ae5
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.238.141 - - [25/Oct/2024 14:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9992a009-722c-4de0-bfa7-069ea6fbe543', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 15:30:55 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9992a009-722c-4de0-bfa7-069ea6fbe543', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671bb9af9e73711f01126ae7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '00c6de89-8588-4f6a-900f-40390c05ab02', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 15:30:58 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '00c6de89-8588-4f6a-900f-40390c05ab02', 'x-amzn-bedrock-invocation-latency': '1441', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42f50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671bb9b29e73711f01126ae8
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.43.131 - - [25/Oct/2024 15:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '280207ce-37a8-4f26-926c-292d221ec41d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 16:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '280207ce-37a8-4f26-926c-292d221ec41d', 'x-amzn-bedrock-invocation-latency': '329', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671bc7a69e73711f01126aea
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3f4ef916-add1-4d90-b341-c61096a9477e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 16:30:33 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3f4ef916-add1-4d90-b341-c61096a9477e', 'x-amzn-bedrock-invocation-latency': '1441', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a426e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671bc7a99e73711f01126aeb
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.155.115 - - [25/Oct/2024 16:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5d4a949c-187b-454d-9fe7-e4af777725c8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 17:30:31 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '5d4a949c-187b-454d-9fe7-e4af777725c8', 'x-amzn-bedrock-invocation-latency': '322', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671bd5b79e73711f01126aed
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd1c814c7-20c7-49c4-9313-5c86958d6b36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 17:30:33 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'd1c814c7-20c7-49c4-9313-5c86958d6b36', 'x-amzn-bedrock-invocation-latency': '1432', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43a30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671bd5b99e73711f01126aee
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.208.62.77 - - [25/Oct/2024 17:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671be42e9e73711f01126af0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f2a8a106-f6cf-4cff-8a5b-cb6597381742', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 18:32:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f2a8a106-f6cf-4cff-8a5b-cb6597381742', 'x-amzn-bedrock-invocation-latency': '1503', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a404f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671be4319e73711f01126af1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.130.212 - - [25/Oct/2024 18:32:17] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:48.217.211.246 - - [25/Oct/2024 19:03:01] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bf38de2b-6a27-4ce3-9339-af68fa908287', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 19:30:55 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bf38de2b-6a27-4ce3-9339-af68fa908287', 'x-amzn-bedrock-invocation-latency': '318', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5258d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671bf1ef9e73711f01126af3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfa6e665-421a-45f0-8042-4c4626fae839', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 19:30:58 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfa6e665-421a-45f0-8042-4c4626fae839', 'x-amzn-bedrock-invocation-latency': '1448', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41480>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671bf1f29e73711f01126af4
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.236.85 - - [25/Oct/2024 19:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671c00159e73711f01126af6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '58793ab8-b581-4dab-a496-5a6adc6b58da', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 20:31:20 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '58793ab8-b581-4dab-a496-5a6adc6b58da', 'x-amzn-bedrock-invocation-latency': '1385', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42e00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c00189e73711f01126af7
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.163.88.65 - - [25/Oct/2024 20:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0fad063f-8777-4669-829b-338cb91d78e6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 21:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0fad063f-8777-4669-829b-338cb91d78e6', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a427a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671c0e039e73711f01126af9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '34bd003d-aa15-47b6-b8f0-247985e34137', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 21:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '34bd003d-aa15-47b6-b8f0-247985e34137', 'x-amzn-bedrock-invocation-latency': '1343', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a35180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c0e059e73711f01126afa
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.45.49 - - [25/Oct/2024 21:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:118.193.43.141 - - [25/Oct/2024 22:18:19] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:118.193.43.141 - - [25/Oct/2024 22:18:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:werkzeug:118.193.43.141 - - [25/Oct/2024 22:18:20] "[33mGET /sitemap.xml HTTP/1.1[0m" 404 -
INFO:werkzeug:118.193.43.141 - - [25/Oct/2024 22:18:20] "[33mGET /robots.txt HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8697d667-88a3-4d34-88b3-a53688af27c2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 22:30:32 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8697d667-88a3-4d34-88b3-a53688af27c2', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671c1c089e73711f01126afc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfff6df4-d874-4f1a-a9db-73c8a9e369d0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 22:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfff6df4-d874-4f1a-a9db-73c8a9e369d0', 'x-amzn-bedrock-invocation-latency': '1448', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c1c0b9e73711f01126afd
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.179.253 - - [25/Oct/2024 22:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.243 - - [25/Oct/2024 22:48:41] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '11e13288-3b74-4e63-b903-975ca0fefa2a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 23:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '11e13288-3b74-4e63-b903-975ca0fefa2a', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1270>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671c2a0e9e73711f01126aff
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3b92be9d-fce8-42bf-bf36-eec2fc3223b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 25 Oct 2024 23:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3b92be9d-fce8-42bf-bf36-eec2fc3223b6', 'x-amzn-bedrock-invocation-latency': '1423', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c2a119e73711f01126b00
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.45.140 - - [25/Oct/2024 23:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.36 - - [26/Oct/2024 00:27:28] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671c38249e73711f01126b02
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2010fc2e-845c-4032-8894-e8f7c0f68474', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 00:30:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2010fc2e-845c-4032-8894-e8f7c0f68474', 'x-amzn-bedrock-invocation-latency': '1505', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a422c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c38279e73711f01126b03
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.207.236.77 - - [26/Oct/2024 00:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0bc74b83-d4bc-4570-837c-d6b8305cd58d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 01:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0bc74b83-d4bc-4570-837c-d6b8305cd58d', 'x-amzn-bedrock-invocation-latency': '353', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671c46289e73711f01126b05
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '342c7f70-3931-428c-8314-066e9f6f9e07', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 01:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '342c7f70-3931-428c-8314-066e9f6f9e07', 'x-amzn-bedrock-invocation-latency': '1422', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c462b9e73711f01126b06
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.116.180 - - [26/Oct/2024 01:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671c546b9e73711f01126b08
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9286d0e4-3776-4182-977d-e0d466ddda2e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 02:31:09 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9286d0e4-3776-4182-977d-e0d466ddda2e', 'x-amzn-bedrock-invocation-latency': '1514', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2f20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c546d9e73711f01126b09
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.51.152 - - [26/Oct/2024 02:31:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4f5a9ab6-b3db-4824-ae30-15309515350d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 03:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4f5a9ab6-b3db-4824-ae30-15309515350d', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2a10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671c62579e73711f01126b0b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '675246d3-ad89-4288-8ded-de9c8a6e5871', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 03:30:34 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '675246d3-ad89-4288-8ded-de9c8a6e5871', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c625a9e73711f01126b0c
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [26/Oct/2024 03:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671c70919e73711f01126b0e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db3ae7e4-b524-4836-821b-673a2f47a64c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 04:31:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'db3ae7e4-b524-4836-821b-673a2f47a64c', 'x-amzn-bedrock-invocation-latency': '1483', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a3b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c70949e73711f01126b0f
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.51.152 - - [26/Oct/2024 04:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a8d21c58-1b6a-4454-aa1c-a48fd8b73964', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 05:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a8d21c58-1b6a-4454-aa1c-a48fd8b73964', 'x-amzn-bedrock-invocation-latency': '293', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526680>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671c7e769e73711f01126b11
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9e98fcf9-ccd7-47d7-8c7e-abecf2b68106', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 05:30:33 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9e98fcf9-ccd7-47d7-8c7e-abecf2b68106', 'x-amzn-bedrock-invocation-latency': '1401', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a3e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c7e799e73711f01126b12
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [26/Oct/2024 05:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671c8c9d9e73711f01126b14
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '158ab12a-cb0e-4fac-8449-9875d48a55a3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 06:30:55 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '158ab12a-cb0e-4fac-8449-9875d48a55a3', 'x-amzn-bedrock-invocation-latency': '1458', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2fee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c8c9f9e73711f01126b15
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.189.31 - - [26/Oct/2024 06:30:55] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671c9acd9e73711f01126b17
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1296904d-e975-49ab-96e9-eb2458f7d6ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 07:31:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1296904d-e975-49ab-96e9-eb2458f7d6ce', 'x-amzn-bedrock-invocation-latency': '1353', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79bd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671c9ad09e73711f01126b18
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.251.246 - - [26/Oct/2024 07:31:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd71a0705-ceae-4d9d-a675-0c056539cefa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 08:31:27 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'd71a0705-ceae-4d9d-a675-0c056539cefa', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2260>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671ca8df9e73711f01126b1a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '21ee3310-f30a-4f5e-9302-8667b8cb10fa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 08:31:30 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '21ee3310-f30a-4f5e-9302-8667b8cb10fa', 'x-amzn-bedrock-invocation-latency': '1415', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b7c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ca8e29e73711f01126b1b
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [26/Oct/2024 08:31:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cc35f30c-80f3-414e-847d-717d7c963fb9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 09:31:24 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'cc35f30c-80f3-414e-847d-717d7c963fb9', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a797b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671cb6ec9e73711f01126b1d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed805f98-ee6a-4cd5-915a-cbcf0fb6560a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 09:31:26 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed805f98-ee6a-4cd5-915a-cbcf0fb6560a', 'x-amzn-bedrock-invocation-latency': '1334', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671cb6ee9e73711f01126b1e
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [26/Oct/2024 09:31:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '30f8f41a-64ca-4b9d-b51d-a67eb7236756', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 10:30:09 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '30f8f41a-64ca-4b9d-b51d-a67eb7236756', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671cc4b19e73711f01126b20
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '11b08811-2d29-404b-a615-4eb56ebcbaad', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 10:30:11 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '11b08811-2d29-404b-a615-4eb56ebcbaad', 'x-amzn-bedrock-invocation-latency': '1320', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671cc4b39e73711f01126b21
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [26/Oct/2024 10:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671cd2c49e73711f01126b23
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '943f5e8f-0e9d-4204-8fb2-669bf0d9307b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 11:30:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '943f5e8f-0e9d-4204-8fb2-669bf0d9307b', 'x-amzn-bedrock-invocation-latency': '1399', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7afe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671cd2c79e73711f01126b24
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.165.145.229 - - [26/Oct/2024 11:30:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671ce1289e73711f01126b26
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '01bb9b93-d4be-44ba-8835-edd6d0781df9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 12:31:38 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '01bb9b93-d4be-44ba-8835-edd6d0781df9', 'x-amzn-bedrock-invocation-latency': '1502', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ad40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ce12a9e73711f01126b27
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.95.213.31 - - [26/Oct/2024 12:31:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8160ab0b-1713-44a7-bfa0-e06bc7408ecc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 13:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8160ab0b-1713-44a7-bfa0-e06bc7408ecc', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671ceeec9e73711f01126b29
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4892f1bb-643f-4401-8319-65687560c62e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 13:30:23 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4892f1bb-643f-4401-8319-65687560c62e', 'x-amzn-bedrock-invocation-latency': '1332', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfab60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ceeef9e73711f01126b2a
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.226.248.195 - - [26/Oct/2024 13:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671cfd2c9e73711f01126b2c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c478a9cb-2362-4312-be00-b03419a0852a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 14:31:11 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c478a9cb-2362-4312-be00-b03419a0852a', 'x-amzn-bedrock-invocation-latency': '1438', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671cfd2f9e73711f01126b2d
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.233.102.223 - - [26/Oct/2024 14:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:45.156.129.54 - - [26/Oct/2024 15:28:53] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d9ad82e-3b3e-4270-9fb9-1a5d9ab06a24', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 15:31:11 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '8d9ad82e-3b3e-4270-9fb9-1a5d9ab06a24', 'x-amzn-bedrock-invocation-latency': '371', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e05e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671d0b3f9e73711f01126b2f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '20c6f7f0-f7ab-4757-a2d7-c2a0b4a9aa03', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 15:31:14 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '20c6f7f0-f7ab-4757-a2d7-c2a0b4a9aa03', 'x-amzn-bedrock-invocation-latency': '1426', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d0b429e73711f01126b30
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [26/Oct/2024 15:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f5573eaf-11b7-43e6-8c22-eccea0a653cd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 16:30:44 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'f5573eaf-11b7-43e6-8c22-eccea0a653cd', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a650>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671d19349e73711f01126b32
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9dbae2db-eb71-4629-b667-4d8ffb46138a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 16:30:47 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '9dbae2db-eb71-4629-b667-4d8ffb46138a', 'x-amzn-bedrock-invocation-latency': '1436', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d19379e73711f01126b33
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.226.219 - - [26/Oct/2024 16:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671d27559e73711f01126b35
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8936277-ab91-4202-bdad-7a9a1da8e236', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 17:31:04 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8936277-ab91-4202-bdad-7a9a1da8e236', 'x-amzn-bedrock-invocation-latency': '1505', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb430>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d27589e73711f01126b36
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.203.211.252 - - [26/Oct/2024 17:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671d36a79e73711f01126b38
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1cf9b09b-f6eb-4b76-9ee2-8dd7a72c9d9d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 18:36:26 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1cf9b09b-f6eb-4b76-9ee2-8dd7a72c9d9d', 'x-amzn-bedrock-invocation-latency': '1509', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a785e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d36aa9e73711f01126b39
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.154.165 - - [26/Oct/2024 18:36:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5fae782b-03e7-44be-bf5c-6963efdc3e44', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 19:30:20 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5fae782b-03e7-44be-bf5c-6963efdc3e44', 'x-amzn-bedrock-invocation-latency': '354', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671d434c9e73711f01126b3b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3d9791e-6b59-48c4-95f6-4be44fade352', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 19:30:23 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3d9791e-6b59-48c4-95f6-4be44fade352', 'x-amzn-bedrock-invocation-latency': '1436', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5262c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d434f9e73711f01126b3c
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.27.31 - - [26/Oct/2024 19:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.8 - - [26/Oct/2024 19:44:56] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '00f4a1af-d1e5-4a3f-b29b-11ab29fd5e2e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 20:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '00f4a1af-d1e5-4a3f-b29b-11ab29fd5e2e', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ab30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671d515b9e73711f01126b3e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92fc0ca6-d049-47a2-ae58-d93fc2c57884', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 20:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '92fc0ca6-d049-47a2-ae58-d93fc2c57884', 'x-amzn-bedrock-invocation-latency': '1357', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d515e9e73711f01126b3f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.119.182 - - [26/Oct/2024 20:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.108 - - [26/Oct/2024 21:23:13] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671d5f7b9e73711f01126b41
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '84af427b-fe0f-4263-bb88-6cb313b5ea16', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 21:30:38 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '84af427b-fe0f-4263-bb88-6cb313b5ea16', 'x-amzn-bedrock-invocation-latency': '1535', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9c90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d5f7e9e73711f01126b42
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.82.203.4 - - [26/Oct/2024 21:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671d6d919e73711f01126b44
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6e91d001-cd8c-45ed-88fa-06649bf22dc8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 22:30:44 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6e91d001-cd8c-45ed-88fa-06649bf22dc8', 'x-amzn-bedrock-invocation-latency': '1365', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a680>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d6d949e73711f01126b45
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.238.23 - - [26/Oct/2024 22:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '771475f4-feb9-4239-b314-5bdcf490a8bd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 23:30:43 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '771475f4-feb9-4239-b314-5bdcf490a8bd', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671d7ba39e73711f01126b47
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4260afdb-01b4-43a4-86c8-e1ad2e7bc29b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 26 Oct 2024 23:30:45 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '4260afdb-01b4-43a4-86c8-e1ad2e7bc29b', 'x-amzn-bedrock-invocation-latency': '1336', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf85e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d7ba59e73711f01126b48
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.6.29.131 - - [26/Oct/2024 23:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671d89d19e73711f01126b4a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd81130a7-e832-4a41-a2a0-d2ba75b1a94f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 00:31:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd81130a7-e832-4a41-a2a0-d2ba75b1a94f', 'x-amzn-bedrock-invocation-latency': '1499', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d89d49e73711f01126b4b
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.173.190.245 - - [27/Oct/2024 00:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '69c563dd-fbdd-414c-8ec9-9a9631a6cc75', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 01:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '69c563dd-fbdd-414c-8ec9-9a9631a6cc75', 'x-amzn-bedrock-invocation-latency': '382', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1f60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671d97b39e73711f01126b4d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '860ab406-05f4-413c-a135-399374d120cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 01:30:29 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '860ab406-05f4-413c-a135-399374d120cb', 'x-amzn-bedrock-invocation-latency': '1423', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671d97b59e73711f01126b4e
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.208.245.92 - - [27/Oct/2024 01:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0f77e6e0-210a-4f93-8d06-b34b0717b7a7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 02:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0f77e6e0-210a-4f93-8d06-b34b0717b7a7', 'x-amzn-bedrock-invocation-latency': '376', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671da5b69e73711f01126b50
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6041d26e-633a-4e3a-9e24-aae37cc50ff9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 02:30:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6041d26e-633a-4e3a-9e24-aae37cc50ff9', 'x-amzn-bedrock-invocation-latency': '1338', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2d10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671da5b89e73711f01126b51
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.229.215 - - [27/Oct/2024 02:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671db3d09e73711f01126b53
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2af90f0c-19a9-4c59-8061-627c11988c81', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 03:30:26 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2af90f0c-19a9-4c59-8061-627c11988c81', 'x-amzn-bedrock-invocation-latency': '1457', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671db3d29e73711f01126b54
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.227.27.176 - - [27/Oct/2024 03:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671dc1e89e73711f01126b56
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '037c4181-3a55-4246-8c4e-f804eef0cb48', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 04:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '037c4181-3a55-4246-8c4e-f804eef0cb48', 'x-amzn-bedrock-invocation-latency': '1497', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671dc1eb9e73711f01126b57
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.208.245.92 - - [27/Oct/2024 04:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671dd00b9e73711f01126b59
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3db80d70-fc13-4c13-a8a4-9c832e9a9f1e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 05:30:54 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3db80d70-fc13-4c13-a8a4-9c832e9a9f1e', 'x-amzn-bedrock-invocation-latency': '1416', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671dd00e9e73711f01126b5a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.154.183 - - [27/Oct/2024 05:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8afe6724-ccca-4226-a102-0fe782437109', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 06:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8afe6724-ccca-4226-a102-0fe782437109', 'x-amzn-bedrock-invocation-latency': '279', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671dde139e73711f01126b5c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b9c9f3f1-5160-4db3-9325-35e733a31382', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 06:30:46 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b9c9f3f1-5160-4db3-9325-35e733a31382', 'x-amzn-bedrock-invocation-latency': '1443', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671dde169e73711f01126b5d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.88.178 - - [27/Oct/2024 06:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671dec439e73711f01126b5f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '696705d3-6a13-4761-8092-d3475fc314cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 07:31:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '696705d3-6a13-4761-8092-d3475fc314cb', 'x-amzn-bedrock-invocation-latency': '1498', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf87f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671dec469e73711f01126b60
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.91.51 - - [27/Oct/2024 07:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671dfa589e73711f01126b62
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3bff1795-c9f0-4334-913d-05a2a3dedece', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 08:31:23 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3bff1795-c9f0-4334-913d-05a2a3dedece', 'x-amzn-bedrock-invocation-latency': '1463', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfab60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671dfa5b9e73711f01126b63
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.80.206.12 - - [27/Oct/2024 08:31:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4241870b-8d74-42d1-bb7b-671e91533744', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 09:30:59 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4241870b-8d74-42d1-bb7b-671e91533744', 'x-amzn-bedrock-invocation-latency': '291', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671e08539e73711f01126b65
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cacb103f-3440-4fae-a5d1-14b8d0354e63', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 09:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cacb103f-3440-4fae-a5d1-14b8d0354e63', 'x-amzn-bedrock-invocation-latency': '1411', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e08569e73711f01126b66
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.26.4.247 - - [27/Oct/2024 09:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b0cbe6aa-f140-4ccc-b7fe-da2876546253', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 10:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b0cbe6aa-f140-4ccc-b7fe-da2876546253', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f250>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671e16389e73711f01126b68
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '86738221-d0df-403e-906c-a3737ae8a67d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 10:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '86738221-d0df-403e-906c-a3737ae8a67d', 'x-amzn-bedrock-invocation-latency': '1340', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa7a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e163b9e73711f01126b69
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.101.137 - - [27/Oct/2024 10:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671e244d9e73711f01126b6b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7ad168d8-8c46-48e9-bd03-63632daed0ca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 11:30:24 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7ad168d8-8c46-48e9-bd03-63632daed0ca', 'x-amzn-bedrock-invocation-latency': '1488', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa2c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e24509e73711f01126b6c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.32.224 - - [27/Oct/2024 11:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671e328b9e73711f01126b6e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2d1714e4-086c-4c52-9f00-90a560bb5c9e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 12:31:09 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2d1714e4-086c-4c52-9f00-90a560bb5c9e', 'x-amzn-bedrock-invocation-latency': '1463', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8a00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e328d9e73711f01126b6f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.231.56.136 - - [27/Oct/2024 12:31:09] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:173.212.213.6 - - [27/Oct/2024 13:18:05] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:173.212.213.6 - - [27/Oct/2024 13:18:05] "[31m[1m\x05\x01\x00[0m" 400 -
ERROR:werkzeug:173.212.213.6 - - [27/Oct/2024 13:18:20] code 400, message Bad request syntax ('\x04\x01\x00P\x8e√∫J√é\x00')
INFO:werkzeug:173.212.213.6 - - [27/Oct/2024 13:18:20] "[31m[1m\x04\x01\x00P\x8e√∫J√é\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d8bcb5f-1e58-48b2-bb6e-8270b0964e2c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 13:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8d8bcb5f-1e58-48b2-bb6e-8270b0964e2c', 'x-amzn-bedrock-invocation-latency': '442', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671e40739e73711f01126b71
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5d1f0446-3594-4c45-87ab-681453c4f23c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 13:30:30 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5d1f0446-3594-4c45-87ab-681453c4f23c', 'x-amzn-bedrock-invocation-latency': '1491', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e40769e73711f01126b72
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.29.11.78 - - [27/Oct/2024 13:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:65.49.20.69 - - [27/Oct/2024 13:50:22] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:65.49.20.69 - - [27/Oct/2024 13:50:35] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671e4e9c9e73711f01126b74
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '51bfd882-bf09-4379-9e9f-90c8d725b9cf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 14:30:55 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '51bfd882-bf09-4379-9e9f-90c8d725b9cf', 'x-amzn-bedrock-invocation-latency': '1481', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfad10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e4e9f9e73711f01126b75
INFO:__main__:Process completed successfully.
INFO:werkzeug:184.73.140.10 - - [27/Oct/2024 14:30:55] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [27/Oct/2024 15:01:30] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [27/Oct/2024 15:01:30] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671e5cca9e73711f01126b77
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fbf3a2a3-ec1e-45c9-ae0c-92ce7cd5fcee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 15:31:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fbf3a2a3-ec1e-45c9-ae0c-92ce7cd5fcee', 'x-amzn-bedrock-invocation-latency': '1448', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfada0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e5ccd9e73711f01126b78
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.200.217.225 - - [27/Oct/2024 15:31:25] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:18.97.5.5 - - [27/Oct/2024 16:03:31] code 400, message Bad request version ("\x82\x96√π\x95√•e]√¥\x04√Ö\x9e\x00V\x13\x02\x13\x03\x13\x01√Ä,√Ä0√Ä+√Ä/√å¬©√å¬®\x00\x9f\x00\x9e√å¬™√Ä¬Ø√Ä\xad√Ä¬Æ√Ä¬¨√Ä$√Ä(√Ä#√Ä'√Ä")
INFO:werkzeug:18.97.5.5 - - [27/Oct/2024 16:03:31] "[31m[1m\x16\x03\x01\x02\x00\x01\x00\x01√º\x03\x03d¬§\x95\x04√ã\x1b\x04@{\x8c√ø\x0f\x0e>¬≤√®\x87\x9b¬∫-9√éz√Å\x93H\x9fp√†\x9f\x15√î \x850\x93√≥√∂√≠√å√ñ√éf\x10=√É√º√πE¬∑√π¬ºx\x1c\x82\x96√π\x95√•e]√¥\x04√Ö\x9e\x00V\x13\x02\x13\x03\x13\x01√Ä,√Ä0√Ä+√Ä/√å¬©√å¬®\x00\x9f\x00\x9e√å¬™√Ä¬Ø√Ä¬≠√Ä¬Æ√Ä¬¨√Ä$√Ä(√Ä#√Ä'√Ä[0m" 400 -
INFO:werkzeug:18.97.5.5 - - [27/Oct/2024 16:03:31] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many sick leaves are available for every employee?', 'conversation_id': 'a:1vz_gh-aOO2D7zfNgtpVUuCaXQ-3bp5LL5KGHG63DQE1Vb_XVhqsdkc435K3Rs0E27Ok0sY064qvRrsEdxctm7gsa_dx-xth2ez30iTe0ehM02Dl5pDcRGhCPuAxliIU7'}
INFO:__main__:Received query: how many sick leaves are available for every employee?
INFO:__main__:Received conversation_id: a:1vz_gh-aOO2D7zfNgtpVUuCaXQ-3bp5LL5KGHG63DQE1Vb_XVhqsdkc435K3Rs0E27Ok0sY064qvRrsEdxctm7gsa_dx-xth2ez30iTe0ehM02Dl5pDcRGhCPuAxliIU7
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671e69689e73711f01126b7a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '497c4dcd-288c-4061-9e77-4756442a4320', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 16:25:16 GMT', 'content-type': 'application/json', 'content-length': '882', 'connection': 'keep-alive', 'x-amzn-requestid': '497c4dcd-288c-4061-9e77-4756442a4320', 'x-amzn-bedrock-invocation-latency': '2461', 'x-amzn-bedrock-output-token-count': '241', 'x-amzn-bedrock-input-token-count': '1098'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa8f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Every confirmed employee at Gemini Solutions is allowed 7 days of sick leave on full fixed pay in one leave year.\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1vz_gh-aOO2D7zfNgtpVUuCaXQ-3bp5LL5KGHG63DQE1Vb_XVhqsdkc435K3Rs0E27Ok0sY064qvRrsEdxctm7gsa_dx-xth2ez30iTe0ehM02Dl5pDcRGhCPuAxliIU7\",\n        \"query\": \"how many sick leaves are available for every employee?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"56\"\n    }\n}","prompt_token_count":1098,"generation_token_count":241,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e696c9e73711f01126b7b
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [27/Oct/2024 16:25:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a7a66dd6-ba4c-4899-ba0c-0350ff8585a1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 16:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a7a66dd6-ba4c-4899-ba0c-0350ff8585a1', 'x-amzn-bedrock-invocation-latency': '369', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671e6a969e73711f01126b7d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9d1a7b00-3d9d-4829-8436-9e691f3b848f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 16:30:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9d1a7b00-3d9d-4829-8436-9e691f3b848f', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e6a999e73711f01126b7e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.231.56.94 - - [27/Oct/2024 16:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671e78d19e73711f01126b80
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '19f90ae9-fbef-42c0-a09d-8053ead4f134', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 17:31:00 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '19f90ae9-fbef-42c0-a09d-8053ead4f134', 'x-amzn-bedrock-invocation-latency': '1516', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e78d49e73711f01126b81
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.75.17 - - [27/Oct/2024 17:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671e88009e73711f01126b83
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b72942e7-2353-4d63-af8c-f26f63fbbaa0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 18:35:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b72942e7-2353-4d63-af8c-f26f63fbbaa0', 'x-amzn-bedrock-invocation-latency': '1481', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e88039e73711f01126b84
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.215.175.211 - - [27/Oct/2024 18:35:47] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:54.193.214.216 - - [27/Oct/2024 18:41:10] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:54.193.214.216 - - [27/Oct/2024 19:11:39] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '032c69d7-1b96-4997-9f2e-946a6cfa13f4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 19:30:59 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '032c69d7-1b96-4997-9f2e-946a6cfa13f4', 'x-amzn-bedrock-invocation-latency': '372', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671e94f39e73711f01126b86
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13cd2818-743c-4d19-be87-9a20c8ec74d3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 19:31:01 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '13cd2818-743c-4d19-be87-9a20c8ec74d3', 'x-amzn-bedrock-invocation-latency': '1419', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671e94f59e73711f01126b87
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.215.111 - - [27/Oct/2024 19:31:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f9280f8b-b35a-4ad2-8af6-f56e4ef64661', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 20:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f9280f8b-b35a-4ad2-8af6-f56e4ef64661', 'x-amzn-bedrock-invocation-latency': '402', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671ea2df9e73711f01126b89
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '57258f91-ebb2-40fe-9834-cab58b0510f6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 20:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '57258f91-ebb2-40fe-9834-cab58b0510f6', 'x-amzn-bedrock-invocation-latency': '1437', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ea2e19e73711f01126b8a
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.75.17 - - [27/Oct/2024 20:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a4edf037-3649-4a95-b312-f242aa0714da', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 21:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a4edf037-3649-4a95-b312-f242aa0714da', 'x-amzn-bedrock-invocation-latency': '386', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e980>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671eb0ed9e73711f01126b8c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b72ece8b-d58e-43d5-91ec-c26a9dcd8e33', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 21:30:24 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b72ece8b-d58e-43d5-91ec-c26a9dcd8e33', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa080>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671eb0f09e73711f01126b8d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.171.24 - - [27/Oct/2024 21:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671ebf1d9e73711f01126b8f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a3166449-b59d-4948-bc50-c60fa40912b9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 22:30:56 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a3166449-b59d-4948-bc50-c60fa40912b9', 'x-amzn-bedrock-invocation-latency': '1511', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa380>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ebf209e73711f01126b90
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.234.254.96 - - [27/Oct/2024 22:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c3adefab-473c-4656-bebd-f213cc75776e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 23:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c3adefab-473c-4656-bebd-f213cc75776e', 'x-amzn-bedrock-invocation-latency': '409', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf84c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671ecd169e73711f01126b92
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '57eb247b-d0b8-4c69-86ca-99836e665337', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 27 Oct 2024 23:30:33 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '57eb247b-d0b8-4c69-86ca-99836e665337', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43d90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ecd199e73711f01126b93
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.48.165 - - [27/Oct/2024 23:30:33] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:165.227.39.120 - - [27/Oct/2024 23:41:51] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:165.227.39.120 - - [27/Oct/2024 23:41:51] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x19:q$√Ä ~√é√â1√ª¬¥¬¨√∫r√∑ \x8dF√ô√µq¬£√û¬ª2¬∏y\x06¬®¬æp\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:165.227.39.120 - - [27/Oct/2024 23:41:51] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:165.227.39.120 - - [27/Oct/2024 23:41:51] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x80*\x16√™√≥√µ√∏√ªS√õLW√Ø\x98√®5\x17\x17t\x91Q¬æ\x19\x9d√•<\x18¬∏√Ü\x1f√∏√ê\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:165.227.39.120 - - [27/Oct/2024 23:41:52] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671edb5a9e73711f01126b95
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b3a20a19-cc30-4345-a826-d48779503ac3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 00:31:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b3a20a19-cc30-4345-a826-d48779503ac3', 'x-amzn-bedrock-invocation-latency': '1456', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42b90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671edb5d9e73711f01126b96
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.173.148.85 - - [28/Oct/2024 00:31:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ffc2d10f-fe4c-4008-a02c-f016805f996c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 01:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ffc2d10f-fe4c-4008-a02c-f016805f996c', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ac20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671ee91d9e73711f01126b98
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1d321346-d8aa-4aca-a11c-e1ff4325d772', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 01:30:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1d321346-d8aa-4aca-a11c-e1ff4325d772', 'x-amzn-bedrock-invocation-latency': '1443', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ca30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ee9209e73711f01126b99
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.90.48.211 - - [28/Oct/2024 01:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671ef7319e73711f01126b9b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1508f8f-1f92-4fa7-8038-f5ddd1d24a1d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 02:30:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1508f8f-1f92-4fa7-8038-f5ddd1d24a1d', 'x-amzn-bedrock-invocation-latency': '1373', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ef7349e73711f01126b9c
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.188.146 - - [28/Oct/2024 02:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671f05739e73711f01126b9e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '330c9cff-6983-41ec-9efc-416d12abc752', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 03:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '330c9cff-6983-41ec-9efc-416d12abc752', 'x-amzn-bedrock-invocation-latency': '1427', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f05769e73711f01126b9f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.44.191 - - [28/Oct/2024 03:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '612c7e81-fa4a-4701-93a6-7cc539876be6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 04:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '612c7e81-fa4a-4701-93a6-7cc539876be6', 'x-amzn-bedrock-invocation-latency': '341', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671f13679e73711f01126ba1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4cb636ac-8e41-4112-86e7-7f27cc927bea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 04:30:34 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4cb636ac-8e41-4112-86e7-7f27cc927bea', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f136a9e73711f01126ba2
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.152.165.80 - - [28/Oct/2024 04:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671f217f9e73711f01126ba4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f169d9ea-428d-427d-b7ca-d72230ca55ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 05:30:42 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f169d9ea-428d-427d-b7ca-d72230ca55ce', 'x-amzn-bedrock-invocation-latency': '1406', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d000>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f21829e73711f01126ba5
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.168.10.178 - - [28/Oct/2024 05:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92f3bbae-140d-41b6-87a9-0663fc90e636', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 06:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '92f3bbae-140d-41b6-87a9-0663fc90e636', 'x-amzn-bedrock-invocation-latency': '339', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79870>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671f2f779e73711f01126ba7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '84d25b31-abb1-4897-8129-94d828dd708e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 06:30:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '84d25b31-abb1-4897-8129-94d828dd708e', 'x-amzn-bedrock-invocation-latency': '1519', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41450>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f2f7a9e73711f01126ba8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.157.197 - - [28/Oct/2024 06:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671f3d8e9e73711f01126baa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'faf5b9a1-f87c-412c-8b85-e443e1789482', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 07:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'faf5b9a1-f87c-412c-8b85-e443e1789482', 'x-amzn-bedrock-invocation-latency': '1489', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a416c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f3d919e73711f01126bab
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.153.21 - - [28/Oct/2024 07:30:25] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:159.203.124.128 - - [28/Oct/2024 08:01:21] code 400, message Bad request syntax ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03√ü\x93√ìR\x15\x07T√°\x1b√ì\x98s\x12T√£\x85')
INFO:werkzeug:159.203.124.128 - - [28/Oct/2024 08:01:21] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03√ü\x93√ìR\x15\x07T√°\x1b√ì\x98s\x12T√£\x85[0m" 400 -
ERROR:werkzeug:159.203.124.128 - - [28/Oct/2024 08:01:22] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x00\x8f&Ne\x18¬°ZO<¬∑√õ')
INFO:werkzeug:159.203.124.128 - - [28/Oct/2024 08:01:22] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x00\x8f&Ne\x18¬°ZO<¬∑√õ \x818\x9e¬∑0$\x97i√Ç?√ö√£\x00√™[0m" 400 -
INFO:werkzeug:159.203.124.128 - - [28/Oct/2024 08:01:22] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9fa7126f-e636-4dde-8730-8dd0138b9cc2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 08:30:25 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '9fa7126f-e636-4dde-8730-8dd0138b9cc2', 'x-amzn-bedrock-invocation-latency': '340', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 671f4ba19e73711f01126bad
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '15b4382f-19bb-4f8a-8b2a-21a60ee30c42', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 08:30:28 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '15b4382f-19bb-4f8a-8b2a-21a60ee30c42', 'x-amzn-bedrock-invocation-latency': '1419', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f4ba49e73711f01126bae
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.237.242.51 - - [28/Oct/2024 08:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671f59df9e73711f01126bb0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2fcd5c43-97c8-4a48-b7d6-0afa2a831788', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 09:31:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2fcd5c43-97c8-4a48-b7d6-0afa2a831788', 'x-amzn-bedrock-invocation-latency': '1470', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f59e29e73711f01126bb1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.44.191 - - [28/Oct/2024 09:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cfeb5e73-1cf7-4d74-a747-95c0157343b5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 10:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cfeb5e73-1cf7-4d74-a747-95c0157343b5', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e170>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671f67b89e73711f01126bb3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cc58a817-da92-4a7e-ad55-062c8bf15bfd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 10:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cc58a817-da92-4a7e-ad55-062c8bf15bfd', 'x-amzn-bedrock-invocation-latency': '1411', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a409d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f67bb9e73711f01126bb4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.85.212.151 - - [28/Oct/2024 10:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671f75ce9e73711f01126bb6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dd432546-cd5f-48a2-a643-f6f661d2aefd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 11:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'dd432546-cd5f-48a2-a643-f6f661d2aefd', 'x-amzn-bedrock-invocation-latency': '1453', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f75d19e73711f01126bb7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.219.35.108 - - [28/Oct/2024 11:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi jinie', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hi jinie
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671f7e529e73711f01126bb9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9d6006b-5360-4f08-82bb-96d965d9b31f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 12:06:45 GMT', 'content-type': 'application/json', 'content-length': '592', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9d6006b-5360-4f08-82bb-96d965d9b31f', 'x-amzn-bedrock-invocation-latency': '1687', 'x-amzn-bedrock-output-token-count': '179', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41720>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind?\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hi jinie\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":910,"generation_token_count":179,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f7e559e73711f01126bba
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [28/Oct/2024 12:06:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the monthly engagement budget for each dc?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what is the monthly engagement budget for each dc?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '292d5e57-bd87-47d2-8593-7b917ca85a8d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 12:28:36 GMT', 'content-type': 'application/json', 'content-length': '207', 'connection': 'keep-alive', 'x-amzn-requestid': '292d5e57-bd87-47d2-8593-7b917ca85a8d', 'x-amzn-bedrock-invocation-latency': '309', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '223'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ac50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What is the monthly engagement budget for each district center?\"\n}","prompt_token_count":223,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What is the monthly engagement budget for each district center?
INFO:__main__:Query stored successfully with ID: 671f83749e73711f01126bbc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b00f633b-738b-4e22-b8d0-93005c4328a1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 12:28:41 GMT', 'content-type': 'application/json', 'content-length': '1580', 'connection': 'keep-alive', 'x-amzn-requestid': 'b00f633b-738b-4e22-b8d0-93005c4328a1', 'x-amzn-bedrock-invocation-latency': '3771', 'x-amzn-bedrock-output-token-count': '384', 'x-amzn-bedrock-input-token-count': '1180'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The monthly engagement budget for each district center is not explicitly mentioned in the provided texts. However, it is mentioned that each eligible employee under their primary EC will receive a budget of Rs. 1000 per head bi-annually to be used towards employee engagement activities. This budget can be utilized for various activities, including but not limited to EC Meet & Greet, Team Lunch, and Client Lunch.\",\n    \"References\": [\n        {\n            \"Statement\": \"Each eligible employee under their primary EC will receive a budget of Rs. 1000 per head bi-annually to be used towards employee engagement activities.\",\n            \"source\": \"EC Engagement Policy- Version 2.0_India.pdf - Page 4 - N/A - N/A\"\n        },\n        {\n            \"Statement\": \"The allocated budget can be utilized for a variety of activities which would take place biannually for all respective ECs, including but not limited to: EC Meet & Greet, Team Lunch, and Client Lunch.\",\n            \"source\": \"EC Engagement Policy- Version 2.0_India.pdf - Page 4 - N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"What is the monthly engagement budget for each district center?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1180,"generation_token_count":384,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f83799e73711f01126bbd
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [28/Oct/2024 12:28:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the monthly engagement budget for each delivery council', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what is the monthly engagement budget for each delivery council
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f03baa28-def4-4d8c-9e82-cd46195d9c83', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 12:29:38 GMT', 'content-type': 'application/json', 'content-length': '215', 'connection': 'keep-alive', 'x-amzn-requestid': 'f03baa28-def4-4d8c-9e82-cd46195d9c83', 'x-amzn-bedrock-invocation-latency': '315', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '473'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa1d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What is the monthly engagement budget for each delivery council center?\"\n}","prompt_token_count":473,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What is the monthly engagement budget for each delivery council center?
INFO:__main__:Query stored successfully with ID: 671f83b29e73711f01126bbf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2b8351dd-54fc-49d2-b090-d05cb437b41d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 12:29:41 GMT', 'content-type': 'application/json', 'content-length': '865', 'connection': 'keep-alive', 'x-amzn-requestid': '2b8351dd-54fc-49d2-b090-d05cb437b41d', 'x-amzn-bedrock-invocation-latency': '2366', 'x-amzn-bedrock-output-token-count': '236', 'x-amzn-bedrock-input-token-count': '1240'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42d40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The monthly engagement budget for each Delivery Council (DC) is INR 1000 per head, allocated quarterly.\",\n    \"References\": [\n        {\n            \"Statement\": \"The monthly DC budget is INR 1000 per head that is allocated quarterly.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 8\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"What is the monthly engagement budget for each delivery council center?\",\n        \"source\": \"Gemini-Engagement Policy_Version 1.1_India.pdf\",\n        \"response_length\": \"56\"\n    }\n}","prompt_token_count":1240,"generation_token_count":236,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f83b59e73711f01126bc0
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [28/Oct/2024 12:29:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1a74a71a-40e8-490f-b144-2132e98c14aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 12:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1a74a71a-40e8-490f-b144-2132e98c14aa', 'x-amzn-bedrock-invocation-latency': '285', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671f83dd9e73711f01126bc2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f671f2c3-1bef-49a8-9306-fd51a9ec06f4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 12:30:24 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f671f2c3-1bef-49a8-9306-fd51a9ec06f4', 'x-amzn-bedrock-invocation-latency': '1474', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41630>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f83e09e73711f01126bc3
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.124.185 - - [28/Oct/2024 12:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671f91f19e73711f01126bc5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '942fd8a1-a797-4de3-a6ba-29f8226707eb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 13:30:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '942fd8a1-a797-4de3-a6ba-29f8226707eb', 'x-amzn-bedrock-invocation-latency': '1443', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671f91f49e73711f01126bc6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.160.23.125 - - [28/Oct/2024 13:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bb8747e9-7cc6-42c8-aab4-a3f63faadab1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 14:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bb8747e9-7cc6-42c8-aab4-a3f63faadab1', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a786a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671f9fff9e73711f01126bc8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aeacee71-485b-4471-91bd-4f0edb250dfa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 14:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'aeacee71-485b-4471-91bd-4f0edb250dfa', 'x-amzn-bedrock-invocation-latency': '1426', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40cd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671fa0019e73711f01126bc9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.227.220.66 - - [28/Oct/2024 14:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671fae149e73711f01126bcb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b6503bf4-b399-4fb7-a978-ffda03872c3f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 15:30:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b6503bf4-b399-4fb7-a978-ffda03872c3f', 'x-amzn-bedrock-invocation-latency': '1460', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a404c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671fae179e73711f01126bcc
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.160.23.125 - - [28/Oct/2024 15:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671fbc409e73711f01126bce
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b3c8247b-1e5e-4d55-be77-f0172f085bd8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 16:30:59 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b3c8247b-1e5e-4d55-be77-f0172f085bd8', 'x-amzn-bedrock-invocation-latency': '1469', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40f10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671fbc439e73711f01126bcf
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.38.51 - - [28/Oct/2024 16:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1fd5fc8b-4776-4195-b2b9-e8d8247dd413', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 17:30:46 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1fd5fc8b-4776-4195-b2b9-e8d8247dd413', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42b30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671fca469e73711f01126bd1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '61c5a849-4a6a-4e85-8c15-ec90fd987a89', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 17:30:49 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '61c5a849-4a6a-4e85-8c15-ec90fd987a89', 'x-amzn-bedrock-invocation-latency': '1405', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a437c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671fca499e73711f01126bd2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.44.191 - - [28/Oct/2024 17:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 671fd8e89e73711f01126bd4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '18921e49-9e9e-495b-8d71-212a039e3ef4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 18:33:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '18921e49-9e9e-495b-8d71-212a039e3ef4', 'x-amzn-bedrock-invocation-latency': '1440', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671fd8eb9e73711f01126bd5
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.228.225.135 - - [28/Oct/2024 18:33:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '89e8604f-ad58-48d7-922c-be3a16a6d0e5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 19:31:12 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '89e8604f-ad58-48d7-922c-be3a16a6d0e5', 'x-amzn-bedrock-invocation-latency': '274', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e920>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671fe6809e73711f01126bd7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '86118cb4-caca-4dc4-87a7-9f5c8e8993d7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 19:31:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '86118cb4-caca-4dc4-87a7-9f5c8e8993d7', 'x-amzn-bedrock-invocation-latency': '1439', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42e30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671fe6839e73711f01126bd8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.191.228 - - [28/Oct/2024 19:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f87b645e-256a-4ce3-abbf-a509d28c19c1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 20:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f87b645e-256a-4ce3-abbf-a509d28c19c1', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c524880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 671ff4699e73711f01126bda
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fdb86120-4233-41c3-b7f4-a94dfacbd8b9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 20:30:35 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fdb86120-4233-41c3-b7f4-a94dfacbd8b9', 'x-amzn-bedrock-invocation-latency': '1428', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 671ff46b9e73711f01126bdb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.220.44 - - [28/Oct/2024 20:30:35] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672002829e73711f01126bdd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b4d42aac-98b8-4554-ba8a-a9852add18ae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 21:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b4d42aac-98b8-4554-ba8a-a9852add18ae', 'x-amzn-bedrock-invocation-latency': '1435', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43fa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672002859e73711f01126bde
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.248.181 - - [28/Oct/2024 21:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '21e0881e-3b7a-4e71-8df1-65946881e5fd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 22:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '21e0881e-3b7a-4e71-8df1-65946881e5fd', 'x-amzn-bedrock-invocation-latency': '351', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1420>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672010779e73711f01126be0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '62bf37fb-8c49-4191-bef8-1dd45ebe7fbd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 22:30:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '62bf37fb-8c49-4191-bef8-1dd45ebe7fbd', 'x-amzn-bedrock-invocation-latency': '1401', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a404f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720107a9e73711f01126be1
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.230.84 - - [28/Oct/2024 22:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9f5dd082-44df-4043-93a6-e567fb489ac7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 23:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9f5dd082-44df-4043-93a6-e567fb489ac7', 'x-amzn-bedrock-invocation-latency': '385', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf83d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67201e7d9e73711f01126be3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '14e7a8b3-ac68-4579-94e6-2cd9d3e59e40', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 28 Oct 2024 23:30:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '14e7a8b3-ac68-4579-94e6-2cd9d3e59e40', 'x-amzn-bedrock-invocation-latency': '1402', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67201e809e73711f01126be4
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.52.49 - - [28/Oct/2024 23:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67202ca49e73711f01126be6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '40b75747-6b86-452e-a0f7-93efab28a774', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 00:30:31 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '40b75747-6b86-452e-a0f7-93efab28a774', 'x-amzn-bedrock-invocation-latency': '1396', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43610>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67202ca79e73711f01126be7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.3.78 - - [29/Oct/2024 00:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:104.209.35.181 - - [29/Oct/2024 01:14:21] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '87876f07-a9d8-4c4e-9c07-b8e1bc15b26a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 01:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '87876f07-a9d8-4c4e-9c07-b8e1bc15b26a', 'x-amzn-bedrock-invocation-latency': '327', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67203aa29e73711f01126be9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1f1dbb16-3d22-4e78-b30e-418d67915e09', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 01:30:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1f1dbb16-3d22-4e78-b30e-418d67915e09', 'x-amzn-bedrock-invocation-latency': '1418', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67203aa59e73711f01126bea
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.234.48.15 - - [29/Oct/2024 01:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672048f49e73711f01126bec
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd0cc841c-2515-4ae9-8021-ebb5b5c98eb4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 02:31:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd0cc841c-2515-4ae9-8021-ebb5b5c98eb4', 'x-amzn-bedrock-invocation-latency': '1422', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a426b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672048f79e73711f01126bed
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.199.108 - - [29/Oct/2024 02:31:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '429fa686-3aea-440f-9350-5c7ad0aea1ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 03:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '429fa686-3aea-440f-9350-5c7ad0aea1ce', 'x-amzn-bedrock-invocation-latency': '369', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf80d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672056c99e73711f01126bef
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1010af8a-6c3b-465e-a027-802e880b401b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 03:30:20 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1010af8a-6c3b-465e-a027-802e880b401b', 'x-amzn-bedrock-invocation-latency': '1414', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a433d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672056cc9e73711f01126bf0
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.55.234.101 - - [29/Oct/2024 03:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fe913f8e-803d-47cc-a942-4cbf6f0d82b1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 04:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fe913f8e-803d-47cc-a942-4cbf6f0d82b1', 'x-amzn-bedrock-invocation-latency': '353', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40af0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672064cf9e73711f01126bf2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8e2cb814-bd88-4c73-89b3-ffd985561887', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 04:30:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8e2cb814-bd88-4c73-89b3-ffd985561887', 'x-amzn-bedrock-invocation-latency': '1426', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c6d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672064d29e73711f01126bf3
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.92.166.3 - - [29/Oct/2024 04:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672073229e73711f01126bf5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '52b5f16a-216b-453a-8f7b-6ea0d3d160a0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 05:31:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '52b5f16a-216b-453a-8f7b-6ea0d3d160a0', 'x-amzn-bedrock-invocation-latency': '1462', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c370>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672073259e73711f01126bf6
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.162.50.232 - - [29/Oct/2024 05:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6720814d9e73711f01126bf8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '937fb34d-fd87-4f1f-bb17-fa5d927e438f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 06:31:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '937fb34d-fd87-4f1f-bb17-fa5d927e438f', 'x-amzn-bedrock-invocation-latency': '1431', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8ee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720814f9e73711f01126bf9
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.197.66 - - [29/Oct/2024 06:31:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can you tell me about unpaid lapsed counter?', 'conversation_id': 'a:18gTq3DjLXBKdNGQi9pK5CJhShKo7ggPldI-SSussBtJFUhyQqts2BWyTtoVXvaUfm_Ndo5o609oGH-kC6wuBjfSbM4ZmRU1PvBx7wzxqD283s4Vz8qbcgALVLvIubWeZ'}
INFO:__main__:Received query: can you tell me about unpaid lapsed counter?
INFO:__main__:Received conversation_id: a:18gTq3DjLXBKdNGQi9pK5CJhShKo7ggPldI-SSussBtJFUhyQqts2BWyTtoVXvaUfm_Ndo5o609oGH-kC6wuBjfSbM4ZmRU1PvBx7wzxqD283s4Vz8qbcgALVLvIubWeZ
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672089509e73711f01126bfb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '168b1dfa-461c-4769-900f-3182f1e2ac24', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 07:05:56 GMT', 'content-type': 'application/json', 'content-length': '1197', 'connection': 'keep-alive', 'x-amzn-requestid': '168b1dfa-461c-4769-900f-3182f1e2ac24', 'x-amzn-bedrock-invocation-latency': '3177', 'x-amzn-bedrock-output-token-count': '321', 'x-amzn-bedrock-input-token-count': '1174'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e8f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unpaid lapsed counter refers to the extra days of paid leaves (PL) that are carried forward to the next financial year. According to our company policy, if you have more than 30 PLs by the end of the financial year, the extra days will be added to your basic pay at the start of the next financial year. For example, if you have 34 PLs, the 4 extra days will be encashed when the new financial year begins.\",\n    \"References\": [\n        {\n            \"Statement\": \"If you have more than 30 PLs (Paid Leaves) by the end of the financial year, the extra days are added to your basic pay at the start of the next financial year.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 24\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:18gTq3DjLXBKdNGQi9pK5CJhShKo7ggPldI-SSussBtJFUhyQqts2BWyTtoVXvaUfm_Ndo5o609oGH-kC6wuBjfSbM4ZmRU1PvBx7wzxqD283s4Vz8qbcgALVLvIubWeZ\",\n        \"query\": \"can you tell me about unpaid lapsed counter?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1174,"generation_token_count":321,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672089549e73711f01126bfc
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [29/Oct/2024 07:05:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is lwp?', 'conversation_id': 'a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi'}
INFO:__main__:Received query: what is lwp?
INFO:__main__:Received conversation_id: a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67208c339e73711f01126bfe
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4226acb5-5d49-4989-99ad-7f323431580a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 07:18:15 GMT', 'content-type': 'application/json', 'content-length': '931', 'connection': 'keep-alive', 'x-amzn-requestid': '4226acb5-5d49-4989-99ad-7f323431580a', 'x-amzn-bedrock-invocation-latency': '2603', 'x-amzn-bedrock-output-token-count': '263', 'x-amzn-bedrock-input-token-count': '993'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Leave Without Pay (LWP) is a type of leave that can be taken by an employee when they have used up all their leave days and still need time off. It is marked in cases where an employee needs to take time off without pay.\",\n    \"References\": [\n        {\n            \"Statement\": \"If you've used up all your leave days and still need time off, that's when you can use Leave Without Pay (LWP).\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wM__C7mRKr1Hy-SXE5BIHUgzSXkELk-jOsdjlw_GHiP7tnC0d5lGLUKlSw2DjCqTpMjLPVtg1bDWQMo7dv_2hZup6uUxe2ZiBIM2U6oVQSF4K7MFbpYk2bZy0xFwdfoi\",\n        \"query\": \"what is lwp?\",\n        \"source\": \"HR - Leave Policy.csv\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":993,"generation_token_count":263,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67208c379e73711f01126bff
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [29/Oct/2024 07:18:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '61bb3b0f-93b4-483e-a05a-c135df463f8b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 07:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '61bb3b0f-93b4-483e-a05a-c135df463f8b', 'x-amzn-bedrock-invocation-latency': '276', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd01c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67208f0a9e73711f01126c01
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '178b2ac1-9037-4b9a-add5-1d4211975006', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 07:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '178b2ac1-9037-4b9a-add5-1d4211975006', 'x-amzn-bedrock-invocation-latency': '1430', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2d5a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67208f0d9e73711f01126c02
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.40.246 - - [29/Oct/2024 07:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '831bc656-facc-40c9-b6da-720154092b93', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 08:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '831bc656-facc-40c9-b6da-720154092b93', 'x-amzn-bedrock-invocation-latency': '315', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67209d129e73711f01126c04
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cd1ac0d3-00fe-4b44-aa04-f6f66a25d823', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 08:30:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cd1ac0d3-00fe-4b44-aa04-f6f66a25d823', 'x-amzn-bedrock-invocation-latency': '1411', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67209d149e73711f01126c05
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.144.27.152 - - [29/Oct/2024 08:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6720ab3e9e73711f01126c07
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7c0e900f-9a88-4f82-bf85-83f793cf29cd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 09:30:41 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7c0e900f-9a88-4f82-bf85-83f793cf29cd', 'x-amzn-bedrock-invocation-latency': '1418', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd22f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720ab419e73711f01126c08
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.209.228 - - [29/Oct/2024 09:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0042d032-89ec-45d9-9f90-85fe17826a26', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 10:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0042d032-89ec-45d9-9f90-85fe17826a26', 'x-amzn-bedrock-invocation-latency': '317', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1660>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6720b9419e73711f01126c0a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1301e475-741f-4bc0-ad77-370194419087', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 10:30:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1301e475-741f-4bc0-ad77-370194419087', 'x-amzn-bedrock-invocation-latency': '1418', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720b9449e73711f01126c0b
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.196.114 - - [29/Oct/2024 10:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6720c7689e73711f01126c0d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'de8e1722-9dfb-4735-a226-25a57118fcdb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 11:30:50 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'de8e1722-9dfb-4735-a226-25a57118fcdb', 'x-amzn-bedrock-invocation-latency': '1362', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720c76a9e73711f01126c0e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.15.15 - - [29/Oct/2024 11:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '365f2435-f106-45a5-b1a0-5c2598fa4e8d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 12:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '365f2435-f106-45a5-b1a0-5c2598fa4e8d', 'x-amzn-bedrock-invocation-latency': '307', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0160>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6720d5659e73711f01126c10
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e306373f-c0d3-40fa-a172-76732c60809d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 12:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e306373f-c0d3-40fa-a172-76732c60809d', 'x-amzn-bedrock-invocation-latency': '1319', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9f30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720d5689e73711f01126c11
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.217.133 - - [29/Oct/2024 12:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6720e39f9e73711f01126c13
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'abbcc4ab-8889-49ca-93dd-43e66cea4ce9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 13:31:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'abbcc4ab-8889-49ca-93dd-43e66cea4ce9', 'x-amzn-bedrock-invocation-latency': '1348', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720e3a19e73711f01126c14
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.234.48.15 - - [29/Oct/2024 13:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8252c262-f01d-4db2-a859-06bfc531aee0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 14:30:56 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8252c262-f01d-4db2-a859-06bfc531aee0', 'x-amzn-bedrock-invocation-latency': '343', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd29b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6720f1a09e73711f01126c16
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e70c8e6a-e5d6-420f-8a4b-4d59a78e4454', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 14:30:59 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e70c8e6a-e5d6-420f-8a4b-4d59a78e4454', 'x-amzn-bedrock-invocation-latency': '1415', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720f1a39e73711f01126c17
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.196.65 - - [29/Oct/2024 14:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6720ffbc9e73711f01126c19
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8c949c33-2865-4ad7-8d56-344f4c49d91c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 15:31:11 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8c949c33-2865-4ad7-8d56-344f4c49d91c', 'x-amzn-bedrock-invocation-latency': '1501', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfaec0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6720ffbf9e73711f01126c1a
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.183.197 - - [29/Oct/2024 15:31:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '59b951b8-77fc-455d-8670-5cf52d62ea62', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 16:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '59b951b8-77fc-455d-8670-5cf52d62ea62', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbbb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67210db39e73711f01126c1c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4fea561e-3968-4d57-a708-b4aed31f9840', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 16:30:46 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4fea561e-3968-4d57-a708-b4aed31f9840', 'x-amzn-bedrock-invocation-latency': '1408', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf96c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67210db69e73711f01126c1d
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.218.166 - - [29/Oct/2024 16:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b624149-3b60-4cd0-b566-f6eafdce5a9f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 17:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1b624149-3b60-4cd0-b566-f6eafdce5a9f', 'x-amzn-bedrock-invocation-latency': '334', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3fd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67211bbd9e73711f01126c1f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b46ccf30-966f-4abb-afde-bd18b7ae8741', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 17:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b46ccf30-966f-4abb-afde-bd18b7ae8741', 'x-amzn-bedrock-invocation-latency': '1430', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa6e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67211bc09e73711f01126c20
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.237.107 - - [29/Oct/2024 17:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67212a819e73711f01126c22
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '54a62437-9993-4874-a15e-655db0fc8ac7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 18:33:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '54a62437-9993-4874-a15e-655db0fc8ac7', 'x-amzn-bedrock-invocation-latency': '1384', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67212a849e73711f01126c23
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.152.100.216 - - [29/Oct/2024 18:33:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e1e0dd65-ca91-4072-9188-d859f34fad7c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 19:30:57 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e1e0dd65-ca91-4072-9188-d859f34fad7c', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672137f19e73711f01126c25
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aeb37684-d262-4676-bfd9-2869d8d06adc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 19:31:00 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'aeb37684-d262-4676-bfd9-2869d8d06adc', 'x-amzn-bedrock-invocation-latency': '1335', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ac80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672137f49e73711f01126c26
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.227.22.225 - - [29/Oct/2024 19:31:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8f494e44-90b2-475a-8102-dd7edd055e25', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 20:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8f494e44-90b2-475a-8102-dd7edd055e25', 'x-amzn-bedrock-invocation-latency': '376', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8cd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672145eb9e73711f01126c28
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4e28e925-e7af-423e-86f2-55bc3c79d20c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 20:30:38 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4e28e925-e7af-423e-86f2-55bc3c79d20c', 'x-amzn-bedrock-invocation-latency': '1444', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbdc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672145ee9e73711f01126c29
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.159.79.219 - - [29/Oct/2024 20:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6721540e9e73711f01126c2b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a351ddb6-bf4b-49e7-827f-3b7b4e16e687', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 21:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a351ddb6-bf4b-49e7-827f-3b7b4e16e687', 'x-amzn-bedrock-invocation-latency': '1484', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672154119e73711f01126c2c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.117.98 - - [29/Oct/2024 21:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71b4ebfe-c685-4b04-b2c8-267d258ec225', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 22:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '71b4ebfe-c685-4b04-b2c8-267d258ec225', 'x-amzn-bedrock-invocation-latency': '305', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672161fa9e73711f01126c2e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '965a31f8-554c-4029-b76b-faecf866f5e2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 22:30:20 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '965a31f8-554c-4029-b76b-faecf866f5e2', 'x-amzn-bedrock-invocation-latency': '1375', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672161fc9e73711f01126c2f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.165.138.246 - - [29/Oct/2024 22:30:20] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:185.100.87.136 - - [29/Oct/2024 22:35:40] code 400, message Bad HTTP/0.9 request type ('\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00')
INFO:werkzeug:185.100.87.136 - - [29/Oct/2024 22:35:40] "[31m[1m\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00\x0c\x02\x00\x00\x00\x10MyCustomAssembly\x05\x01\x00\x00\x00[0m" 400 -
INFO:werkzeug:198.235.24.129 - - [29/Oct/2024 23:28:39] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672170289e73711f01126c31
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c6e781ec-0c75-461c-ad3e-c779d1dc8384', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 29 Oct 2024 23:30:51 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c6e781ec-0c75-461c-ad3e-c779d1dc8384', 'x-amzn-bedrock-invocation-latency': '1468', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a200>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721702b9e73711f01126c32
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.168.114.193 - - [29/Oct/2024 23:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0750e847-f31c-40d4-a86b-25d9aa4822a7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 00:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0750e847-f31c-40d4-a86b-25d9aa4822a7', 'x-amzn-bedrock-invocation-latency': '376', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ab00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67217e339e73711f01126c34
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5318e4af-684c-4102-b74b-d8d5e509bfb7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 00:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '5318e4af-684c-4102-b74b-d8d5e509bfb7', 'x-amzn-bedrock-invocation-latency': '1431', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ff0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67217e359e73711f01126c35
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.210.145.81 - - [30/Oct/2024 00:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06fa11a8-4e11-42df-8afb-d9c922d15448', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 01:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '06fa11a8-4e11-42df-8afb-d9c922d15448', 'x-amzn-bedrock-invocation-latency': '353', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbd90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67218c1e9e73711f01126c37
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a4bd2964-4959-4860-b17f-ec003d500028', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 01:30:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a4bd2964-4959-4860-b17f-ec003d500028', 'x-amzn-bedrock-invocation-latency': '1349', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79240>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67218c209e73711f01126c38
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.29.188.57 - - [30/Oct/2024 01:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67219a3b9e73711f01126c3a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fb7577c7-ae66-450b-99ba-55136daf9d83', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 02:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fb7577c7-ae66-450b-99ba-55136daf9d83', 'x-amzn-bedrock-invocation-latency': '1513', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a792d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67219a3e9e73711f01126c3b
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.71.179 - - [30/Oct/2024 02:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '56806ea4-b4af-4b03-b31d-8584d728459b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 03:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '56806ea4-b4af-4b03-b31d-8584d728459b', 'x-amzn-bedrock-invocation-latency': '311', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6721a84a9e73711f01126c3d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a6ce808b-1f00-44ba-9e1c-02c868579ca3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 03:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a6ce808b-1f00-44ba-9e1c-02c868579ca3', 'x-amzn-bedrock-invocation-latency': '1433', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7aa40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721a84d9e73711f01126c3e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.218.141 - - [30/Oct/2024 03:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6721b68e9e73711f01126c40
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04766c65-a259-4a10-a8ed-408af8d4af3c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 04:31:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '04766c65-a259-4a10-a8ed-408af8d4af3c', 'x-amzn-bedrock-invocation-latency': '1346', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a797e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721b6919e73711f01126c41
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.170.71.179 - - [30/Oct/2024 04:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd162f762-7724-45a8-b16e-2a4bd944a215', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 05:30:24 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd162f762-7724-45a8-b16e-2a4bd944a215', 'x-amzn-bedrock-invocation-latency': '339', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd06a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6721c4709e73711f01126c43
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9eebf962-59c2-4ed7-9b77-f37bb3e0fe17', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 05:30:27 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9eebf962-59c2-4ed7-9b77-f37bb3e0fe17', 'x-amzn-bedrock-invocation-latency': '1401', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bd60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721c4739e73711f01126c44
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.217.203 - - [30/Oct/2024 05:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6721d2b19e73711f01126c46
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '786f55e0-3d83-4367-ae38-696c2da63afd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 06:31:16 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '786f55e0-3d83-4367-ae38-696c2da63afd', 'x-amzn-bedrock-invocation-latency': '1350', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a789d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721d2b49e73711f01126c47
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.217.203 - - [30/Oct/2024 06:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '34ed31c7-4c6b-42cc-93d2-ce0583658c32', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 07:30:33 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '34ed31c7-4c6b-42cc-93d2-ce0583658c32', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6721e0999e73711f01126c49
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c28d8f72-0abb-44b4-9ce8-47e14032ad8d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 07:30:36 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c28d8f72-0abb-44b4-9ce8-47e14032ad8d', 'x-amzn-bedrock-invocation-latency': '1341', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5259c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721e09c9e73711f01126c4a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.210.219.213 - - [30/Oct/2024 07:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6721eeb29e73711f01126c4c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '45e3ec71-dbc9-4521-8988-ef6650504203', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 08:30:45 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '45e3ec71-dbc9-4521-8988-ef6650504203', 'x-amzn-bedrock-invocation-latency': '1436', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79d20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721eeb59e73711f01126c4d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.173.26.124 - - [30/Oct/2024 08:30:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '01ad193a-b0fc-4968-bf50-31906660a670', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 09:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '01ad193a-b0fc-4968-bf50-31906660a670', 'x-amzn-bedrock-invocation-latency': '338', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43f40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6721fcae9e73711f01126c4f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8be3dd28-c02b-4a91-ba64-376b966579a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 09:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8be3dd28-c02b-4a91-ba64-376b966579a6', 'x-amzn-bedrock-invocation-latency': '1482', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7afe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6721fcb19e73711f01126c50
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.126.249 - - [30/Oct/2024 09:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67220ac59e73711f01126c52
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cf576267-267f-4091-aa02-6c4e1caa740a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 10:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cf576267-267f-4091-aa02-6c4e1caa740a', 'x-amzn-bedrock-invocation-latency': '1459', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5258d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67220ac89e73711f01126c53
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.144.40.145 - - [30/Oct/2024 10:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.33 - - [30/Oct/2024 11:18:28] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672217b19e73711f01126c55
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0f04926c-41f6-45a3-a178-48cc9280afaf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 11:25:41 GMT', 'content-type': 'application/json', 'content-length': '691', 'connection': 'keep-alive', 'x-amzn-requestid': '0f04926c-41f6-45a3-a178-48cc9280afaf', 'x-amzn-bedrock-invocation-latency': '1937', 'x-amzn-bedrock-output-token-count': '204', 'x-amzn-bedrock-input-token-count': '771'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f1c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind? Please feel free to ask a specific question, and I'll do my best to provide a clear and concise answer.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"hi\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":771,"generation_token_count":204,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672217b59e73711f01126c56
INFO:__main__:Process completed successfully.
INFO:werkzeug:27.255.221.48 - - [30/Oct/2024 11:25:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2c367867-db0d-4143-b1e9-fe6fa8903f85', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 11:28:22 GMT', 'content-type': 'application/json', 'content-length': '147', 'connection': 'keep-alive', 'x-amzn-requestid': '2c367867-db0d-4143-b1e9-fe6fa8903f85', 'x-amzn-bedrock-invocation-latency': '253', 'x-amzn-bedrock-output-token-count': '17', 'x-amzn-bedrock-input-token-count': '234'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"hi\"\n}","prompt_token_count":234,"generation_token_count":17,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: hi
INFO:__main__:Query stored successfully with ID: 672218569e73711f01126c58
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '225e2ccf-daaa-470b-a75d-078519524298', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 11:28:25 GMT', 'content-type': 'application/json', 'content-length': '586', 'connection': 'keep-alive', 'x-amzn-requestid': '225e2ccf-daaa-470b-a75d-078519524298', 'x-amzn-bedrock-invocation-latency': '1799', 'x-amzn-bedrock-output-token-count': '181', 'x-amzn-bedrock-input-token-count': '771'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind?\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"hi\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":771,"generation_token_count":181,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672218599e73711f01126c59
INFO:__main__:Process completed successfully.
INFO:werkzeug:27.255.221.48 - - [30/Oct/2024 11:28:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672218e79e73711f01126c5b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd8d624b2-4958-4771-8a6e-18de16e94dbc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 11:30:50 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd8d624b2-4958-4771-8a6e-18de16e94dbc', 'x-amzn-bedrock-invocation-latency': '1493', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526260>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672218ea9e73711f01126c5c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.1.135 - - [30/Oct/2024 11:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4a05a8e7-8c67-4a2b-98dd-78fc133fd6b4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 12:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '4a05a8e7-8c67-4a2b-98dd-78fc133fd6b4', 'x-amzn-bedrock-invocation-latency': '392', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9de0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672226e29e73711f01126c5e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f5fe35f4-bca1-4613-bb38-a03f8d5da2d0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 12:30:29 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f5fe35f4-bca1-4613-bb38-a03f8d5da2d0', 'x-amzn-bedrock-invocation-latency': '1432', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ea10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672226e59e73711f01126c5f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.236.133 - - [30/Oct/2024 12:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3267139c-af51-43e9-bb14-55b2d26c943b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 13:30:29 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '3267139c-af51-43e9-bb14-55b2d26c943b', 'x-amzn-bedrock-invocation-latency': '305', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd06a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672234f59e73711f01126c61
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e3d53741-ea5c-4cc4-964a-fe4ba1a38ac1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 13:30:31 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'e3d53741-ea5c-4cc4-964a-fe4ba1a38ac1', 'x-amzn-bedrock-invocation-latency': '1429', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672234f79e73711f01126c62
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.69.163 - - [30/Oct/2024 13:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '15073cea-1c27-4ae4-904b-698ce2dc5f1f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 14:30:06 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '15073cea-1c27-4ae4-904b-698ce2dc5f1f', 'x-amzn-bedrock-invocation-latency': '323', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa9b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672242ee9e73711f01126c64
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b4528476-2f33-4e5e-974e-92178e8596a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 14:30:08 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'b4528476-2f33-4e5e-974e-92178e8596a6', 'x-amzn-bedrock-invocation-latency': '1412', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672242f09e73711f01126c65
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.29.80 - - [30/Oct/2024 14:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672251079e73711f01126c67
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '63ff8dba-2fc6-4f6f-9bfe-fc9e8304f275', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 15:30:18 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '63ff8dba-2fc6-4f6f-9bfe-fc9e8304f275', 'x-amzn-bedrock-invocation-latency': '1469', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ce20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722510a9e73711f01126c68
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.159.150.207 - - [30/Oct/2024 15:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67225f1f9e73711f01126c6a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b9311339-11b5-4a93-851d-68a5a5446818', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 16:30:26 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b9311339-11b5-4a93-851d-68a5a5446818', 'x-amzn-bedrock-invocation-latency': '1485', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d0c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67225f229e73711f01126c6b
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.200.240.119 - - [30/Oct/2024 16:30:26] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:147.185.133.70 - - [30/Oct/2024 17:05:48] code 400, message Bad request version ('√â√ÉM¬ª√ª\x04\x9e')
INFO:werkzeug:147.185.133.70 - - [30/Oct/2024 17:05:48] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03Y\x97)¬§\x14H√≠dy¬¢√õT\x89√ï\x86q¬®_T√™\x05~\x9c\x1f2¬ß\x01`!√Ñ√∏¬∑ √â√ÉM¬ª√ª\x04\x9e[0m" 400 -
ERROR:werkzeug:147.185.133.70 - - [30/Oct/2024 17:05:48] code 400, message Bad HTTP/0.9 request type ("\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03m√é\x031K√∂\x93√æ√¢√õMh\x12\x8eBPb√ö6¬ß\x84mSp\x01\x029\x83\\\x8c√®\x81\x00\x00h√å\x14√å\x13√Ä/√Ä+√Ä0√Ä,√Ä\x11√Ä\x07√Ä'√Ä#√Ä\x13√Ä")
INFO:werkzeug:147.185.133.70 - - [30/Oct/2024 17:05:48] "[31m[1m\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03m√é\x031K√∂\x93√æ√¢√õMh\x12\x8eBPb√ö6¬ß\x84mSp\x01\x029\x83\\\x8c√®\x81\x00\x00h√å\x14√å\x13√Ä/√Ä+√Ä0√Ä,√Ä\x11√Ä\x07√Ä'√Ä#√Ä\x13√Ä\x09√Ä(√Ä$√Ä\x14√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67226d359e73711f01126c6d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eccd3e92-5b57-488b-a309-bd9a2aad0ee5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 17:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'eccd3e92-5b57-488b-a309-bd9a2aad0ee5', 'x-amzn-bedrock-invocation-latency': '1406', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f6d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67226d389e73711f01126c6e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.176.233 - - [30/Oct/2024 17:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67227bd89e73711f01126c70
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '27899e5e-f8d3-4fa3-b37f-00deeedec953', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 18:32:58 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '27899e5e-f8d3-4fa3-b37f-00deeedec953', 'x-amzn-bedrock-invocation-latency': '1389', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67227bda9e73711f01126c71
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.190.110 - - [30/Oct/2024 18:32:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1cba9b4d-04f3-430b-b944-87dc6f96dcec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 19:30:23 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1cba9b4d-04f3-430b-b944-87dc6f96dcec', 'x-amzn-bedrock-invocation-latency': '365', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6722894f9e73711f01126c73
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd701477b-9891-4e8e-82c2-6d7dfc1877d4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 19:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd701477b-9891-4e8e-82c2-6d7dfc1877d4', 'x-amzn-bedrock-invocation-latency': '1336', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c7c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672289519e73711f01126c74
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.190.110 - - [30/Oct/2024 19:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6722976d9e73711f01126c76
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a42d9039-7425-401b-8942-30992684d4a8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 20:30:39 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'a42d9039-7425-401b-8942-30992684d4a8', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c8e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722976f9e73711f01126c77
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.143.17 - - [30/Oct/2024 20:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '71582f69-4eed-455c-8f25-9df685b976b2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 21:30:36 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '71582f69-4eed-455c-8f25-9df685b976b2', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6722a57c9e73711f01126c79
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a0c2970-fbf8-42eb-81d5-1413b17e003c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 21:30:39 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '3a0c2970-fbf8-42eb-81d5-1413b17e003c', 'x-amzn-bedrock-invocation-latency': '1205', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2d2a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722a57f9e73711f01126c7a
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.151.119 - - [30/Oct/2024 21:30:39] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6722b3909e73711f01126c7c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f0f716fa-4102-42b1-91b3-7ad94da790ee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 22:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f0f716fa-4102-42b1-91b3-7ad94da790ee', 'x-amzn-bedrock-invocation-latency': '1256', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e6e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722b3939e73711f01126c7d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.251.240 - - [30/Oct/2024 22:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7942efd9-0d51-47ba-9820-471cfcb87b7c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 23:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7942efd9-0d51-47ba-9820-471cfcb87b7c', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6722c1959e73711f01126c7f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'beb0dcc7-568b-48f1-8f42-f54659068555', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 30 Oct 2024 23:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'beb0dcc7-568b-48f1-8f42-f54659068555', 'x-amzn-bedrock-invocation-latency': '1209', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722c1989e73711f01126c80
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.212.110 - - [30/Oct/2024 23:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ebaa17d1-4285-4f77-9d84-d44022f9dfea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 00:30:31 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'ebaa17d1-4285-4f77-9d84-d44022f9dfea', 'x-amzn-bedrock-invocation-latency': '304', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ce80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6722cfa79e73711f01126c82
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd6c460f7-841d-4881-b1ea-6230cde40829', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 00:30:34 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'd6c460f7-841d-4881-b1ea-6230cde40829', 'x-amzn-bedrock-invocation-latency': '1212', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2d030>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722cfaa9e73711f01126c83
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.82.2.89 - - [31/Oct/2024 00:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c4e92902-1552-4e68-8ad8-8439debe8b84', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 01:30:10 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'c4e92902-1552-4e68-8ad8-8439debe8b84', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e5f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6722dda29e73711f01126c85
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0e6e3e25-698a-406e-9849-29ffc9003ddb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 01:30:13 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '0e6e3e25-698a-406e-9849-29ffc9003ddb', 'x-amzn-bedrock-invocation-latency': '1211', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2dde0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722dda59e73711f01126c86
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.80.76.161 - - [31/Oct/2024 01:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6722ebbb9e73711f01126c88
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c5c7fce7-9012-41a3-93cc-82dba00faaac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 02:30:22 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'c5c7fce7-9012-41a3-93cc-82dba00faaac', 'x-amzn-bedrock-invocation-latency': '1256', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c524880>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722ebbe9e73711f01126c89
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.231.77 - - [31/Oct/2024 02:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6722f9f99e73711f01126c8b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '308fabfe-6b1e-4493-a322-af6030ee2b95', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 03:31:07 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '308fabfe-6b1e-4493-a322-af6030ee2b95', 'x-amzn-bedrock-invocation-latency': '1290', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c2e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6722f9fb9e73711f01126c8c
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.51.168 - - [31/Oct/2024 03:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5cdcef53-5532-4fb0-963d-04d2dfb84582', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 04:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5cdcef53-5532-4fb0-963d-04d2dfb84582', 'x-amzn-bedrock-invocation-latency': '351', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5266b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672307e19e73711f01126c8e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '234bffb3-b052-4312-bdc1-8e120af0cf34', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 04:30:28 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '234bffb3-b052-4312-bdc1-8e120af0cf34', 'x-amzn-bedrock-invocation-latency': '1210', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2df00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672307e49e73711f01126c8f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.186.194 - - [31/Oct/2024 04:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672315f59e73711f01126c91
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f05f6c0c-7b2f-4289-b98f-5be3d3fb6f28', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 05:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f05f6c0c-7b2f-4289-b98f-5be3d3fb6f28', 'x-amzn-bedrock-invocation-latency': '1286', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2e440>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672315f89e73711f01126c92
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.231.77 - - [31/Oct/2024 05:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:174.138.61.44 - - [31/Oct/2024 06:21:27] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672324209e73711f01126c94
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ccb485f4-6dfd-44d9-b7b9-f9030ce83a5d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 06:30:59 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'ccb485f4-6dfd-44d9-b7b9-f9030ce83a5d', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672324239e73711f01126c95
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.67.206 - - [31/Oct/2024 06:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6723323f9e73711f01126c97
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '87efc2cc-0b44-41ec-ad0d-c9fdd0b622b8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 07:31:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '87efc2cc-0b44-41ec-ad0d-c9fdd0b622b8', 'x-amzn-bedrock-invocation-latency': '1300', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672332429e73711f01126c98
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.67.206 - - [31/Oct/2024 07:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:147.185.132.16 - - [31/Oct/2024 07:40:04] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a547506a-668b-4da4-b37d-7c913f224665', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 08:30:38 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a547506a-668b-4da4-b37d-7c913f224665', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1600>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6723402e9e73711f01126c9a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd996b6dc-bde8-4d46-9b67-17b200d97d6b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 08:30:41 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd996b6dc-bde8-4d46-9b67-17b200d97d6b', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a411b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672340319e73711f01126c9b
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.67.175 - - [31/Oct/2024 08:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67234e519e73711f01126c9d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a8804a73-7a67-4d7f-992e-465bd326b036', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 09:30:59 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a8804a73-7a67-4d7f-992e-465bd326b036', 'x-amzn-bedrock-invocation-latency': '1232', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42fe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67234e539e73711f01126c9e
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.225.9 - - [31/Oct/2024 09:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.119 - - [31/Oct/2024 10:05:44] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:71.6.135.131 - - [31/Oct/2024 10:08:02] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:71.6.135.131 - - [31/Oct/2024 10:08:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67235c719e73711f01126ca0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd3372948-52b7-4223-885d-e4ac53c45c7a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 10:31:16 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'd3372948-52b7-4223-885d-e4ac53c45c7a', 'x-amzn-bedrock-invocation-latency': '1305', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2c80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67235c749e73711f01126ca1
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.143.233 - - [31/Oct/2024 10:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3c82c906-a1a1-475d-b700-a68973881f79', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 11:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3c82c906-a1a1-475d-b700-a68973881f79', 'x-amzn-bedrock-invocation-latency': '304', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67236a489e73711f01126ca3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '950b6741-0065-4c93-9f7b-1b09e1179270', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 11:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '950b6741-0065-4c93-9f7b-1b09e1179270', 'x-amzn-bedrock-invocation-latency': '1221', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a423e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67236a4b9e73711f01126ca4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.161.209.2 - - [31/Oct/2024 11:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5f44c13b-4537-41f0-895c-44463304b995', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 12:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5f44c13b-4537-41f0-895c-44463304b995', 'x-amzn-bedrock-invocation-latency': '390', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8bb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672378529e73711f01126ca6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '95e72026-1939-48b0-ab0e-c2db6a3b0975', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 12:30:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '95e72026-1939-48b0-ab0e-c2db6a3b0975', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40af0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672378559e73711f01126ca7
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.104.33 - - [31/Oct/2024 12:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.58.97.162 - - [31/Oct/2024 13:26:08] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672386a49e73711f01126ca9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'eb578ab4-8c9c-4768-b0dc-59d3e0828ebc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 13:31:19 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'eb578ab4-8c9c-4768-b0dc-59d3e0828ebc', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40ac0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672386a79e73711f01126caa
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.196.185 - - [31/Oct/2024 13:31:19] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:80.66.83.114 - - [31/Oct/2024 13:45:42] code 400, message Bad request syntax ('\x04\x01\x00\x19h/\x12√°\x00')
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 13:45:42] "[31m[1m\x04\x01\x00\x19h/\x12√°\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [31/Oct/2024 13:46:42] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 13:46:42] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 13:46:43] "[33mCONNECT hotmail-com.olc.protection.outlook.com:25 HTTP/1.1[0m" 404 -
ERROR:werkzeug:80.66.83.114 - - [31/Oct/2024 13:52:08] code 400, message Bad request syntax ('\x04\x01\x00\x194e\x085\x00')
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 13:52:08] "[31m[1m\x04\x01\x00\x194e\x085\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [31/Oct/2024 13:53:08] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 13:53:08] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 13:53:08] "[33mCONNECT hotmail-com.olc.protection.outlook.com:25 HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '642482be-9d4a-4e8b-942b-84094aac5a47', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 14:30:56 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '642482be-9d4a-4e8b-942b-84094aac5a47', 'x-amzn-bedrock-invocation-latency': '307', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42680>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672394a09e73711f01126cac
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0a3f9ed0-281c-4eb4-9035-faa3956e08d1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 14:30:59 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0a3f9ed0-281c-4eb4-9035-faa3956e08d1', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40e50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672394a39e73711f01126cad
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.149.137 - - [31/Oct/2024 14:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ace24bc0-c245-4c6a-9a90-e0bfc831df3a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 15:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ace24bc0-c245-4c6a-9a90-e0bfc831df3a', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfab90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6723a27f9e73711f01126caf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '92634da7-15c1-40e3-a4ac-2d16d1a4ec73', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 15:30:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '92634da7-15c1-40e3-a4ac-2d16d1a4ec73', 'x-amzn-bedrock-invocation-latency': '1224', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42140>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6723a2829e73711f01126cb0
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.65.148 - - [31/Oct/2024 15:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6723b0af9e73711f01126cb2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '614eb029-381d-4915-b29a-482cea5bbbc7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 16:30:41 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '614eb029-381d-4915-b29a-482cea5bbbc7', 'x-amzn-bedrock-invocation-latency': '1288', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43ca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6723b0b19e73711f01126cb3
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.129.67 - - [31/Oct/2024 16:30:41] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:80.66.83.114 - - [31/Oct/2024 16:54:07] code 400, message Bad HTTP/0.9 request type ('\x04\x01\x00PU√é')
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 16:54:07] "[31m[1m\x04\x01\x00PU√é¬†s\x00[0m" 400 -
ERROR:werkzeug:80.66.83.114 - - [31/Oct/2024 16:55:07] code 400, message Bad request syntax ('\x05\x01\x00')
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 16:55:07] "[31m[1m\x05\x01\x00[0m" 400 -
INFO:werkzeug:80.66.83.114 - - [31/Oct/2024 16:55:07] "[33mCONNECT 85.206.160.115:80 HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0a91fb2a-7a5e-4ef0-94f0-a04dad07e671', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 17:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0a91fb2a-7a5e-4ef0-94f0-a04dad07e671', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6723beb19e73711f01126cb5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e4e1096d-ad68-4bd8-bb9d-afab9b9cec04', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 17:30:27 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e4e1096d-ad68-4bd8-bb9d-afab9b9cec04', 'x-amzn-bedrock-invocation-latency': '1229', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6723beb39e73711f01126cb6
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.81.254.104 - - [31/Oct/2024 17:30:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6723cd299e73711f01126cb8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5b463836-4fa4-40ee-94e5-c1aadc6f467b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 18:32:12 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '5b463836-4fa4-40ee-94e5-c1aadc6f467b', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd00a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6723cd2c9e73711f01126cb9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.129.67 - - [31/Oct/2024 18:32:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '573a234b-ae80-419b-b692-1831e3755762', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 19:30:46 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '573a234b-ae80-419b-b692-1831e3755762', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6723dae69e73711f01126cbb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '34e68b20-66a0-4742-b916-635743af1da0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 19:30:49 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '34e68b20-66a0-4742-b916-635743af1da0', 'x-amzn-bedrock-invocation-latency': '1225', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6723dae99e73711f01126cbc
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.114.40 - - [31/Oct/2024 19:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '267eafdf-5d55-4864-b1c7-f50de42ab359', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 20:30:41 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '267eafdf-5d55-4864-b1c7-f50de42ab359', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6723e8f19e73711f01126cbe
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3edfc43-08ac-48df-b09c-3f47fab38227', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 20:30:44 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3edfc43-08ac-48df-b09c-3f47fab38227', 'x-amzn-bedrock-invocation-latency': '1238', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f010>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6723e8f49e73711f01126cbf
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.237.188.242 - - [31/Oct/2024 20:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '38fc22ce-e5d2-4740-b56e-1eaf22193536', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 21:30:27 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '38fc22ce-e5d2-4740-b56e-1eaf22193536', 'x-amzn-bedrock-invocation-latency': '410', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43a30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6723f6f39e73711f01126cc1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'de4f925e-2b6c-426b-a03b-04249cfce111', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 21:30:30 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'de4f925e-2b6c-426b-a03b-04249cfce111', 'x-amzn-bedrock-invocation-latency': '1240', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ec50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6723f6f69e73711f01126cc2
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.135.71 - - [31/Oct/2024 21:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5993c041-c904-4b5e-8abd-167586480033', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 22:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5993c041-c904-4b5e-8abd-167586480033', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672404f29e73711f01126cc4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bb1236f0-5fe3-4898-99b6-4c1f24393e3a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 22:30:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bb1236f0-5fe3-4898-99b6-4c1f24393e3a', 'x-amzn-bedrock-invocation-latency': '1260', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42890>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672404f59e73711f01126cc5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.242.64.127 - - [31/Oct/2024 22:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '80be754c-7140-42a4-9dc7-0722aeda06f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 23:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '80be754c-7140-42a4-9dc7-0722aeda06f2', 'x-amzn-bedrock-invocation-latency': '361', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672413019e73711f01126cc7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7ffb8320-7c61-479a-a9c5-2ee371281abf', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 31 Oct 2024 23:30:11 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '7ffb8320-7c61-479a-a9c5-2ee371281abf', 'x-amzn-bedrock-invocation-latency': '1206', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9eb60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672413039e73711f01126cc8
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.24.29.12 - - [31/Oct/2024 23:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672421369e73711f01126cca
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4b6a0c30-ef24-428d-91c9-841015711568', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 00:30:49 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4b6a0c30-ef24-428d-91c9-841015711568', 'x-amzn-bedrock-invocation-latency': '1272', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672421399e73711f01126ccb
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.110.215 - - [01/Nov/2024 00:30:49] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.158 - - [01/Nov/2024 01:16:15] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b515d58c-2858-4f13-abe1-87d5ea144df7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 01:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b515d58c-2858-4f13-abe1-87d5ea144df7', 'x-amzn-bedrock-invocation-latency': '365', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb2b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67242f329e73711f01126ccd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a7f7e457-f935-4a2e-a448-3b4d1f12a484', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 01:30:28 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a7f7e457-f935-4a2e-a448-3b4d1f12a484', 'x-amzn-bedrock-invocation-latency': '1236', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67242f349e73711f01126cce
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.56.62 - - [01/Nov/2024 01:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67243d5a9e73711f01126cd0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6497ea39-f47c-4c36-b2cb-836c4c97e409', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 02:30:52 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6497ea39-f47c-4c36-b2cb-836c4c97e409', 'x-amzn-bedrock-invocation-latency': '1285', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67243d5c9e73711f01126cd1
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.185.83 - - [01/Nov/2024 02:30:52] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67244b739e73711f01126cd3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '391d11fe-2d89-4792-843d-0c8bda70eabc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 03:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '391d11fe-2d89-4792-843d-0c8bda70eabc', 'x-amzn-bedrock-invocation-latency': '1301', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9d150>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67244b769e73711f01126cd4
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.93.242.251 - - [01/Nov/2024 03:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a1bc114e-9e9e-4d84-91c6-32b87cf149fc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 04:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a1bc114e-9e9e-4d84-91c6-32b87cf149fc', 'x-amzn-bedrock-invocation-latency': '409', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a404c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672459709e73711f01126cd6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '78991ba9-4b58-45d1-9f06-9252ebcecf5c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 04:30:43 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '78991ba9-4b58-45d1-9f06-9252ebcecf5c', 'x-amzn-bedrock-invocation-latency': '1206', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e380>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672459739e73711f01126cd7
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.207.210.238 - - [01/Nov/2024 04:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6724679a9e73711f01126cd9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04d6f4ce-a889-4945-aaad-14d3be10c724', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 05:31:08 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '04d6f4ce-a889-4945-aaad-14d3be10c724', 'x-amzn-bedrock-invocation-latency': '1272', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7aa10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6724679c9e73711f01126cda
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.222.193 - - [01/Nov/2024 05:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b88d43e6-13b6-47fa-af98-48211c575f04', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 06:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b88d43e6-13b6-47fa-af98-48211c575f04', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672475879e73711f01126cdc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cd34707b-a04f-4d03-993e-8074e884fb28', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 06:30:33 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cd34707b-a04f-4d03-993e-8074e884fb28', 'x-amzn-bedrock-invocation-latency': '1221', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ee60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672475899e73711f01126cdd
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.211.7 - - [01/Nov/2024 06:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:34.140.63.218 - - [01/Nov/2024 06:54:36] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6724839d9e73711f01126cdf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '30d45628-4e1f-4ffd-b039-b40e2d9a3279', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 07:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '30d45628-4e1f-4ffd-b039-b40e2d9a3279', 'x-amzn-bedrock-invocation-latency': '1328', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c5b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672483a09e73711f01126ce0
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.212.49.24 - - [01/Nov/2024 07:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672491b49e73711f01126ce2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8bb32211-78c7-472a-af94-0b2c003dece6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 08:30:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8bb32211-78c7-472a-af94-0b2c003dece6', 'x-amzn-bedrock-invocation-latency': '1261', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672491b79e73711f01126ce3
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.198.3.185 - - [01/Nov/2024 08:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '470d958b-91ef-42d0-a90b-634190074866', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 09:30:31 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '470d958b-91ef-42d0-a90b-634190074866', 'x-amzn-bedrock-invocation-latency': '337', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c5e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67249fb79e73711f01126ce5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e10da637-b580-41c9-9d82-c3472bc4db7a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 09:30:34 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e10da637-b580-41c9-9d82-c3472bc4db7a', 'x-amzn-bedrock-invocation-latency': '1233', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b010>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67249fba9e73711f01126ce6
INFO:__main__:Process completed successfully.
INFO:werkzeug:23.22.131.3 - - [01/Nov/2024 09:30:34] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:40.83.135.186 - - [01/Nov/2024 09:43:13] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c88dba12-4a45-4feb-ae59-f49029ed36d2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 10:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c88dba12-4a45-4feb-ae59-f49029ed36d2', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cee0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6724adb29e73711f01126ce8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b084b6bb-1e21-4f97-a9e5-33dfc3fd0e68', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 10:30:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'b084b6bb-1e21-4f97-a9e5-33dfc3fd0e68', 'x-amzn-bedrock-invocation-latency': '1229', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f9a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6724adb49e73711f01126ce9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.32.189 - - [01/Nov/2024 10:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6724bbef9e73711f01126ceb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fce52a13-e797-419a-8c74-90bea309c6d5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 11:30:57 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'fce52a13-e797-419a-8c74-90bea309c6d5', 'x-amzn-bedrock-invocation-latency': '1265', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78e50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6724bbf19e73711f01126cec
INFO:__main__:Process completed successfully.
INFO:werkzeug:204.236.241.106 - - [01/Nov/2024 11:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1924b7f8-3b89-4319-a516-72cadad5270e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 12:30:53 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1924b7f8-3b89-4319-a516-72cadad5270e', 'x-amzn-bedrock-invocation-latency': '334', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42890>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6724c9fd9e73711f01126cee
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a2b5b9ae-e9fa-45fc-8123-9f8e4652550d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 12:30:56 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a2b5b9ae-e9fa-45fc-8123-9f8e4652550d', 'x-amzn-bedrock-invocation-latency': '1236', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79900>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6724ca009e73711f01126cef
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.199.215.64 - - [01/Nov/2024 12:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6724d81f9e73711f01126cf1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd18b24e4-eee0-4bcc-a796-747360a164a3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 13:31:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd18b24e4-eee0-4bcc-a796-747360a164a3', 'x-amzn-bedrock-invocation-latency': '1301', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a080>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6724d8219e73711f01126cf2
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.167.251.228 - - [01/Nov/2024 13:31:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ccc732bc-cdc0-481b-9bc9-8bc6eb5db285', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 14:31:13 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'ccc732bc-cdc0-481b-9bc9-8bc6eb5db285', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6724e6319e73711f01126cf4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb0cc6f5-61db-40a6-b414-8f4dacb76713', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 14:31:15 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb0cc6f5-61db-40a6-b414-8f4dacb76713', 'x-amzn-bedrock-invocation-latency': '1228', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6724e6339e73711f01126cf5
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.208.163.103 - - [01/Nov/2024 14:31:15] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6724f4479e73711f01126cf7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '992f534a-b0bd-4398-8668-0579fb341b40', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 15:31:22 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '992f534a-b0bd-4398-8668-0579fb341b40', 'x-amzn-bedrock-invocation-latency': '1235', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6724f44a9e73711f01126cf8
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.213.120.171 - - [01/Nov/2024 15:31:22] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.87.133.189 - - [01/Nov/2024 16:07:54] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '22257cec-48a6-446c-9464-caabc8dfa378', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 16:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '22257cec-48a6-446c-9464-caabc8dfa378', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf98a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672502269e73711f01126cfa
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '28b33074-9844-44f6-ad1f-21c622197e1c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 16:30:33 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '28b33074-9844-44f6-ad1f-21c622197e1c', 'x-amzn-bedrock-invocation-latency': '1207', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ab00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672502299e73711f01126cfb
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.38.249 - - [01/Nov/2024 16:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '417e81d4-46ee-4b11-82a2-c993e50363f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 17:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '417e81d4-46ee-4b11-82a2-c993e50363f2', 'x-amzn-bedrock-invocation-latency': '370', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a796c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672510229e73711f01126cfd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '42db683c-cef7-400a-a67e-1ffe2cd02e20', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 17:30:12 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '42db683c-cef7-400a-a67e-1ffe2cd02e20', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c3a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672510249e73711f01126cfe
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.80.188.239 - - [01/Nov/2024 17:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '488e4e26-246e-47c2-a6ae-04853a8ed29f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 18:30:11 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '488e4e26-246e-47c2-a6ae-04853a8ed29f', 'x-amzn-bedrock-invocation-latency': '291', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '239'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a080>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":239,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67251e339e73711f01126d00
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c6453280-cb91-4b87-87c8-17fa84ee9455', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 18:30:14 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'c6453280-cb91-4b87-87c8-17fa84ee9455', 'x-amzn-bedrock-invocation-latency': '1249', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a785b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67251e369e73711f01126d01
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.59.89 - - [01/Nov/2024 18:30:14] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:167.99.209.184 - - [01/Nov/2024 18:32:34] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67252c569e73711f01126d03
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1b3ec9a7-6be7-4502-9dc6-85f2470d868b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 19:30:32 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '1b3ec9a7-6be7-4502-9dc6-85f2470d868b', 'x-amzn-bedrock-invocation-latency': '1297', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b550>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67252c589e73711f01126d04
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.204.78.0 - - [01/Nov/2024 19:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41f1097f-c78a-4f3f-b4e9-888526841ee1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 20:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '41f1097f-c78a-4f3f-b4e9-888526841ee1', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67253a629e73711f01126d06
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '39cbb05f-fff1-48f2-ab20-cd8d9d667c80', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 20:30:29 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '39cbb05f-fff1-48f2-ab20-cd8d9d667c80', 'x-amzn-bedrock-invocation-latency': '1242', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2d210>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67253a659e73711f01126d07
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.204.78.0 - - [01/Nov/2024 20:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672548989e73711f01126d09
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3e01cbfe-16f7-4d41-b4a4-957f7ab8415a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 21:31:06 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '3e01cbfe-16f7-4d41-b4a4-957f7ab8415a', 'x-amzn-bedrock-invocation-latency': '1256', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2dab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725489a9e73711f01126d0a
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.56.13 - - [01/Nov/2024 21:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.144 - - [01/Nov/2024 22:21:08] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '461d0b91-a7d4-405c-8ef9-a36c97948324', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 22:31:04 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '461d0b91-a7d4-405c-8ef9-a36c97948324', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '239'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e6e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":239,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672556a89e73711f01126d0c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '119ffd30-2d36-464e-affa-d703736139fd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 22:31:07 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '119ffd30-2d36-464e-affa-d703736139fd', 'x-amzn-bedrock-invocation-latency': '1241', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ec80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672556ab9e73711f01126d0d
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.212.53.87 - - [01/Nov/2024 22:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '48df1829-f0b8-4c28-af7e-b73826e59e6b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 23:30:48 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '48df1829-f0b8-4c28-af7e-b73826e59e6b', 'x-amzn-bedrock-invocation-latency': '407', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79f30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672564a89e73711f01126d0f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '146e5458-b98b-4295-9b5c-98bac2f97580', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Fri, 01 Nov 2024 23:30:51 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '146e5458-b98b-4295-9b5c-98bac2f97580', 'x-amzn-bedrock-invocation-latency': '1274', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c430>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672564ab9e73711f01126d10
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.87.184.28 - - [01/Nov/2024 23:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672572cb9e73711f01126d12
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f637869a-feef-4b45-9b25-aaa7da34a403', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 00:31:09 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f637869a-feef-4b45-9b25-aaa7da34a403', 'x-amzn-bedrock-invocation-latency': '1264', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2da80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672572cd9e73711f01126d13
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.128.225 - - [02/Nov/2024 00:31:09] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:94.185.76.17 - - [02/Nov/2024 00:37:45] code 400, message Bad request version ('+\x0f\x97¬π√Ü¬ø\x99[\x9dr\x82¬ª9!1,\x99\x95%√¨%√ïK\x00"¬∫¬∫\x13\x01\x13\x02\x13\x03√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x13√Ä\x14\x00\x9c\x00\x9d\x00/\x005\x00')
INFO:werkzeug:94.185.76.17 - - [02/Nov/2024 00:37:45] "[31m[1m\x16\x03\x00\x02\x00\x01\x00\x01√º\x03\x03√∫√ò7¬¶\x0bj√∞√∑*]\x11\x15\x1b\x10\x12\x10\x1f√†=\x7fX\x17\x8a\x9aE[√∏¬∞\x8a√ò5t A¬®√µ√≤p√ÇFS\x0d+\x0f\x97¬π√Ü¬ø\x99[\x9dr\x82¬ª9!1,\x99\x95%√¨%√ïK\x00"¬∫¬∫\x13\x01\x13\x02\x13\x03√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x13√Ä\x14\x00\x9c\x00\x9d\x00/\x005\x00[0m" 400 -
INFO:werkzeug:94.185.76.17 - - [02/Nov/2024 00:37:46] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:220.246.63.79 - - [02/Nov/2024 00:42:31] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '97c51096-3469-4eef-a5ac-033fd7e906e4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 01:31:02 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '97c51096-3469-4eef-a5ac-033fd7e906e4', 'x-amzn-bedrock-invocation-latency': '364', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672580d69e73711f01126d15
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0f132f42-ab89-48fc-b6ac-eec825ae79a3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 01:31:04 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0f132f42-ab89-48fc-b6ac-eec825ae79a3', 'x-amzn-bedrock-invocation-latency': '1251', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2e710>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672580d89e73711f01126d16
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.90.67.248 - - [02/Nov/2024 01:31:04] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '871baea5-6677-46de-abca-f7d75f847fff', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 02:30:48 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '871baea5-6677-46de-abca-f7d75f847fff', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2ca60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67258ed89e73711f01126d18
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '616233cf-24bd-4b74-94ee-5a7bf384fcf1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 02:30:51 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '616233cf-24bd-4b74-94ee-5a7bf384fcf1', 'x-amzn-bedrock-invocation-latency': '1223', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67258edb9e73711f01126d19
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.212.9.238 - - [02/Nov/2024 02:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ace4f857-2b18-4513-9967-7fd07706c977', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 03:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ace4f857-2b18-4513-9967-7fd07706c977', 'x-amzn-bedrock-invocation-latency': '345', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd03d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67259cc79e73711f01126d1b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '24c16ffc-aed4-496a-8f69-91971e8e15c3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 03:30:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '24c16ffc-aed4-496a-8f69-91971e8e15c3', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43cd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67259cc99e73711f01126d1c
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.211.193.114 - - [02/Nov/2024 03:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:154.212.141.204 - - [02/Nov/2024 04:18:30] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6725aaf19e73711f01126d1e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfd69954-40e8-450f-9a22-983844410d1c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 04:30:44 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfd69954-40e8-450f-9a22-983844410d1c', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a425f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725aaf49e73711f01126d1f
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.178.86 - - [02/Nov/2024 04:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8f91a9f6-df5e-4a24-842d-e1918eb7703d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 05:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8f91a9f6-df5e-4a24-842d-e1918eb7703d', 'x-amzn-bedrock-invocation-latency': '359', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6725b8df9e73711f01126d21
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f805ec8e-7c52-46a2-8176-5c282917994e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 05:30:10 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'f805ec8e-7c52-46a2-8176-5c282917994e', 'x-amzn-bedrock-invocation-latency': '1219', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725b8e29e73711f01126d22
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.90.3.16 - - [02/Nov/2024 05:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.110 - - [02/Nov/2024 05:36:58] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.197.114 - - [02/Nov/2024 05:37:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6725c70e9e73711f01126d24
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c2d743d4-0290-4ee1-9957-fe16efbbedc2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 06:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c2d743d4-0290-4ee1-9957-fe16efbbedc2', 'x-amzn-bedrock-invocation-latency': '1237', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725c7109e73711f01126d25
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.90.3.16 - - [02/Nov/2024 06:30:40] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:64.227.133.142 - - [02/Nov/2024 06:43:29] code 400, message Bad HTTP/0.9 request type ("\x16\x03\x01\x00{\x01\x00\x00w\x03\x03Jr¬Ωu\x06√πf\x87\x8ap~¬∂(√ú\x0f-√∞√Ä¬ß√î√ë√è\x80¬¶√ª\x9et¬¢'¬ø√´√ô\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä")
INFO:werkzeug:64.227.133.142 - - [02/Nov/2024 06:43:29] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03Jr¬Ωu\x06√πf\x87\x8ap~¬∂(√ú\x0f-√∞√Ä¬ß√î√ë√è\x80¬¶√ª\x9et¬¢'¬ø√´√ô\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:64.227.133.142 - - [02/Nov/2024 06:43:29] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:64.227.133.142 - - [02/Nov/2024 06:43:29] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x140\x9fU√π√≥CM _\x1b√∫√Ö√ä\x93√Ö¬±z|hB√à¬°u¬º\x08:@>¬∂¬π\x89\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:64.227.133.142 - - [02/Nov/2024 06:43:29] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6725d5419e73711f01126d27
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '071a05c1-4c38-40aa-9b77-77fd6d0a5ede', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 07:31:16 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '071a05c1-4c38-40aa-9b77-77fd6d0a5ede', 'x-amzn-bedrock-invocation-latency': '1270', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c524670>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725d5449e73711f01126d28
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.80.242.116 - - [02/Nov/2024 07:31:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fba83179-37d2-42c4-984d-36e65967c035', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 08:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fba83179-37d2-42c4-984d-36e65967c035', 'x-amzn-bedrock-invocation-latency': '389', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6725e3169e73711f01126d2a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c2322795-6980-43cf-907a-b16e6a6c88c2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 08:30:16 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'c2322795-6980-43cf-907a-b16e6a6c88c2', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f700>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725e3189e73711f01126d2b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.215.184.172 - - [02/Nov/2024 08:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6725f14b9e73711f01126d2d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '38b7ae30-45bf-480d-baae-63f4093274ed', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 09:30:53 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '38b7ae30-45bf-480d-baae-63f4093274ed', 'x-amzn-bedrock-invocation-latency': '1241', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725f14d9e73711f01126d2e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.206.175 - - [02/Nov/2024 09:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c0bbf50d-9f1d-4fbd-96f1-8523b5fcf851', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 10:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'c0bbf50d-9f1d-4fbd-96f1-8523b5fcf851', 'x-amzn-bedrock-invocation-latency': '355', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6725ff459e73711f01126d30
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c4df9e26-4339-422a-9fb4-b718b60e059d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 10:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c4df9e26-4339-422a-9fb4-b718b60e059d', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf96c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6725ff489e73711f01126d31
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.206.224.115 - - [02/Nov/2024 10:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '41bde26f-51f4-4c44-bf2a-3abf3071c959', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 11:30:31 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '41bde26f-51f4-4c44-bf2a-3abf3071c959', 'x-amzn-bedrock-invocation-latency': '364', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2ffd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67260d579e73711f01126d33
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '23e0cfbf-487f-4bec-b14f-49f279616d27', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 11:30:33 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '23e0cfbf-487f-4bec-b14f-49f279616d27', 'x-amzn-bedrock-invocation-latency': '1216', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c4c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67260d599e73711f01126d34
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.206.224.115 - - [02/Nov/2024 11:30:33] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67261b959e73711f01126d36
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '23b04e8f-203f-4a06-b0cc-fe9e7e33419f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 12:31:20 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '23b04e8f-203f-4a06-b0cc-fe9e7e33419f', 'x-amzn-bedrock-invocation-latency': '1214', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ed10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67261b989e73711f01126d37
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.204.149.214 - - [02/Nov/2024 12:31:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3f6dcd37-ea7d-4307-ba21-ea96b3387fd7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 13:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3f6dcd37-ea7d-4307-ba21-ea96b3387fd7', 'x-amzn-bedrock-invocation-latency': '306', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526d10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672629699e73711f01126d39
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '827c3d56-b260-462a-ada4-9846a3553a20', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 13:30:20 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '827c3d56-b260-462a-ada4-9846a3553a20', 'x-amzn-bedrock-invocation-latency': '1223', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f4c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726296c9e73711f01126d3a
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.229.245.253 - - [02/Nov/2024 13:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '850d2ea7-b899-4e31-b379-83c4b9829db3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 14:30:13 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '850d2ea7-b899-4e31-b379-83c4b9829db3', 'x-amzn-bedrock-invocation-latency': '375', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f4f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672637759e73711f01126d3c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '00a3f3a0-8f96-4c1b-a666-83b998a8839f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 14:30:16 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '00a3f3a0-8f96-4c1b-a666-83b998a8839f', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb460>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672637789e73711f01126d3d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.74.19 - - [02/Nov/2024 14:30:16] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672645aa9e73711f01126d3f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ccc88884-be20-436a-81f1-2e310acd8744', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 15:30:53 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'ccc88884-be20-436a-81f1-2e310acd8744', 'x-amzn-bedrock-invocation-latency': '1275', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fd30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672645ad9e73711f01126d40
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.227.13.162 - - [02/Nov/2024 15:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f1fe9b6-41a0-4140-b4b3-9aeb36e262b0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 16:30:26 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7f1fe9b6-41a0-4140-b4b3-9aeb36e262b0', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd26e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672653a29e73711f01126d42
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '634c7003-dd56-41c2-8437-d400e7b0812c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 16:30:29 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '634c7003-dd56-41c2-8437-d400e7b0812c', 'x-amzn-bedrock-invocation-latency': '1209', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e3b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672653a59e73711f01126d43
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.206.224.115 - - [02/Nov/2024 16:30:29] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e3f07cdc-14e1-4baf-9992-249aead5feb5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 17:30:27 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'e3f07cdc-14e1-4baf-9992-249aead5feb5', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1420>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672661b39e73711f01126d45
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c4f033be-3f4f-42dc-85f5-754b6179848f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 17:30:30 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'c4f033be-3f4f-42dc-85f5-754b6179848f', 'x-amzn-bedrock-invocation-latency': '1221', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672661b69e73711f01126d46
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.92.183 - - [02/Nov/2024 17:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.94 - - [02/Nov/2024 18:23:32] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6726701b9e73711f01126d48
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e47999e5-2cd7-4a9f-8163-873d51a48601', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 18:31:58 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e47999e5-2cd7-4a9f-8163-873d51a48601', 'x-amzn-bedrock-invocation-latency': '1295', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa7d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726701e9e73711f01126d49
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.85.74.19 - - [02/Nov/2024 18:31:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '98f39f08-0b26-42ba-883f-d77c3f7c3e38', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 19:30:54 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '98f39f08-0b26-42ba-883f-d77c3f7c3e38', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41750>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67267dee9e73711f01126d4b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fc72bbb9-32cc-4703-b21e-c74125bc00e8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 19:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fc72bbb9-32cc-4703-b21e-c74125bc00e8', 'x-amzn-bedrock-invocation-latency': '1257', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1c30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67267df19e73711f01126d4c
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.175.252.146 - - [02/Nov/2024 19:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ef02431e-9252-4fef-a292-99f24a9121ae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 20:30:55 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'ef02431e-9252-4fef-a292-99f24a9121ae', 'x-amzn-bedrock-invocation-latency': '374', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a408e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67268bff9e73711f01126d4e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '58c48159-aa75-4bc1-abbd-6196daa5cd0d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 20:30:58 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '58c48159-aa75-4bc1-abbd-6196daa5cd0d', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd25f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67268c029e73711f01126d4f
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.234.215.84 - - [02/Nov/2024 20:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67269a179e73711f01126d51
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3181c695-401e-4b89-99be-2cacd15972f0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 21:31:06 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3181c695-401e-4b89-99be-2cacd15972f0', 'x-amzn-bedrock-invocation-latency': '1279', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67269a1a9e73711f01126d52
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.174.31.243 - - [02/Nov/2024 21:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e34d6443-8246-44ab-80fe-01bbbfdb6c40', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 22:30:28 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e34d6443-8246-44ab-80fe-01bbbfdb6c40', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2320>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6726a8049e73711f01126d54
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '900fa853-402a-4b24-b376-62c8f9554a36', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 22:30:31 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '900fa853-402a-4b24-b376-62c8f9554a36', 'x-amzn-bedrock-invocation-latency': '1232', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726a8079e73711f01126d55
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.157.156 - - [02/Nov/2024 22:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.33 - - [02/Nov/2024 22:51:42] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13622542-a3c7-4f69-8733-0e94b1b99e1b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 23:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '13622542-a3c7-4f69-8733-0e94b1b99e1b', 'x-amzn-bedrock-invocation-latency': '322', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a424d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6726b6069e73711f01126d57
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2bef00bb-7f6c-4e76-a22a-e8b98d73a955', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sat, 02 Nov 2024 23:30:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2bef00bb-7f6c-4e76-a22a-e8b98d73a955', 'x-amzn-bedrock-invocation-latency': '1237', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3c70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726b6099e73711f01126d58
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.204.104.10 - - [02/Nov/2024 23:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6726c41d9e73711f01126d5a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '46479da3-8616-407c-9922-6be4204879b2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 00:30:24 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '46479da3-8616-407c-9922-6be4204879b2', 'x-amzn-bedrock-invocation-latency': '1288', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726c4209e73711f01126d5b
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.87.139 - - [03/Nov/2024 00:30:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6726d23e9e73711f01126d5d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a54cf27d-95b5-48cf-aa6c-6b49c6ccf22b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 01:30:41 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a54cf27d-95b5-48cf-aa6c-6b49c6ccf22b', 'x-amzn-bedrock-invocation-latency': '1234', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbd90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726d2419e73711f01126d5e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.236.37.12 - - [03/Nov/2024 01:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6726e0589e73711f01126d60
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e3131528-a320-4409-80ef-bb6a6d8d9421', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 02:30:51 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'e3131528-a320-4409-80ef-bb6a6d8d9421', 'x-amzn-bedrock-invocation-latency': '1264', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9e10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726e05b9e73711f01126d61
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.88.35.181 - - [03/Nov/2024 02:30:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c0c704f-a567-4b76-94fa-a12f646aa61e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 03:30:37 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6c0c704f-a567-4b76-94fa-a12f646aa61e', 'x-amzn-bedrock-invocation-latency': '346', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1a50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6726ee5d9e73711f01126d63
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bc110d4a-9e6e-4cf1-8995-a4dbbef9201e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 03:30:40 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'bc110d4a-9e6e-4cf1-8995-a4dbbef9201e', 'x-amzn-bedrock-invocation-latency': '1203', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ca30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726ee609e73711f01126d64
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.236.13.58 - - [03/Nov/2024 03:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.159 - - [03/Nov/2024 04:09:34] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.197.160 - - [03/Nov/2024 04:09:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a4742933-8231-4757-97ca-c418302a057c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 04:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'a4742933-8231-4757-97ca-c418302a057c', 'x-amzn-bedrock-invocation-latency': '377', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42f80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6726fc4f9e73711f01126d66
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8046a222-170a-42f7-92a9-949dcd13d0da', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 04:30:10 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '8046a222-170a-42f7-92a9-949dcd13d0da', 'x-amzn-bedrock-invocation-latency': '1225', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6726fc529e73711f01126d67
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.23.205.14 - - [03/Nov/2024 04:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1942ac54-ed6c-443d-95ba-d961c6a88f67', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 05:30:10 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '1942ac54-ed6c-443d-95ba-d961c6a88f67', 'x-amzn-bedrock-invocation-latency': '362', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '239'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e440>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":239,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 67270a629e73711f01126d69
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bf62e478-df57-4bf5-a953-946cc292ec45', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 05:30:13 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': 'bf62e478-df57-4bf5-a953-946cc292ec45', 'x-amzn-bedrock-invocation-latency': '1230', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8c10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67270a659e73711f01126d6a
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.91.62.174 - - [03/Nov/2024 05:30:13] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672718c19e73711f01126d6c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'aa91736c-3061-49ac-8dd8-3a933403c080', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 06:31:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'aa91736c-3061-49ac-8dd8-3a933403c080', 'x-amzn-bedrock-invocation-latency': '1302', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbcd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672718c49e73711f01126d6d
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.200.229.255 - - [03/Nov/2024 06:31:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e8063bd7-48af-420b-a6a8-b7b698836a02', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 07:30:28 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'e8063bd7-48af-420b-a6a8-b7b698836a02', 'x-amzn-bedrock-invocation-latency': '357', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1a80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672726949e73711f01126d6f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0921c975-5235-467b-8d80-51fd6d859da8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 07:30:30 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '0921c975-5235-467b-8d80-51fd6d859da8', 'x-amzn-bedrock-invocation-latency': '1218', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb7c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672726969e73711f01126d70
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.83.137.85 - - [03/Nov/2024 07:30:30] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672734b39e73711f01126d72
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2392486c-abf1-4eb0-ac4e-d3aac1b1e963', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 08:30:46 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2392486c-abf1-4eb0-ac4e-d3aac1b1e963', 'x-amzn-bedrock-invocation-latency': '1333', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa530>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672734b69e73711f01126d73
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.209.211.96 - - [03/Nov/2024 08:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ec27856b-54ae-42a5-ac5d-64008e489a90', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 09:30:35 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ec27856b-54ae-42a5-ac5d-64008e489a90', 'x-amzn-bedrock-invocation-latency': '391', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c3a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672742bb9e73711f01126d75
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '40a053bb-70b2-439e-841c-2bcf380e5dda', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 09:30:38 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '40a053bb-70b2-439e-841c-2bcf380e5dda', 'x-amzn-bedrock-invocation-latency': '1249', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672742be9e73711f01126d76
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.66.39 - - [03/Nov/2024 09:30:38] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f4247d2c-13f9-4a30-b782-0e3259d766ac', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 10:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f4247d2c-13f9-4a30-b782-0e3259d766ac', 'x-amzn-bedrock-invocation-latency': '358', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672750ae9e73711f01126d78
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '05069974-e13c-4347-90d1-dc5b72f76cce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 10:30:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '05069974-e13c-4347-90d1-dc5b72f76cce', 'x-amzn-bedrock-invocation-latency': '1258', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672750b09e73711f01126d79
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.194.113 - - [03/Nov/2024 10:30:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67275ede9e73711f01126d7b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9e481f75-60b1-42d6-894d-566c17857878', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 11:30:40 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '9e481f75-60b1-42d6-894d-566c17857878', 'x-amzn-bedrock-invocation-latency': '1244', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa1d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67275ee09e73711f01126d7c
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.133.169 - - [03/Nov/2024 11:30:40] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:209.38.19.31 - - [03/Nov/2024 12:27:20] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:209.38.19.31 - - [03/Nov/2024 12:27:20] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03√ä<√∑wV\\√ó\x91√á'√ç√öF\x1f¬ø√§d.\x7fe√ãH\x96√•√ß√õy\x1b√∫\x11√æt\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:209.38.19.31 - - [03/Nov/2024 12:27:20] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:209.38.19.31 - - [03/Nov/2024 12:27:20] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03¬≤@\x9a√™\x13{`√ò7\x94d\x02¬¢¬™√†¬£√∂¬æ√≥\x09aY\x90√ï]2√ïLs¬®√§¬Æ\x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:209.38.19.31 - - [03/Nov/2024 12:27:20] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8a85a5f7-42c9-46f8-8491-135f60c5ba3b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 12:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8a85a5f7-42c9-46f8-8491-135f60c5ba3b', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e680>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67276cd19e73711f01126d7e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '84ce9c50-44fe-42d9-92aa-9a3fe6b326e1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 12:30:12 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '84ce9c50-44fe-42d9-92aa-9a3fe6b326e1', 'x-amzn-bedrock-invocation-latency': '1211', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfab30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67276cd49e73711f01126d7f
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.208.26.197 - - [03/Nov/2024 12:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67277b0c9e73711f01126d81
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4cb303ff-99f6-46a3-ab7d-ff89ea265f2b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 13:30:54 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4cb303ff-99f6-46a3-ab7d-ff89ea265f2b', 'x-amzn-bedrock-invocation-latency': '1239', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfab90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67277b0e9e73711f01126d82
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.239.135.46 - - [03/Nov/2024 13:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '852fe4ee-ec6a-47cb-ba45-10359cfa6f86', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 14:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '852fe4ee-ec6a-47cb-ba45-10359cfa6f86', 'x-amzn-bedrock-invocation-latency': '410', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf86a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6727890f9e73711f01126d84
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '75d78b92-0eae-4b38-8ea3-c9d31174f344', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 14:30:42 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '75d78b92-0eae-4b38-8ea3-c9d31174f344', 'x-amzn-bedrock-invocation-latency': '1218', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79180>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672789129e73711f01126d85
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.192.1.149 - - [03/Nov/2024 14:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bc66b010-94a1-4a7a-941f-25539359606a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 15:30:21 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'bc66b010-94a1-4a7a-941f-25539359606a', 'x-amzn-bedrock-invocation-latency': '406', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6727970d9e73711f01126d87
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7727265e-3462-4f05-9385-f98355b3b1e4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 15:30:23 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7727265e-3462-4f05-9385-f98355b3b1e4', 'x-amzn-bedrock-invocation-latency': '1231', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727970f9e73711f01126d88
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.171.182.91 - - [03/Nov/2024 15:30:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed6bd3ce-29ba-4c87-8ca9-34f8a5fcf64a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 16:30:15 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed6bd3ce-29ba-4c87-8ca9-34f8a5fcf64a', 'x-amzn-bedrock-invocation-latency': '343', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd20e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6727a5179e73711f01126d8a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '024ebd81-5f67-4da3-8e40-802be128eee7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 16:30:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '024ebd81-5f67-4da3-8e40-802be128eee7', 'x-amzn-bedrock-invocation-latency': '1227', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf95d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727a5199e73711f01126d8b
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.207.163.234 - - [03/Nov/2024 16:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6727b3599e73711f01126d8d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a10c71f2-921f-46a7-878b-090f4170574c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 17:31:07 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a10c71f2-921f-46a7-878b-090f4170574c', 'x-amzn-bedrock-invocation-latency': '1222', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727b35b9e73711f01126d8e
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.86.159.44 - - [03/Nov/2024 17:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6727c2419e73711f01126d90
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6431390c-1ee5-424d-9de2-f42a8ec95086', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 18:34:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6431390c-1ee5-424d-9de2-f42a8ec95086', 'x-amzn-bedrock-invocation-latency': '1262', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ab30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727c2439e73711f01126d91
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.203.130 - - [03/Nov/2024 18:34:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7be18c73-73fc-4083-99ed-3bfdb69f2a6b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 19:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7be18c73-73fc-4083-99ed-3bfdb69f2a6b', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd21a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6727cf499e73711f01126d93
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2feda2f6-69df-43fa-a9cc-552c79d2afe1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 19:30:20 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '2feda2f6-69df-43fa-a9cc-552c79d2afe1', 'x-amzn-bedrock-invocation-latency': '1213', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf82e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727cf4c9e73711f01126d94
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.189.1 - - [03/Nov/2024 19:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6727dd7b9e73711f01126d96
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dbe661df-454d-45de-9c42-c575c7d9fd73', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 20:30:54 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'dbe661df-454d-45de-9c42-c575c7d9fd73', 'x-amzn-bedrock-invocation-latency': '1289', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf87c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727dd7e9e73711f01126d97
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.193.196.123 - - [03/Nov/2024 20:30:54] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f7240a05-f946-45a8-9a75-3c2bc166d273', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 21:30:25 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f7240a05-f946-45a8-9a75-3c2bc166d273', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9600>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6727eb719e73711f01126d99
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd2c83080-1140-4a0a-a5ba-8976512b4412', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 21:30:27 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'd2c83080-1140-4a0a-a5ba-8976512b4412', 'x-amzn-bedrock-invocation-latency': '1217', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727eb739e73711f01126d9a
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.201.218.93 - - [03/Nov/2024 21:30:27] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:35.203.211.144 - - [03/Nov/2024 21:44:33] code 400, message Bad request version ('√Ä\x13√Ä')
INFO:werkzeug:35.203.211.144 - - [03/Nov/2024 21:44:33] "[31m[1m\x16\x03\x01\x00√Æ\x01\x00\x00√™\x03\x03\x0f\x83√ß¬´D√ã√ú[\x1f\x93\x1a\x15√ü\x19\x81\x13\x998\x0eF /4√ïc√ß√≤6√™~¬∂x {\x89i¬¢\x0d√î\x97√∂√ºwQ\x12\x07%K\x90√∏¬£¬¨D√Ö√ö¬Æ\x917¬°√ñ\x02√ñ√∂\x85√ù\x00&√Ä+√Ä/√Ä,√Ä0√å¬©√å¬®√Ä\x09√Ä\x13√Ä[0m" 400 -
ERROR:werkzeug:35.203.211.144 - - [03/Nov/2024 21:44:34] code 400, message Bad request version ('√Ä(√Ä$√Ä\x14√Ä')
INFO:werkzeug:35.203.211.144 - - [03/Nov/2024 21:44:34] "[31m[1m\x16\x03\x01\x00√ä\x01\x00\x00√Ü\x03\x03|\x98G√Ü4u\x11\x8a\x98¬≠¬Ø\x83\x0f√¢:√§¬©`\x02¬•¬∏¬ø¬∫\x97¬ø√Å\x1b√∑√Ö\x8a\x05\x0c\x00\x00h√å\x14√å\x13√Ä/√Ä+√Ä0√Ä,√Ä\x11√Ä\x07√Ä'√Ä#√Ä\x13√Ä\x09√Ä(√Ä$√Ä\x14√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6727f98a9e73711f01126d9c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d1fe496-9bce-4439-ac06-740c27d98464', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 22:30:36 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8d1fe496-9bce-4439-ac06-740c27d98464', 'x-amzn-bedrock-invocation-latency': '1288', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a796f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6727f98c9e73711f01126d9d
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.237.185.124 - - [03/Nov/2024 22:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '060bc73b-7452-4468-b9f6-379257f3cd30', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 23:30:07 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '060bc73b-7452-4468-b9f6-379257f3cd30', 'x-amzn-bedrock-invocation-latency': '320', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6728077f9e73711f01126d9f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83f6075c-c97f-4978-98f0-e0a5adf9a3b6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Sun, 03 Nov 2024 23:30:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '83f6075c-c97f-4978-98f0-e0a5adf9a3b6', 'x-amzn-bedrock-invocation-latency': '1232', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672807829e73711f01126da0
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.232.131.143 - - [03/Nov/2024 23:30:10] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.5 - - [03/Nov/2024 23:59:38] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672815999e73711f01126da2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '004f049b-0a33-44d3-b743-309622d0f7c9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 00:30:20 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '004f049b-0a33-44d3-b743-309622d0f7c9', 'x-amzn-bedrock-invocation-latency': '1293', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728159c9e73711f01126da3
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.230.125.30 - - [04/Nov/2024 00:30:20] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [04/Nov/2024 00:32:23] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [04/Nov/2024 00:32:23] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672823ce9e73711f01126da5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06a9e359-8ca7-44cb-b2b4-17a85d0df201', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 01:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '06a9e359-8ca7-44cb-b2b4-17a85d0df201', 'x-amzn-bedrock-invocation-latency': '1265', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672823d19e73711f01126da6
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.208.31.253 - - [04/Nov/2024 01:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b6d30f17-d69f-4134-afde-eb9d2fdeeb7f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 02:30:44 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b6d30f17-d69f-4134-afde-eb9d2fdeeb7f', 'x-amzn-bedrock-invocation-latency': '335', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9b40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672831d49e73711f01126da8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fc3c614c-1ad4-45e3-82ed-a843b58c676a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 02:30:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fc3c614c-1ad4-45e3-82ed-a843b58c676a', 'x-amzn-bedrock-invocation-latency': '1296', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78850>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672831d79e73711f01126da9
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.84.112.59 - - [04/Nov/2024 02:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.197.97 - - [04/Nov/2024 02:36:37] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.197.103 - - [04/Nov/2024 02:36:50] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67283fef9e73711f01126dab
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cceb81fa-6fbd-4e8c-a0c2-63c51c0fb290', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 03:30:58 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cceb81fa-6fbd-4e8c-a0c2-63c51c0fb290', 'x-amzn-bedrock-invocation-latency': '1242', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67283ff29e73711f01126dac
INFO:__main__:Process completed successfully.
INFO:werkzeug:107.22.25.71 - - [04/Nov/2024 03:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67284e0f9e73711f01126dae
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a0b7c523-5d48-4379-ae97-379a6b29980b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 04:31:14 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'a0b7c523-5d48-4379-ae97-379a6b29980b', 'x-amzn-bedrock-invocation-latency': '1261', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8d30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67284e129e73711f01126daf
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.173.45.80 - - [04/Nov/2024 04:31:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '05fee614-e328-4c2d-8517-45edda0b26b3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 05:30:22 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '05fee614-e328-4c2d-8517-45edda0b26b3', 'x-amzn-bedrock-invocation-latency': '312', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67285bee9e73711f01126db1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0b3503fb-359d-4f9e-a365-5cbcfbe00346', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 05:30:25 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '0b3503fb-359d-4f9e-a365-5cbcfbe00346', 'x-amzn-bedrock-invocation-latency': '1235', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a781c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67285bf19e73711f01126db2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.239.221.71 - - [04/Nov/2024 05:30:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67286a469e73711f01126db4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'afb5e6da-7ecd-4855-9822-92357b332261', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 06:31:37 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'afb5e6da-7ecd-4855-9822-92357b332261', 'x-amzn-bedrock-invocation-latency': '1241', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7afe0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67286a499e73711f01126db5
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.220.245 - - [04/Nov/2024 06:31:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'What are the steps to download my payslips?', 'conversation_id': 'abc'}
INFO:__main__:Received query: What are the steps to download my payslips?
INFO:__main__:Received conversation_id: abc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672873599e73711f01126db7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bea9319b-2f5c-4c7c-8dde-4876aabbefcc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 07:10:21 GMT', 'content-type': 'application/json', 'content-length': '1187', 'connection': 'keep-alive', 'x-amzn-requestid': 'bea9319b-2f5c-4c7c-8dde-4876aabbefcc', 'x-amzn-bedrock-invocation-latency': '2164', 'x-amzn-bedrock-output-token-count': '253', 'x-amzn-bedrock-input-token-count': '856'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f7c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your payslips, log in to your GreytHR account and navigate to the payslips section to view your monthly payslips. You can also access the payslips from the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"abc\",\n        \"query\": \"What are the steps to download my payslips?\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":856,"generation_token_count":253,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728735d9e73711f01126db8
INFO:__main__:Process completed successfully.
INFO:werkzeug:182.78.210.30 - - [04/Nov/2024 07:10:21] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:152.58.195.226 - - [04/Nov/2024 07:12:03] "[31m[1mGET /process_query HTTP/1.1[0m" 405 -
INFO:werkzeug:152.58.195.226 - - [04/Nov/2024 07:12:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:werkzeug:152.58.195.226 - - [04/Nov/2024 07:12:58] "[31m[1mGET /process_query HTTP/1.1[0m" 405 -
INFO:werkzeug:152.58.195.226 - - [04/Nov/2024 07:15:02] "[31m[1mGET /process_query HTTP/1.1[0m" 405 -
INFO:werkzeug:152.58.195.226 - - [04/Nov/2024 07:15:42] "[31m[1mGET /process_query HTTP/1.1[0m" 405 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '67c93e09-416c-4460-8c0c-e0cb1ff83a95', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 07:30:38 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '67c93e09-416c-4460-8c0c-e0cb1ff83a95', 'x-amzn-bedrock-invocation-latency': '286', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0d00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6728781e9e73711f01126dba
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dc7da2ac-d178-4527-8790-e1e5257c88ce', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 07:30:41 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'dc7da2ac-d178-4527-8790-e1e5257c88ce', 'x-amzn-bedrock-invocation-latency': '1198', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79810>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672878219e73711f01126dbb
INFO:__main__:Process completed successfully.
INFO:werkzeug:174.129.182.41 - - [04/Nov/2024 07:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:werkzeug:152.58.195.226 - - [04/Nov/2024 07:43:34] "[31m[1mPOST /process_query HTTP/1.1[0m" 401 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'What are the steps to download my payslips?', 'conversation_id': 'abc'}
INFO:__main__:Received query: What are the steps to download my payslips?
INFO:__main__:Received conversation_id: abc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2046c7ad-ac4f-47f2-8ff9-88ceaaeaa6c1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 07:44:57 GMT', 'content-type': 'application/json', 'content-length': '188', 'connection': 'keep-alive', 'x-amzn-requestid': '2046c7ad-ac4f-47f2-8ff9-88ceaaeaa6c1', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '380'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa020>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"What are the steps to download my payslips?\"\n}","prompt_token_count":380,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What are the steps to download my payslips?
INFO:__main__:Query stored successfully with ID: 67287b799e73711f01126dbd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd7a2187f-7b52-4bde-98f8-86b79e03805a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 07:45:00 GMT', 'content-type': 'application/json', 'content-length': '1187', 'connection': 'keep-alive', 'x-amzn-requestid': 'd7a2187f-7b52-4bde-98f8-86b79e03805a', 'x-amzn-bedrock-invocation-latency': '2125', 'x-amzn-bedrock-output-token-count': '253', 'x-amzn-bedrock-input-token-count': '856'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a410>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your payslips, log in to your GreytHR account and navigate to the payslips section to view your monthly payslips. You can also access the payslips from the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"abc\",\n        \"query\": \"What are the steps to download my payslips?\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":856,"generation_token_count":253,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67287b7c9e73711f01126dbe
INFO:__main__:Process completed successfully.
INFO:werkzeug:152.58.195.226 - - [04/Nov/2024 07:45:00] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672886409e73711f01126dc0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bcba55a4-e7aa-482d-8a88-0b04b5fec300', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 08:30:58 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'bcba55a4-e7aa-482d-8a88-0b04b5fec300', 'x-amzn-bedrock-invocation-latency': '1248', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9120>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672886429e73711f01126dc1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.186.145 - - [04/Nov/2024 08:30:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f79aeeb6-9ec8-47fc-ad4c-304de47338a2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 09:30:45 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'f79aeeb6-9ec8-47fc-ad4c-304de47338a2', 'x-amzn-bedrock-invocation-latency': '291', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbeb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672894459e73711f01126dc3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f24a860c-c895-49eb-a054-02e2dffd6fc4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 09:30:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f24a860c-c895-49eb-a054-02e2dffd6fc4', 'x-amzn-bedrock-invocation-latency': '1211', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78160>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672894479e73711f01126dc4
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.226.142.140 - - [04/Nov/2024 09:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6728a2639e73711f01126dc6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cc4a7e80-a907-4ae6-9792-b8fefc554eb7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 10:31:02 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'cc4a7e80-a907-4ae6-9792-b8fefc554eb7', 'x-amzn-bedrock-invocation-latency': '1242', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728a2669e73711f01126dc7
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.206.126 - - [04/Nov/2024 10:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how to get health insurance details?', 'conversation_id': 'a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s'}
INFO:__main__:Received query: how to get health insurance details?
INFO:__main__:Received conversation_id: a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6728a8609e73711f01126dc9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '96114dbe-f07d-4863-911d-d4c8d2c9d9e7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 10:56:37 GMT', 'content-type': 'application/json', 'content-length': '1614', 'connection': 'keep-alive', 'x-amzn-requestid': '96114dbe-f07d-4863-911d-d4c8d2c9d9e7', 'x-amzn-bedrock-invocation-latency': '3375', 'x-amzn-bedrock-output-token-count': '404', 'x-amzn-bedrock-input-token-count': '1107'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To get health insurance details, you can refer to the following points:\n\n* Your medical insurance card is sent to your official mail within 45 days of your onboarding.\n* You can also find your UAN number in your PF Passbook or Salary Slip.\n* For any medical insurance-related queries or claims, please note that you will have to be hospitalized for more than 24 hours or have daycare procedures such as Dialysis, Chemotherapy, Radiology, Eye surgery etc. covered in the policy.\n\nYou can also reach out to the HR team for any additional information or assistance.\n\nReferences:\n{\n    \"Statement\": \"The medical insurance card is sent on the official mail within 45 days of your onboarding.\",\n    \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 4\"\n},\n{\n    \"Statement\": \"Your UAN number is also listed in your PF Passbook or Salary Slip.\",\n    \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 26\"\n},\n{\n    \"Statement\": \"You will have to be hospitalized for more than 24 hours. Active line of treatment and not for diagnostic purpose.\",\n    \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 6\"\n}\n\",\n    \"Metadata\": {\n        \"conversation_id\": \"a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s\",\n        \"query\": \"how to get health insurance details?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1107,"generation_token_count":404,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 87 (char 90)
INFO:werkzeug:52.172.222.141 - - [04/Nov/2024 10:56:37] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslips?', 'conversation_id': 'a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s'}
INFO:__main__:Received query: what are the steps to download my payslips?
INFO:__main__:Received conversation_id: a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '40404fa1-adf7-4e48-aeb6-f911278845c6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 10:57:08 GMT', 'content-type': 'application/json', 'content-length': '185', 'connection': 'keep-alive', 'x-amzn-requestid': '40404fa1-adf7-4e48-aeb6-f911278845c6', 'x-amzn-bedrock-invocation-latency': '282', 'x-amzn-bedrock-output-token-count': '26', 'x-amzn-bedrock-input-token-count': '191'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are the steps to access my payslips?\"\n}","prompt_token_count":191,"generation_token_count":26,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are the steps to access my payslips?
INFO:__main__:Query stored successfully with ID: 6728a8849e73711f01126dcb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '319080bf-d2ae-458f-b7d4-2b7b9f68e6ba', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 10:57:12 GMT', 'content-type': 'application/json', 'content-length': '1285', 'connection': 'keep-alive', 'x-amzn-requestid': '319080bf-d2ae-458f-b7d4-2b7b9f68e6ba', 'x-amzn-bedrock-invocation-latency': '2821', 'x-amzn-bedrock-output-token-count': '335', 'x-amzn-bedrock-input-token-count': '927'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a784c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To access your payslips, you can log in to your GreytHR account and navigate to the payslips section to view your monthly payslips. Alternatively, you can also access your payslips by visiting the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s\",\n        \"query\": \"what are the steps to access my payslips?\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":927,"generation_token_count":335,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728a8889e73711f01126dcc
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [04/Nov/2024 10:57:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is gemini health insurance policy?', 'conversation_id': 'a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s'}
INFO:__main__:Received query: what is gemini health insurance policy?
INFO:__main__:Received conversation_id: a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '67a70de2-dca0-4765-bdcc-787292300e06', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 10:57:39 GMT', 'content-type': 'application/json', 'content-length': '187', 'connection': 'keep-alive', 'x-amzn-requestid': '67a70de2-dca0-4765-bdcc-787292300e06', 'x-amzn-bedrock-invocation-latency': '271', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '387'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9ce20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the gemini health insurance policy?\"\n}","prompt_token_count":387,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the gemini health insurance policy?
INFO:__main__:Query stored successfully with ID: 6728a8a39e73711f01126dce
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '679e5426-b2a0-403b-b11b-2e1d2c00c42a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 10:57:44 GMT', 'content-type': 'application/json', 'content-length': '1924', 'connection': 'keep-alive', 'x-amzn-requestid': '679e5426-b2a0-403b-b11b-2e1d2c00c42a', 'x-amzn-bedrock-invocation-latency': '3783', 'x-amzn-bedrock-output-token-count': '460', 'x-amzn-bedrock-input-token-count': '1268'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79f60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions provides health insurance coverage for its employees, including spouses and up to two children. The company bears 50% of the cost of the insurance plan selected by the employee, and the employee is responsible for bearing the remaining 50%. The medical insurance policy extends to INR 2,50,000/- for the employee and INR 5,00,000/- for the employee, spouse, and two children. Additionally, employees can opt to include their parents in the policy, but this requires an additional premium payment.\",\n    \"References\": [\n        {\n            \"Statement\": \"The health insurance is covered for you, your spouse, and up to two children is covered by the Welfare Contribution, so you don't need to worry about that part being deducted from your salary.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 2\"\n        },\n        {\n            \"Statement\": \"The company will bear 50% of the cost of the insurance plan selected by the employee.\",\n            \"source\": \"International Transfer Policy.pdf - Page No: 6\"\n        },\n        {\n            \"Statement\": \"You as an employee are covered for INR 2,50,000/- of medical insurance claim. The policy also extends and covers your spouse and two dependable children, if applicable and In such a case the medical Insurance policy extends to INR 5,00,000/-\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1DhqcrjKJKbD7nyNbdE42kXmFBatZF0tA3LmEYV0NdWvzsu8CaKhrMHytRQGOk09lTxxhRGFx18MURAu3x11ohFGM_wpV-Jb16NuxNIKMqJWDzK3epQVw4iB87sI33E2s\",\n        \"query\": \"what is the gemini health insurance policy?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1268,"generation_token_count":460,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728a8a89e73711f01126dcf
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [04/Nov/2024 10:57:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslips?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what are the steps to download my payslips?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6728ab499e73711f01126dd1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b04db33e-236e-43f6-8344-f5712ab564cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 11:09:02 GMT', 'content-type': 'application/json', 'content-length': '1346', 'connection': 'keep-alive', 'x-amzn-requestid': 'b04db33e-236e-43f6-8344-f5712ab564cb', 'x-amzn-bedrock-invocation-latency': '2979', 'x-amzn-bedrock-output-token-count': '354', 'x-amzn-bedrock-input-token-count': '947'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a1d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your payslips, log in to your GreytHR account and navigate to the payslips section to view your monthly payslips. You can also access the payslips from the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Text Block 1 - Accounts - Remuneration.csv - Sheet1 - Index: 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"Text Block 2 - HR - Onboarding Portal.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"what are the steps to download my payslips?\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":947,"generation_token_count":354,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728ab4e9e73711f01126dd2
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [04/Nov/2024 11:09:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1d336b05-396f-4f36-9f80-99937ed51acc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 11:30:54 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '1d336b05-396f-4f36-9f80-99937ed51acc', 'x-amzn-bedrock-invocation-latency': '311', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6728b06e9e73711f01126dd4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7ab4cc58-9be3-4b7f-b290-3d2319c3a467', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 11:30:56 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '7ab4cc58-9be3-4b7f-b290-3d2319c3a467', 'x-amzn-bedrock-invocation-latency': '1235', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a2c070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728b0709e73711f01126dd5
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.238.186.145 - - [04/Nov/2024 11:30:56] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how do i apply for leave?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: how do i apply for leave?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6728bb139e73711f01126dd7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '727d5895-fa77-4429-b108-3ca36bdf966e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 12:16:23 GMT', 'content-type': 'application/json', 'content-length': '1064', 'connection': 'keep-alive', 'x-amzn-requestid': '727d5895-fa77-4429-b108-3ca36bdf966e', 'x-amzn-bedrock-invocation-latency': '2380', 'x-amzn-bedrock-output-token-count': '276', 'x-amzn-bedrock-input-token-count': '1024'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfad40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To apply for a leave, you can follow these steps: * Go to the MIS portal and navigate to the Apply Leaves section. * Fill in the necessary details and submit the application. * Ensure to inform your DC manager about the leave application. You can refer to the HR - Onboarding Portal.csv (Sheet1, Index 9) for more information.\",\n    \"References\": [\n        {\n            \"Statement\": \"As it was demonstrated during your induction, you can apply for a leave from the MIS portal, from the Apply Leaves section.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index 9\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"how do i apply for leave?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1024,"generation_token_count":276,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728bb179e73711f01126dd8
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [04/Nov/2024 12:16:23] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'who do i contact for assistance with payroll issues?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: who do i contact for assistance with payroll issues?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '31c852b6-ae66-4a61-95aa-89e81a06a153', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 12:19:18 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '31c852b6-ae66-4a61-95aa-89e81a06a153', 'x-amzn-bedrock-invocation-latency': '274', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '314'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9fc40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"who do i contact for assistance with payroll issues?\"\n}","prompt_token_count":314,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: who do i contact for assistance with payroll issues?
INFO:__main__:Query stored successfully with ID: 6728bbc69e73711f01126dda
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '59ce4a87-de71-41f8-8d32-4d91d0479c15', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 12:19:22 GMT', 'content-type': 'application/json', 'content-length': '1132', 'connection': 'keep-alive', 'x-amzn-requestid': '59ce4a87-de71-41f8-8d32-4d91d0479c15', 'x-amzn-bedrock-invocation-latency': '2479', 'x-amzn-bedrock-output-token-count': '297', 'x-amzn-bedrock-input-token-count': '1038'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43df0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"For assistance with payroll issues, you can contact the payroll team of the respective location. You can also reach out to the HR department via email at hr@geminisolutions.com.\",\n    \"References\": [\n        {\n            \"Statement\": \"bills for verification to the payroll team of the respective location.\",\n            \"source\": \"Gemini-REMUNERATION AND BENEFITS POLICY_Version 5.0_India.pdf - Page No: 7\"\n        },\n        {\n            \"Statement\": \"If you have any HR questions, feel free to drop us an email at hr@geminisolutions.com.\",\n            \"source\": \"ITAdmin - Misscellaneous.csv - Sheet1 - Index: 21\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"who do i contact for assistance with payroll issues?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1038,"generation_token_count":297,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728bbca9e73711f01126ddb
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [04/Nov/2024 12:19:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '478a3432-dd8f-4af0-bc53-aee03f7d4cca', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 12:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '478a3432-dd8f-4af0-bc53-aee03f7d4cca', 'x-amzn-bedrock-invocation-latency': '289', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41f00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6728be5a9e73711f01126ddd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d930bda-e3d5-481a-8f71-b9809774f843', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 12:30:20 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8d930bda-e3d5-481a-8f71-b9809774f843', 'x-amzn-bedrock-invocation-latency': '1226', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728be5c9e73711f01126dde
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.229.244.177 - - [04/Nov/2024 12:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6728cc989e73711f01126de0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3f068140-4060-4b20-b0a4-4f01fd7fe2c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 13:31:06 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '3f068140-4060-4b20-b0a4-4f01fd7fe2c5', 'x-amzn-bedrock-invocation-latency': '1220', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd26e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728cc9a9e73711f01126de1
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.7.198 - - [04/Nov/2024 13:31:06] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd917528f-1e26-4dfa-bb12-0393bedbb274', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 14:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'd917528f-1e26-4dfa-bb12-0393bedbb274', 'x-amzn-bedrock-invocation-latency': '335', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2ee90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6728da799e73711f01126de3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '91956547-1f78-43fe-9323-5086b3ac0a06', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 14:30:20 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '91956547-1f78-43fe-9323-5086b3ac0a06', 'x-amzn-bedrock-invocation-latency': '1215', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3d60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728da7c9e73711f01126de4
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.242.242.38 - - [04/Nov/2024 14:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ab928445-e9b9-490b-ba1b-ca8951d83c84', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 15:30:19 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'ab928445-e9b9-490b-ba1b-ca8951d83c84', 'x-amzn-bedrock-invocation-latency': '314', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '239'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e380>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":239,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6728e88b9e73711f01126de6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1bea614e-b3a5-433d-9c1e-b22212173f91', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 15:30:22 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '1bea614e-b3a5-433d-9c1e-b22212173f91', 'x-amzn-bedrock-invocation-latency': '1207', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0af0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728e88e9e73711f01126de7
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.80.62 - - [04/Nov/2024 15:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c9448ad-ff6f-494a-919e-57ae21130202', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 16:30:15 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '6c9448ad-ff6f-494a-919e-57ae21130202', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a437f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 6728f6979e73711f01126de9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9661f4d0-1d69-4e49-9596-5692cdf09b25', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 16:30:18 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '9661f4d0-1d69-4e49-9596-5692cdf09b25', 'x-amzn-bedrock-invocation-latency': '1229', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6728f69a9e73711f01126dea
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.173.217.94 - - [04/Nov/2024 16:30:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672904c49e73711f01126dec
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4ea8a383-5655-4ecd-898f-e8640dd8ffeb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 17:30:47 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '4ea8a383-5655-4ecd-898f-e8640dd8ffeb', 'x-amzn-bedrock-invocation-latency': '1242', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672904c79e73711f01126ded
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.7.198 - - [04/Nov/2024 17:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672913969e73711f01126def
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd4cf019e-ce45-4909-8ae8-a0f776b09533', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 18:34:01 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'd4cf019e-ce45-4909-8ae8-a0f776b09533', 'x-amzn-bedrock-invocation-latency': '1268', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672913999e73711f01126df0
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.35.187 - - [04/Nov/2024 18:34:01] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '374eca9b-749f-42c2-baab-f0a2276cdd85', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 19:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '374eca9b-749f-42c2-baab-f0a2276cdd85', 'x-amzn-bedrock-invocation-latency': '350', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9f2e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672920c99e73711f01126df2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c6ad5970-1767-4c8e-ac43-47f8b5c8e047', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 19:30:20 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'c6ad5970-1767-4c8e-ac43-47f8b5c8e047', 'x-amzn-bedrock-invocation-latency': '1222', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1a80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672920cc9e73711f01126df3
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.35.187 - - [04/Nov/2024 19:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 67292f0a9e73711f01126df5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6268eb74-9f42-4876-86ba-f9d3ed7cf2bb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 20:31:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6268eb74-9f42-4876-86ba-f9d3ed7cf2bb', 'x-amzn-bedrock-invocation-latency': '1292', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0220>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67292f0c9e73711f01126df6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.7.198 - - [04/Nov/2024 20:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b7627413-863b-4cce-a9fc-c76e72e033f5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 21:30:43 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b7627413-863b-4cce-a9fc-c76e72e033f5', 'x-amzn-bedrock-invocation-latency': '331', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67293d039e73711f01126df8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '83790f79-66e5-40d3-82e7-e826bab5630a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 21:30:46 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '83790f79-66e5-40d3-82e7-e826bab5630a', 'x-amzn-bedrock-invocation-latency': '1202', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1510>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67293d069e73711f01126df9
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.25.246.118 - - [04/Nov/2024 21:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:172.169.4.185 - - [04/Nov/2024 22:07:57] "[33mGET /v2/ HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '638a1fa2-4f5f-46e1-8a8e-8a95d8934d0c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 22:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '638a1fa2-4f5f-46e1-8a8e-8a95d8934d0c', 'x-amzn-bedrock-invocation-latency': '336', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd33d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67294b109e73711f01126dfb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6694edb5-5412-41dc-a919-886d72ab5979', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 22:30:43 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6694edb5-5412-41dc-a919-886d72ab5979', 'x-amzn-bedrock-invocation-latency': '1282', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfaf80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67294b139e73711f01126dfc
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.206.158.218 - - [04/Nov/2024 22:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4e0e2c66-20ad-42c6-a854-f6a0461afbe8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 23:30:41 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': '4e0e2c66-20ad-42c6-a854-f6a0461afbe8', 'x-amzn-bedrock-invocation-latency': '366', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672959219e73711f01126dfe
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8445b370-1e2f-435b-bc3d-fabccbf803d5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Mon, 04 Nov 2024 23:30:43 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '8445b370-1e2f-435b-bc3d-fabccbf803d5', 'x-amzn-bedrock-invocation-latency': '1243', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3f40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672959239e73711f01126dff
INFO:__main__:Process completed successfully.
INFO:werkzeug:98.80.173.166 - - [04/Nov/2024 23:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:64.62.156.88 - - [05/Nov/2024 00:17:43] "[33mGET / HTTP/1.1[0m" 404 -
INFO:werkzeug:64.62.156.93 - - [05/Nov/2024 00:17:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6729673f9e73711f01126e01
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed5c532c-5113-4852-914b-f90bf8c2468d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 00:30:58 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed5c532c-5113-4852-914b-f90bf8c2468d', 'x-amzn-bedrock-invocation-latency': '1276', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0eb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672967429e73711f01126e02
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.87.189.181 - - [05/Nov/2024 00:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672975539e73711f01126e04
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '13d06860-9060-48fa-bd75-6dd2ef44d396', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 01:31:02 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '13d06860-9060-48fa-bd75-6dd2ef44d396', 'x-amzn-bedrock-invocation-latency': '1239', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1c60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672975569e73711f01126e05
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.117.6 - - [05/Nov/2024 01:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7f7ad05f-3b43-45fc-b780-5d46d8b9f51c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 02:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '7f7ad05f-3b43-45fc-b780-5d46d8b9f51c', 'x-amzn-bedrock-invocation-latency': '358', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2ec0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672983399e73711f01126e07
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd731bb36-1174-4e6d-bce2-d4e0b2ae8342', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 02:30:19 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'd731bb36-1174-4e6d-bce2-d4e0b2ae8342', 'x-amzn-bedrock-invocation-latency': '1212', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729833b9e73711f01126e08
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.81.191.164 - - [05/Nov/2024 02:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672991599e73711f01126e0a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a5ee3988-4ce9-4ee7-ab7c-99467c9fc079', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 03:30:36 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'a5ee3988-4ce9-4ee7-ab7c-99467c9fc079', 'x-amzn-bedrock-invocation-latency': '1229', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2fb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729915c9e73711f01126e0b
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.166.35.187 - - [05/Nov/2024 03:30:36] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.138 - - [05/Nov/2024 04:24:10] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cb4d576a-22f6-4117-bbd4-15e82505161c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 04:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cb4d576a-22f6-4117-bbd4-15e82505161c', 'x-amzn-bedrock-invocation-latency': '289', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0040>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 67299f5a9e73711f01126e0d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8d6dff38-470e-4e4f-9c56-5dda7ea03f6c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 04:30:20 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '8d6dff38-470e-4e4f-9c56-5dda7ea03f6c', 'x-amzn-bedrock-invocation-latency': '1207', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1d80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 67299f5c9e73711f01126e0e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.252.36 - - [05/Nov/2024 04:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6729ad849e73711f01126e10
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '26190001-296b-4e5e-b6f8-962530d72178', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 05:30:46 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '26190001-296b-4e5e-b6f8-962530d72178', 'x-amzn-bedrock-invocation-latency': '1215', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbdf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729ad869e73711f01126e11
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.85.203 - - [05/Nov/2024 05:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6729bb9a9e73711f01126e13
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9a150737-1ee7-4006-bf72-1fd74e8013b5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 06:30:53 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '9a150737-1ee7-4006-bf72-1fd74e8013b5', 'x-amzn-bedrock-invocation-latency': '1290', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfaef0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729bb9d9e73711f01126e14
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.19.163 - - [05/Nov/2024 06:30:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6729c9c29e73711f01126e16
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4511f7e2-cbdf-4858-abc6-7f811e499ddc', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 07:31:17 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4511f7e2-cbdf-4858-abc6-7f811e499ddc', 'x-amzn-bedrock-invocation-latency': '1293', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43b80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729c9c59e73711f01126e17
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.146.87 - - [05/Nov/2024 07:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6f846525-f875-4df1-b644-96d58a504e22', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 08:31:00 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '6f846525-f875-4df1-b644-96d58a504e22', 'x-amzn-bedrock-invocation-latency': '342', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd37f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6729d7c49e73711f01126e19
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ce53e6ef-bf57-4b49-8e7a-9f6a84620ed3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 08:31:02 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'ce53e6ef-bf57-4b49-8e7a-9f6a84620ed3', 'x-amzn-bedrock-invocation-latency': '1225', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729d7c69e73711f01126e1a
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.242.1.47 - - [05/Nov/2024 08:31:02] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9858fbfc-b702-41e1-b18f-82d3c10d6543', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 09:30:16 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '9858fbfc-b702-41e1-b18f-82d3c10d6543', 'x-amzn-bedrock-invocation-latency': '279', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a422f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 6729e5a89e73711f01126e1c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '05a66beb-b5f7-4216-a27f-a11aab89f892', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 09:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '05a66beb-b5f7-4216-a27f-a11aab89f892', 'x-amzn-bedrock-invocation-latency': '1217', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa3b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729e5ab9e73711f01126e1d
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.92.19.163 - - [05/Nov/2024 09:30:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 6729f3c49e73711f01126e1f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '45e72615-91cc-43b2-a19e-f45d7575385f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 10:30:31 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '45e72615-91cc-43b2-a19e-f45d7575385f', 'x-amzn-bedrock-invocation-latency': '1274', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf80d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 6729f3c79e73711f01126e20
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.162.75 - - [05/Nov/2024 10:30:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672a01e59e73711f01126e22
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f416edd1-d358-49c4-8ca5-6c970bfd875a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 11:30:48 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'f416edd1-d358-49c4-8ca5-6c970bfd875a', 'x-amzn-bedrock-invocation-latency': '1263', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd21a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a01e89e73711f01126e23
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.2.235 - - [05/Nov/2024 11:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64b5589e-2f79-4c12-8075-0137dcb6b400', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 12:30:40 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '64b5589e-2f79-4c12-8075-0137dcb6b400', 'x-amzn-bedrock-invocation-latency': '376', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2bc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672a0ff09e73711f01126e25
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cf6ebddb-a215-4888-a682-e881d970a3fb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 12:30:42 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'cf6ebddb-a215-4888-a682-e881d970a3fb', 'x-amzn-bedrock-invocation-latency': '1223', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa2c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a0ff29e73711f01126e26
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.224.6.81 - - [05/Nov/2024 12:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:157.230.39.98 - - [05/Nov/2024 13:03:27] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672a1e169e73711f01126e28
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e7715862-d75f-4bc9-b4f7-e06da35d249e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 13:31:05 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'e7715862-d75f-4bc9-b4f7-e06da35d249e', 'x-amzn-bedrock-invocation-latency': '1265', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9c30>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a1e199e73711f01126e29
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.201.163.84 - - [05/Nov/2024 13:31:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '140f3dfb-d460-417a-adad-36f258091da3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 14:30:06 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '140f3dfb-d460-417a-adad-36f258091da3', 'x-amzn-bedrock-invocation-latency': '349', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42500>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672a2bee9e73711f01126e2b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '268c3b42-9c00-4320-913a-ff2de630c216', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 14:30:09 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '268c3b42-9c00-4320-913a-ff2de630c216', 'x-amzn-bedrock-invocation-latency': '1199', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a2bf19e73711f01126e2c
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.238.38.129 - - [05/Nov/2024 14:30:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd5dfc106-acde-498b-8ed8-0246eaf7a8f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 15:30:08 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'd5dfc106-acde-498b-8ed8-0246eaf7a8f2', 'x-amzn-bedrock-invocation-latency': '325', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '239'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9c1f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":239,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672a3a009e73711f01126e2e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6781c37e-d9c7-4ee1-8d4b-4d26f5470bf5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 15:30:11 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '6781c37e-d9c7-4ee1-8d4b-4d26f5470bf5', 'x-amzn-bedrock-invocation-latency': '1208', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0c40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a3a039e73711f01126e2f
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.200.153.46 - - [05/Nov/2024 15:30:11] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672a48209e73711f01126e31
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b2172403-df64-49e5-87aa-c1586f2e1d98', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 16:30:26 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'b2172403-df64-49e5-87aa-c1586f2e1d98', 'x-amzn-bedrock-invocation-latency': '1277', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa2c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a48229e73711f01126e32
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.52.239 - - [05/Nov/2024 16:30:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672a56459e73711f01126e34
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '04038a8f-00c7-4e13-8dec-c60d1c8c516f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 17:30:48 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '04038a8f-00c7-4e13-8dec-c60d1c8c516f', 'x-amzn-bedrock-invocation-latency': '1253', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa770>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a56489e73711f01126e35
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.195.20.48 - - [05/Nov/2024 17:30:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672a646d9e73711f01126e37
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c2806d8d-6037-4beb-a3df-371b30b126dd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 18:31:12 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c2806d8d-6037-4beb-a3df-371b30b126dd', 'x-amzn-bedrock-invocation-latency': '1258', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a64709e73711f01126e38
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.92.181.243 - - [05/Nov/2024 18:31:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '412251bc-7fe1-4ea7-b637-5e1f1a040870', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 19:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '412251bc-7fe1-4ea7-b637-5e1f1a040870', 'x-amzn-bedrock-invocation-latency': '316', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1060>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672a725f9e73711f01126e3a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd23ab0f3-191c-4c4e-9a7d-6319a5c563aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 19:30:42 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd23ab0f3-191c-4c4e-9a7d-6319a5c563aa', 'x-amzn-bedrock-invocation-latency': '1230', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9480>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a72629e73711f01126e3b
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.81.10.233 - - [05/Nov/2024 19:30:42] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5d2df71b-45b3-4052-9d57-a2ff25a056d1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 20:30:19 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5d2df71b-45b3-4052-9d57-a2ff25a056d1', 'x-amzn-bedrock-invocation-latency': '293', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672a805b9e73711f01126e3d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '88ec30be-a51a-4796-8523-ed5b3c6a7405', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 20:30:22 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '88ec30be-a51a-4796-8523-ed5b3c6a7405', 'x-amzn-bedrock-invocation-latency': '1236', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbe80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a805e9e73711f01126e3e
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.206.240.170 - - [05/Nov/2024 20:30:22] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cef7af39-5013-432b-9813-ef78803544dd', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 21:30:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cef7af39-5013-432b-9813-ef78803544dd', 'x-amzn-bedrock-invocation-latency': '353', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd14b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672a8e5d9e73711f01126e40
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '68b3763f-86dc-453a-b3a7-cdd8f96eae24', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 21:30:07 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '68b3763f-86dc-453a-b3a7-cdd8f96eae24', 'x-amzn-bedrock-invocation-latency': '1229', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8940>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a8e5f9e73711f01126e41
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.168.22.234 - - [05/Nov/2024 21:30:07] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672a9c729e73711f01126e43
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '388e0350-68d1-4d3d-a45c-fb1cca06a7af', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 22:30:13 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '388e0350-68d1-4d3d-a45c-fb1cca06a7af', 'x-amzn-bedrock-invocation-latency': '1328', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfab90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672a9c759e73711f01126e44
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.200.243.86 - - [05/Nov/2024 22:30:13] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:154.213.185.206 - - [05/Nov/2024 23:22:30] code 400, message Bad request syntax ('JDWP-Handshake')
INFO:werkzeug:154.213.185.206 - - [05/Nov/2024 23:22:30] "[31m[1mJDWP-Handshake[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fd5f9884-116f-43b3-b9f3-ee8cd858d206', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 23:30:04 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fd5f9884-116f-43b3-b9f3-ee8cd858d206', 'x-amzn-bedrock-invocation-latency': '333', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd28c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672aaa7c9e73711f01126e46
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ef7e72f2-04e5-4641-a3c6-237047435cc1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 05 Nov 2024 23:30:07 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'ef7e72f2-04e5-4641-a3c6-237047435cc1', 'x-amzn-bedrock-invocation-latency': '1251', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672aaa7f9e73711f01126e47
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.222.89.40 - - [05/Nov/2024 23:30:07] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:45.95.169.130 - - [06/Nov/2024 00:12:50] code 400, message Bad HTTP/0.9 request type ('\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00')
INFO:werkzeug:45.95.169.130 - - [06/Nov/2024 00:12:50] "[31m[1m\x00\x00\x00\x11\x00\x00\x01√©\x00\x01\x00\x00\x00√ø√ø√ø√ø\x01\x00\x00\x00\x00\x00\x00\x00\x0c\x02\x00\x00\x00\x10MyCustomAssembly\x05\x01\x00\x00\x00[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ab8a19e73711f01126e49
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7e1c6252-6da7-4c65-b6d1-4fdd75985b1b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 00:30:28 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '7e1c6252-6da7-4c65-b6d1-4fdd75985b1b', 'x-amzn-bedrock-invocation-latency': '1257', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9060>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ab8a49e73711f01126e4a
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.171.169.255 - - [06/Nov/2024 00:30:28] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b76f2e18-2484-4229-ade3-3b6b7ea04dbb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 01:30:10 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b76f2e18-2484-4229-ade3-3b6b7ea04dbb', 'x-amzn-bedrock-invocation-latency': '344', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cfd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672ac6a29e73711f01126e4c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f18e4678-e7e7-4d69-a39f-bcb6ecb6f9a4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 01:30:12 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'f18e4678-e7e7-4d69-a39f-bcb6ecb6f9a4', 'x-amzn-bedrock-invocation-latency': '1195', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf90c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ac6a49e73711f01126e4d
INFO:__main__:Process completed successfully.
INFO:werkzeug:35.168.22.234 - - [06/Nov/2024 01:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3bf3d325-adb8-4d0a-818d-2804780f4865', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 02:30:09 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3bf3d325-adb8-4d0a-818d-2804780f4865', 'x-amzn-bedrock-invocation-latency': '317', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbe80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672ad4b19e73711f01126e4f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2628168d-cc3e-4898-ad8d-b0b8268c232d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 02:30:12 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '2628168d-cc3e-4898-ad8d-b0b8268c232d', 'x-amzn-bedrock-invocation-latency': '1210', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfaa10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ad4b49e73711f01126e50
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.84.108.137 - - [06/Nov/2024 02:30:12] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ae2fb9e73711f01126e52
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2b6e2abc-6cc9-4a7a-b534-f49b8e58e42e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 03:31:10 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '2b6e2abc-6cc9-4a7a-b534-f49b8e58e42e', 'x-amzn-bedrock-invocation-latency': '1284', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbf40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ae2fe9e73711f01126e53
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.83.215.242 - - [06/Nov/2024 03:31:10] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672af1139e73711f01126e55
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd95d68f6-1d05-4161-952f-127414bbd5e9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 04:31:18 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'd95d68f6-1d05-4161-952f-127414bbd5e9', 'x-amzn-bedrock-invocation-latency': '1287', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa560>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672af1169e73711f01126e56
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.212.36.249 - - [06/Nov/2024 04:31:18] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b5cd395f-2c75-4402-b286-19d9c80edb1c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 05:30:54 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'b5cd395f-2c75-4402-b286-19d9c80edb1c', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42bc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672aff0e9e73711f01126e58
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '86f74ca7-06e7-4956-9da1-f740e9c8b84c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 05:30:57 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '86f74ca7-06e7-4956-9da1-f740e9c8b84c', 'x-amzn-bedrock-invocation-latency': '1231', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672aff119e73711f01126e59
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.165.39.154 - - [06/Nov/2024 05:30:57] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what can you offer?', 'conversation_id': 'a:1PKvCgKQ4dS3PeKGCivSbDClBCmJL0XY9y67aFEKU9cmzJRQNC2UJ5mDhxnoZsDkYnR1e-cciZ9FQduOcMIsB2qFMF-FVkgZi6GRSB3JW9uka6FtkR23u1NsMMjOMaq-X'}
INFO:__main__:Received query: what can you offer?
INFO:__main__:Received conversation_id: a:1PKvCgKQ4dS3PeKGCivSbDClBCmJL0XY9y67aFEKU9cmzJRQNC2UJ5mDhxnoZsDkYnR1e-cciZ9FQduOcMIsB2qFMF-FVkgZi6GRSB3JW9uka6FtkR23u1NsMMjOMaq-X
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b0ac09e73711f01126e5b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '28b97ed4-08b2-4d13-9166-cf94ca0e59aa', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:20:53 GMT', 'content-type': 'application/json', 'content-length': '1542', 'connection': 'keep-alive', 'x-amzn-requestid': '28b97ed4-08b2-4d13-9166-cf94ca0e59aa', 'x-amzn-bedrock-invocation-latency': '2991', 'x-amzn-bedrock-output-token-count': '353', 'x-amzn-bedrock-input-token-count': '1102'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbfa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers its clients talented professionals with quality and integrity, innovative ideas, and technical knowledge to add value to their clients. Additionally, we provide a wide range of internal and external learning and development opportunities to support our employees in reaching their full potential. We also celebrate diversity and inclusion, and offer education assistance to financially support employees seeking to expand their knowledge and skill base.\",\n    \"References\": [\n        {\n            \"Statement\": \"Our continuing success requires a constant inflow of professionals with quality and integrity, innovative ideas, and the technical knowledge to add value to our clients.\",\n            \"source\": \"Recruitment policy 7.0-GEMGN-200193_India.pdf - Page 8\"\n        },\n        {\n            \"Statement\": \"To support our employees in reaching their full potential, we offer a wide range of internal and external learning and development.\",\n            \"source\": \"Gemini-Diversity and Inclusion Policy_Version 4.0_India.pdf - Page 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1PKvCgKQ4dS3PeKGCivSbDClBCmJL0XY9y67aFEKU9cmzJRQNC2UJ5mDhxnoZsDkYnR1e-cciZ9FQduOcMIsB2qFMF-FVkgZi6GRSB3JW9uka6FtkR23u1NsMMjOMaq-X\",\n        \"query\": \"what can you offer?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1102,"generation_token_count":353,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0ac59e73711f01126e5c
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:20:53] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b0acb9e73711f01126e5e
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0bcf8b0c-3b67-4356-929d-bb70e676c765', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:21:03 GMT', 'content-type': 'application/json', 'content-length': '691', 'connection': 'keep-alive', 'x-amzn-requestid': '0bcf8b0c-3b67-4356-929d-bb70e676c765', 'x-amzn-bedrock-invocation-latency': '1674', 'x-amzn-bedrock-output-token-count': '197', 'x-amzn-bedrock-input-token-count': '764'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbfa0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind? Please feel free to ask a specific question, and I'll do my best to provide a clear and concise answer.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"hi\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":764,"generation_token_count":197,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0acf9e73711f01126e5f
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:21:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can we carry forward our casual leaves and sick leaves next year?', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: can we carry forward our casual leaves and sick leaves next year?
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c7be6ad9-199c-4df4-b4a8-b72cc11b655b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:21:37 GMT', 'content-type': 'application/json', 'content-length': '219', 'connection': 'keep-alive', 'x-amzn-requestid': 'c7be6ad9-199c-4df4-b4a8-b72cc11b655b', 'x-amzn-bedrock-invocation-latency': '329', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '245'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e230>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can we carry forward our unused casual leaves and sick leaves to next year?\"\n}","prompt_token_count":245,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can we carry forward our unused casual leaves and sick leaves to next year?
INFO:__main__:Query stored successfully with ID: 672b0af19e73711f01126e61
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8873ee19-06b2-47ea-8169-1d4a5601bf60', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:21:41 GMT', 'content-type': 'application/json', 'content-length': '1151', 'connection': 'keep-alive', 'x-amzn-requestid': '8873ee19-06b2-47ea-8169-1d4a5601bf60', 'x-amzn-bedrock-invocation-latency': '2642', 'x-amzn-bedrock-output-token-count': '313', 'x-amzn-bedrock-input-token-count': '1094'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfabc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, you cannot carry forward your unused Casual Leaves (CLs) to the next year. According to our Leave Policy, Casual Leaves (CLs) will lapse once you reach a total of 30 days. However, you can apply for up to 2 Casual Leaves (CLs) at a time, and if you need more than 2 days off in a row, you'll need to use Paid Leaves (PLs) or leave without pay (LWP).\",\n    \"References\": [\n        {\n            \"Statement\": \"Unfortunately, we can't carry forward Casual Leaves (CLs), and Paid Leaves (PLs) will lapse once you reach a total of 30 days.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 8\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"Can we carry forward our unused casual leaves and sick leaves to next year?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1094,"generation_token_count":313,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0af59e73711f01126e62
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:21:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'tell me all about leave policies', 'conversation_id': 'a:1PKvCgKQ4dS3PeKGCivSbDClBCmJL0XY9y67aFEKU9cmzJRQNC2UJ5mDhxnoZsDkYnR1e-cciZ9FQduOcMIsB2qFMF-FVkgZi6GRSB3JW9uka6FtkR23u1NsMMjOMaq-X'}
INFO:__main__:Received query: tell me all about leave policies
INFO:__main__:Received conversation_id: a:1PKvCgKQ4dS3PeKGCivSbDClBCmJL0XY9y67aFEKU9cmzJRQNC2UJ5mDhxnoZsDkYnR1e-cciZ9FQduOcMIsB2qFMF-FVkgZi6GRSB3JW9uka6FtkR23u1NsMMjOMaq-X
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b46b6c41-690b-4d4c-a024-d3ca683ee990', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:21:42 GMT', 'content-type': 'application/json', 'content-length': '173', 'connection': 'keep-alive', 'x-amzn-requestid': 'b46b6c41-690b-4d4c-a024-d3ca683ee990', 'x-amzn-bedrock-invocation-latency': '254', 'x-amzn-bedrock-output-token-count': '21', 'x-amzn-bedrock-input-token-count': '372'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9660>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are your leave policies?\"\n}","prompt_token_count":372,"generation_token_count":21,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are your leave policies?
INFO:__main__:Query stored successfully with ID: 672b0af69e73711f01126e64
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd9630ade-f24e-4511-9f2c-64a4814ee53e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:21:47 GMT', 'content-type': 'application/json', 'content-length': '1908', 'connection': 'keep-alive', 'x-amzn-requestid': 'd9630ade-f24e-4511-9f2c-64a4814ee53e', 'x-amzn-bedrock-invocation-latency': '3834', 'x-amzn-bedrock-output-token-count': '463', 'x-amzn-bedrock-input-token-count': '1245'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8b50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions' Leave Policy is designed to help employees know their entitlements and make it easy for them to avail themselves effectively. The policy applies to all employees of Gemini Solutions Pvt. Ltd. The objective of this policy is to define the process and procedures regarding employee leave entitlements. The policy covers various types of leaves, including annual leave, sick leave, and emergency leave. Employees are entitled to 7 days of sick leave on full fixed pay in one leave year. The policy also outlines the rules to avail leaves and the process for leave encashment of accumulated privileged leave.\",\n    \"References\": [\n        {\n            \"Statement\": \"The purpose of this policy is about granting leave and to help employees to know about their entitlements and to make it easy for employees to avail themselves effectively.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 2\"\n        },\n        {\n            \"Statement\": \"The scope of this policy applies to all the employees of Gemini solutions Pvt. Ltd.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        },\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1PKvCgKQ4dS3PeKGCivSbDClBCmJL0XY9y67aFEKU9cmzJRQNC2UJ5mDhxnoZsDkYnR1e-cciZ9FQduOcMIsB2qFMF-FVkgZi6GRSB3JW9uka6FtkR23u1NsMMjOMaq-X\",\n        \"query\": \"what are your leave policies?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1245,"generation_token_count":463,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0afb9e73711f01126e65
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:21:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'late night allowance', 'conversation_id': 'a:10D_YiOTpT3lGFpZyRgXnop9EuaiKzzX-eHMYVpWHTw411-MMlhFvZpNu1DI28gujmimmKwHKE6tVrBJn3l_6vDNFiA2YjhVGPqUL6zMkkI4RNHAWqWDWHO5c6aXNZFbW'}
INFO:__main__:Received query: late night allowance
INFO:__main__:Received conversation_id: a:10D_YiOTpT3lGFpZyRgXnop9EuaiKzzX-eHMYVpWHTw411-MMlhFvZpNu1DI28gujmimmKwHKE6tVrBJn3l_6vDNFiA2YjhVGPqUL6zMkkI4RNHAWqWDWHO5c6aXNZFbW
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b0b0a9e73711f01126e67
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '801b06e1-c927-4fdc-82c7-698bfea4aa35', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:22:05 GMT', 'content-type': 'application/json', 'content-length': '1081', 'connection': 'keep-alive', 'x-amzn-requestid': '801b06e1-c927-4fdc-82c7-698bfea4aa35', 'x-amzn-bedrock-invocation-latency': '2395', 'x-amzn-bedrock-output-token-count': '288', 'x-amzn-bedrock-input-token-count': '1192'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7ae00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Late Night Shift Allowance (LNSA) is a benefit provided to employees who work on night shifts. According to our policy, LNSA is INR 400 per night, and it is applicable only after approval from the manager. The allowance is paid on a monthly basis, and employees must apply for it before the 24th of the month.\",\n    \"References\": [\n        {\n            \"Statement\": \"LNSA stands for Late night shift allowance, this is applied when you work on a night shift and the allowance is INR 400/- for every night that you work with us.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 18\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:10D_YiOTpT3lGFpZyRgXnop9EuaiKzzX-eHMYVpWHTw411-MMlhFvZpNu1DI28gujmimmKwHKE6tVrBJn3l_6vDNFiA2YjhVGPqUL6zMkkI4RNHAWqWDWHO5c6aXNZFbW\",\n        \"query\": \"late night allowance\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1192,"generation_token_count":288,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0b0d9e73711f01126e68
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:22:05] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can i take forward sick leaves next year?', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: can i take forward sick leaves next year?
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '708171ec-51bb-4443-9b96-5ab3beff0f79', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:22:15 GMT', 'content-type': 'application/json', 'content-length': '199', 'connection': 'keep-alive', 'x-amzn-requestid': '708171ec-51bb-4443-9b96-5ab3beff0f79', 'x-amzn-bedrock-invocation-latency': '298', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '430'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43520>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can I carry forward my unused sick leaves to next year?\"\n}","prompt_token_count":430,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can I carry forward my unused sick leaves to next year?
INFO:__main__:Query stored successfully with ID: 672b0b179e73711f01126e6a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0ca9f374-2b70-4720-8554-816613dc27b5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:22:19 GMT', 'content-type': 'application/json', 'content-length': '1018', 'connection': 'keep-alive', 'x-amzn-requestid': '0ca9f374-2b70-4720-8554-816613dc27b5', 'x-amzn-bedrock-invocation-latency': '2248', 'x-amzn-bedrock-output-token-count': '267', 'x-amzn-bedrock-input-token-count': '1011'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8910>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, Gemini Solutions does not allow carrying forward of unused sick leaves to the next year. According to our Leave Policy, each year, you'll receive 7 Sick Leaves (SLs) credited annually, and any unused leaves will lapse once you reach a total of 30 days.\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"Can I carry forward my unused sick leaves to next year?\",\n        \"source\": \"HR - Leave Policy.csv\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1011,"generation_token_count":267,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0b1b9e73711f01126e6b
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:22:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the leave calendar for gemini solutions. when does the cycle start?', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: what is the leave calendar for gemini solutions. when does the cycle start?
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '899a6b36-434b-42c5-b7a8-896663e8bb72', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:22:55 GMT', 'content-type': 'application/json', 'content-length': '229', 'connection': 'keep-alive', 'x-amzn-requestid': '899a6b36-434b-42c5-b7a8-896663e8bb72', 'x-amzn-bedrock-invocation-latency': '348', 'x-amzn-bedrock-output-token-count': '32', 'x-amzn-bedrock-input-token-count': '503'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa770>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What is the leave calendar for Gemini Solutions, and when does the leave cycle start?\"\n}","prompt_token_count":503,"generation_token_count":32,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What is the leave calendar for Gemini Solutions, and when does the leave cycle start?
INFO:__main__:Query stored successfully with ID: 672b0b3f9e73711f01126e6d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2da6b7a0-8e84-475e-aa41-21d0e2906254', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:22:59 GMT', 'content-type': 'application/json', 'content-length': '1552', 'connection': 'keep-alive', 'x-amzn-requestid': '2da6b7a0-8e84-475e-aa41-21d0e2906254', 'x-amzn-bedrock-invocation-latency': '3313', 'x-amzn-bedrock-output-token-count': '400', 'x-amzn-bedrock-input-token-count': '1223'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9d50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The leave calendar for Gemini Solutions is not explicitly mentioned in the provided texts. However, it can be inferred that the leave cycle starts from the beginning of the year, as the leave entitlements are calculated on a yearly basis. For example, the Sick Leaves are allowed 7 days on full fixed pay in one leave year (Text Block 3). Similarly, the Casual Leaves and Sick Leaves are calculated on a pro-rata basis for new joiners (Text Block 5).\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of sick leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 5\"\n        },\n        {\n            \"Statement\": \"Gemini Solutions provides 7 Casual Leaves (CLs), 7 Sick Leaves (SLs) annually, and 1.5 Privilege Leaves (PLs) per month.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Sheet Name: Feedbacks - Index: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"What is the leave calendar for Gemini Solutions, and when does the leave cycle start?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf and Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1223,"generation_token_count":400,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0b439e73711f01126e6e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:22:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'list down policies', 'conversation_id': 'a:1USYkcJ1H-3vPZSj8BBZPcG8iQnMJDPWUrxxulYMxZ9RQThmxxa_8pdayx4QdZ87IP_GhKcM_nQ3-uCcxT2DtdPTvrfc3zKQ8UgXdajwJqcjGXuzX4s0od4SXaqMaEJJN'}
INFO:__main__:Received query: list down policies
INFO:__main__:Received conversation_id: a:1USYkcJ1H-3vPZSj8BBZPcG8iQnMJDPWUrxxulYMxZ9RQThmxxa_8pdayx4QdZ87IP_GhKcM_nQ3-uCcxT2DtdPTvrfc3zKQ8UgXdajwJqcjGXuzX4s0od4SXaqMaEJJN
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b0c5e9e73711f01126e70
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b95281b5-d29c-462f-bf10-3e8b39710ce4', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:27:46 GMT', 'content-type': 'application/json', 'content-length': '1213', 'connection': 'keep-alive', 'x-amzn-requestid': 'b95281b5-d29c-462f-bf10-3e8b39710ce4', 'x-amzn-bedrock-invocation-latency': '2662', 'x-amzn-bedrock-output-token-count': '312', 'x-amzn-bedrock-input-token-count': '1106'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbfd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Here is the list of policies available at Gemini Solutions:\n\n* Acceptable Use Policy\n* Clear Desk and Clear Screen Policy\n* Consequence Management/Disciplinary action Procedure (DAP)\n* Hardware Policy\n* Intellectual Property/ownership\n* Internet usage policy\n* LTA Policy\n* Right to audit\n* Secure usage of cryptographic keys\n* Secure usage of physical access cards\n* Social Media/Social networking Policy\n* Weakness & Incident Reporting\n\nYou can find the internal Gemini policies on MIS, under the 'Policies' section.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can find the internal Gemini policies on MIS, under the 'Policies' section.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index 21\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1USYkcJ1H-3vPZSj8BBZPcG8iQnMJDPWUrxxulYMxZ9RQThmxxa_8pdayx4QdZ87IP_GhKcM_nQ3-uCcxT2DtdPTvrfc3zKQ8UgXdajwJqcjGXuzX4s0od4SXaqMaEJJN\",\n        \"query\": \"list down policies\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1106,"generation_token_count":312,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 75 (char 78)
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:27:46] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'start of year is 1 jan, or april', 'conversation_id': 'a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99'}
INFO:__main__:Received query: start of year is 1 jan, or april
INFO:__main__:Received conversation_id: a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9effcd32-b1a6-47e5-91f9-dac997b41436', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:29:22 GMT', 'content-type': 'application/json', 'content-length': '207', 'connection': 'keep-alive', 'x-amzn-requestid': '9effcd32-b1a6-47e5-91f9-dac997b41436', 'x-amzn-bedrock-invocation-latency': '321', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '563'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa980>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What is the start date of the leave cycle for Gemini Solutions?\"\n}","prompt_token_count":563,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What is the start date of the leave cycle for Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672b0cc29e73711f01126e72
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3abaf2d1-cc3d-4c7f-a171-0d31f5ea3f72', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:29:26 GMT', 'content-type': 'application/json', 'content-length': '998', 'connection': 'keep-alive', 'x-amzn-requestid': '3abaf2d1-cc3d-4c7f-a171-0d31f5ea3f72', 'x-amzn-bedrock-invocation-latency': '2161', 'x-amzn-bedrock-output-token-count': '256', 'x-amzn-bedrock-input-token-count': '1215'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79e40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The leave cycle for Gemini Solutions does not have a specific start date mentioned in the provided policy documents. The policy only discusses the leave entitlements, types of leaves, and the process for availing leaves. It does not mention the start date of the leave cycle.\",\n    \"References\": [\n        {\n            \"Statement\": \"The policy does not mention the start date of the leave cycle.\",\n            \"source\": \"N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1fFa4ESOWiFTTyMft5sn-T13A8_IyLRhEQDP6waiU8O6xMuSwp-WqqfIdU9BAEl-bel7EuoEuGAOvC4Xx_5fBshDPyh1TFzmjNlib-T9x-0nV4fTEj7kB9WJo801YLc99\",\n        \"query\": \"What is the start date of the leave cycle for Gemini Solutions?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf, Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":1215,"generation_token_count":256,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0cc69e73711f01126e73
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:29:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b0d3c9e73711f01126e75
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '21039aa5-8f09-4283-91b4-4d0f93199f65', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:31:27 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '21039aa5-8f09-4283-91b4-4d0f93199f65', 'x-amzn-bedrock-invocation-latency': '1214', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9d80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0d3f9e73711f01126e76
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.227.155.169 - - [06/Nov/2024 06:31:27] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what all information do you ahve', 'conversation_id': 'a:1Rb6CtufOUhhGWzsgYt2d-1xv_KPm6b32p9hVufB26k8EFiTTsDzqGCTalz-JsI1hWxKKGfOXk3PovKm77GriRtmfJ9zfPBwpdv896KXgjBIBrkgMz_oN0Xvm9qaCrEpv'}
INFO:__main__:Received query: what all information do you ahve
INFO:__main__:Received conversation_id: a:1Rb6CtufOUhhGWzsgYt2d-1xv_KPm6b32p9hVufB26k8EFiTTsDzqGCTalz-JsI1hWxKKGfOXk3PovKm77GriRtmfJ9zfPBwpdv896KXgjBIBrkgMz_oN0Xvm9qaCrEpv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b0fc79e73711f01126e78
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2d09910d-8efa-438e-9f90-b9a70f70b8db', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:42:19 GMT', 'content-type': 'application/json', 'content-length': '1373', 'connection': 'keep-alive', 'x-amzn-requestid': '2d09910d-8efa-438e-9f90-b9a70f70b8db', 'x-amzn-bedrock-invocation-latency': '2811', 'x-amzn-bedrock-output-token-count': '332', 'x-amzn-bedrock-input-token-count': '1091'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9cc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As an HR policy bot for Gemini Solutions, I have information on various company policies, including IT - Information Awareness Policy, Data and Information classification and handling policy, and E-mail Policy. This information includes details on data classification, handling, and storage, as well as guidelines for non-compliance with policies.\",\n    \"References\": [\n        {\n            \"Statement\": \"All information created, sent or received via the e-mail system, network, the Internet, or the Intranet is the property of Gemini.\",\n            \"source\": \"Gemini - E POLICY V1.6_India.pdf - Page 4\"\n        },\n        {\n            \"Statement\": \"The classification category given to information determines how the information should be handled or stored.\",\n            \"source\": \"Gemini - IT Data and information classification and handling policy v1.0_India.pdf - Page 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Rb6CtufOUhhGWzsgYt2d-1xv_KPm6b32p9hVufB26k8EFiTTsDzqGCTalz-JsI1hWxKKGfOXk3PovKm77GriRtmfJ9zfPBwpdv896KXgjBIBrkgMz_oN0Xvm9qaCrEpv\",\n        \"query\": \"what all information do you ahve\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1091,"generation_token_count":332,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b0fcb9e73711f01126e79
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:42:19] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'list down all the company policies for me', 'conversation_id': 'a:1Rb6CtufOUhhGWzsgYt2d-1xv_KPm6b32p9hVufB26k8EFiTTsDzqGCTalz-JsI1hWxKKGfOXk3PovKm77GriRtmfJ9zfPBwpdv896KXgjBIBrkgMz_oN0Xvm9qaCrEpv'}
INFO:__main__:Received query: list down all the company policies for me
INFO:__main__:Received conversation_id: a:1Rb6CtufOUhhGWzsgYt2d-1xv_KPm6b32p9hVufB26k8EFiTTsDzqGCTalz-JsI1hWxKKGfOXk3PovKm77GriRtmfJ9zfPBwpdv896KXgjBIBrkgMz_oN0Xvm9qaCrEpv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f2340f09-e769-465f-9309-ed995b4f41d7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:42:42 GMT', 'content-type': 'application/json', 'content-length': '216', 'connection': 'keep-alive', 'x-amzn-requestid': 'f2340f09-e769-465f-9309-ed995b4f41d7', 'x-amzn-bedrock-invocation-latency': '309', 'x-amzn-bedrock-output-token-count': '29', 'x-amzn-bedrock-input-token-count': '359'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9540>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you list down all the company policies that you have information on?\"\n}","prompt_token_count":359,"generation_token_count":29,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you list down all the company policies that you have information on?
INFO:__main__:Query stored successfully with ID: 672b0fe29e73711f01126e7b
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5596f1db-8ab9-479f-a7fa-380d4a5acf77', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:42:46 GMT', 'content-type': 'application/json', 'content-length': '1365', 'connection': 'keep-alive', 'x-amzn-requestid': '5596f1db-8ab9-479f-a7fa-380d4a5acf77', 'x-amzn-bedrock-invocation-latency': '2818', 'x-amzn-bedrock-output-token-count': '338', 'x-amzn-bedrock-input-token-count': '1127'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78a90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Based on the provided information, Gemini Solutions has the following company policies: \n* Secure usage of physical access cards\n* Secure usage of cryptographic keys\n* Internet usage policy\n* Clear Desk and Clear Screen Policy\n* Social Media/Social networking Policy\n* Weakness & Incident Reporting\n* Consequence Management/Disciplinary action Procedure (DAP)\n* Intellectual Property/ownership\n* Right to audit\n* Question/clarifications/improvements\n* Information Awareness policy\n* Remote Working Policy\nThese policies can be found on the MIS, under the 'Policies' section, as mentioned in the HR - Onboarding Portal.csv file.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can find the internal Gemini policies on MIS, under the 'Policies' section.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - 21\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1Rb6CtufOUhhGWzsgYt2d-1xv_KPm6b32p9hVufB26k8EFiTTsDzqGCTalz-JsI1hWxKKGfOXk3PovKm77GriRtmfJ9zfPBwpdv896KXgjBIBrkgMz_oN0Xvm9qaCrEpv\",\n        \"query\": \"Can you list down all the company policies that you have information on?\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1127,"generation_token_count":338,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 104 (char 107)
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:42:46] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b10469e73711f01126e7d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bc133074-5db1-4217-b206-2ce163dc25db', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:44:25 GMT', 'content-type': 'application/json', 'content-length': '691', 'connection': 'keep-alive', 'x-amzn-requestid': 'bc133074-5db1-4217-b206-2ce163dc25db', 'x-amzn-bedrock-invocation-latency': '1723', 'x-amzn-bedrock-output-token-count': '204', 'x-amzn-bedrock-input-token-count': '771'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7afb0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind? Please feel free to ask a specific question, and I'll do my best to provide a clear and concise answer.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"hi\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":771,"generation_token_count":204,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b10499e73711f01126e7e
INFO:__main__:Process completed successfully.
INFO:werkzeug:125.62.118.90 - - [06/Nov/2024 06:44:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslip', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: what are the steps to download my payslip
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '272520de-8b09-405d-95f0-cfed93940bee', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:49:11 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '272520de-8b09-405d-95f0-cfed93940bee', 'x-amzn-bedrock-invocation-latency': '352', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '242'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf87f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you guide me on how to download my payslip?\"\n}","prompt_token_count":242,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you guide me on how to download my payslip?
INFO:__main__:Query stored successfully with ID: 672b11679e73711f01126e80
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '49160cf4-0771-465b-a62e-eb6f3951a73a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:49:15 GMT', 'content-type': 'application/json', 'content-length': '1372', 'connection': 'keep-alive', 'x-amzn-requestid': '49160cf4-0771-465b-a62e-eb6f3951a73a', 'x-amzn-bedrock-invocation-latency': '3015', 'x-amzn-bedrock-output-token-count': '363', 'x-amzn-bedrock-input-token-count': '953'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c6e0100>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your payslip, please follow these steps: \n* Log in to your GreytHR account.\n* Navigate to the payslips section to view your monthly payslips.\nYou can also access your payslips from the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"Can you guide me on how to download my payslip?\",\n        \"source\": \"HR - Onboarding Portal.csv, Accounts - Remuneration.csv\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":953,"generation_token_count":363,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 69 (char 72)
INFO:werkzeug:125.62.118.90 - - [06/Nov/2024 06:49:15] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how much amount is credited after using pluxee', 'conversation_id': '234589076ftre'}
INFO:__main__:Received query: how much amount is credited after using pluxee
INFO:__main__:Received conversation_id: 234589076ftre
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b11be9e73711f01126e82
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3e509e9e-6507-4250-867d-ab608e4b83a3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:50:41 GMT', 'content-type': 'application/json', 'content-length': '706', 'connection': 'keep-alive', 'x-amzn-requestid': '3e509e9e-6507-4250-867d-ab608e4b83a3', 'x-amzn-bedrock-invocation-latency': '1336', 'x-amzn-bedrock-output-token-count': '152', 'x-amzn-bedrock-input-token-count': '1093'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c5256f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"After opting for Pluxee benefit, INR 2000 will be credited to your Sodexo food wallet every month.\",\n    \"References\": [\n        {\n            \"Statement\": \"If you opt for it, INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 12\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"234589076ftre\",\n        \"query\": \"how much amount is credited after using pluxee\",\n        \"source\": \"HR Policy Bot\",\n        \"response_length\": \"44\"\n    }\n}","prompt_token_count":1093,"generation_token_count":152,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b11c19e73711f01126e83
INFO:__main__:Process completed successfully.
INFO:werkzeug:125.62.118.90 - - [06/Nov/2024 06:50:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi jinie', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hi jinie
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b11c89e73711f01126e85
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3a9746d1-921e-4bb4-a9d5-a9f9df5ad1ae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:50:51 GMT', 'content-type': 'application/json', 'content-length': '592', 'connection': 'keep-alive', 'x-amzn-requestid': '3a9746d1-921e-4bb4-a9d5-a9f9df5ad1ae', 'x-amzn-bedrock-invocation-latency': '1567', 'x-amzn-bedrock-output-token-count': '179', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a350>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind?\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hi jinie\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":910,"generation_token_count":179,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b11cb9e73711f01126e86
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:50:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslip', 'conversation_id': '234589076ftre'}
INFO:__main__:Received query: what are the steps to download my payslip
INFO:__main__:Received conversation_id: 234589076ftre
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '19846e16-266c-46f6-b9d0-76e07db62696', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:51:02 GMT', 'content-type': 'application/json', 'content-length': '192', 'connection': 'keep-alive', 'x-amzn-requestid': '19846e16-266c-46f6-b9d0-76e07db62696', 'x-amzn-bedrock-invocation-latency': '302', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '281'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1480>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are the steps to download my pluxee payslip\"\n}","prompt_token_count":281,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are the steps to download my pluxee payslip
INFO:__main__:Query stored successfully with ID: 672b11d69e73711f01126e88
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslip?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what are the steps to download my payslip?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '758b9fe1-c99d-4591-aa85-2455b729e90a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:51:04 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '758b9fe1-c99d-4591-aa85-2455b729e90a', 'x-amzn-bedrock-invocation-latency': '290', 'x-amzn-bedrock-output-token-count': '27', 'x-amzn-bedrock-input-token-count': '223'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79870>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you guide me on how to download my payslip?\"\n}","prompt_token_count":223,"generation_token_count":27,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you guide me on how to download my payslip?
INFO:__main__:Query stored successfully with ID: 672b11d89e73711f01126e8a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '15a198c1-f036-423a-b0e5-cc40ee8e0087', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:51:07 GMT', 'content-type': 'application/json', 'content-length': '1963', 'connection': 'keep-alive', 'x-amzn-requestid': '15a198c1-f036-423a-b0e5-cc40ee8e0087', 'x-amzn-bedrock-invocation-latency': '3757', 'x-amzn-bedrock-output-token-count': '457', 'x-amzn-bedrock-input-token-count': '917'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619aa4160>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your Pluxee payslip, follow these steps: \n    * Log in to your GreytHR account.\n    * Navigate to your payslips section.\n    * You can view and download your monthly payslips from there.\n    * If you are unable to view your payslip, it may be due to the delay in uploading, which generally happens by the 1st of any month. In such cases, you can connect with Vinod Kumar/Bharat Bhushan from the Accounts team.\n    * Additionally, you can opt for Pluxee benefit, also known as Sodexo food wallet, and INR 2000 will be credited to your Sodexo food wallet every month.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Text Block 3: Question: Where can I find my payslips? Answer: You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\"\n        },\n        {\n            \"Statement\": \"The Salary slips generally get uploaded by 1st of any month.\",\n            \"source\": \"Text Block 4: Question: My Salary slip is not visible on the portal\"\n        },\n        {\n            \"Statement\": \"If you opt for it, INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month.\",\n            \"source\": \"Text Block 5: Question: What is the amount of Sodexo food wallet? Answer: If you opt for it, INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month.\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"234589076ftre\",\n        \"query\": \"what are the steps to download my pluxee payslip\",\n        \"source\": \"HR - Onboarding Portal.csv, Accounts - Remuneration.csv, Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":917,"generation_token_count":457,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 69 (char 72)
INFO:werkzeug:125.62.118.90 - - [06/Nov/2024 06:51:07] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db98d6f4-a6e1-424b-9b36-cdee5b8a5665', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:51:08 GMT', 'content-type': 'application/json', 'content-length': '1372', 'connection': 'keep-alive', 'x-amzn-requestid': 'db98d6f4-a6e1-424b-9b36-cdee5b8a5665', 'x-amzn-bedrock-invocation-latency': '3010', 'x-amzn-bedrock-output-token-count': '359', 'x-amzn-bedrock-input-token-count': '949'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b2eef0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your payslip, please follow these steps: \n* Log in to your GreytHR account.\n* Navigate to the payslips section to view your monthly payslips.\nYou can also access your payslips from the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you guide me on how to download my payslip?\",\n        \"source\": \"HR - Onboarding Portal.csv, Accounts - Remuneration.csv\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":949,"generation_token_count":359,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 69 (char 72)
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:51:08] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how can i download my payslips?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: how can i download my payslips?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c96e480d-0878-48cb-943a-d07376b820ec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:51:59 GMT', 'content-type': 'application/json', 'content-length': '176', 'connection': 'keep-alive', 'x-amzn-requestid': 'c96e480d-0878-48cb-943a-d07376b820ec', 'x-amzn-bedrock-invocation-latency': '257', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '250'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd06a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"how can i download my payslips?\"\n}","prompt_token_count":250,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: how can i download my payslips?
INFO:__main__:Query stored successfully with ID: 672b120f9e73711f01126e8c
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'dc3498a9-f1bf-4ce0-aa4d-32d14a9a5842', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:52:03 GMT', 'content-type': 'application/json', 'content-length': '1306', 'connection': 'keep-alive', 'x-amzn-requestid': 'dc3498a9-f1bf-4ce0-aa4d-32d14a9a5842', 'x-amzn-bedrock-invocation-latency': '2809', 'x-amzn-bedrock-output-token-count': '338', 'x-amzn-bedrock-input-token-count': '933'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b4c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"You can download your payslips by logging in to your GreytHR account and navigating to the payslips section. Alternatively, you can also access your payslips through the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - Sheet1 - Index: 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"how can i download my payslips?\",\n        \"source\": \"Gemini Solutions HR Policy Database\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":933,"generation_token_count":338,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b12139e73711f01126e8d
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 06:52:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi how are you', 'conversation_id': 'a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR'}
INFO:__main__:Received query: hi how are you
INFO:__main__:Received conversation_id: a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2b52dd0d-5e52-4d4f-8467-4c123549d9ea', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:53:11 GMT', 'content-type': 'application/json', 'content-length': '175', 'connection': 'keep-alive', 'x-amzn-requestid': '2b52dd0d-5e52-4d4f-8467-4c123549d9ea', 'x-amzn-bedrock-invocation-latency': '269', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd39a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Hello! How are you doing today?\"\n}","prompt_token_count":265,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Hello! How are you doing today?
INFO:__main__:Query stored successfully with ID: 672b12579e73711f01126e8f
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'a8c10b8a-2db9-417b-a01b-a335efa5ef9e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 06:53:14 GMT', 'content-type': 'application/json', 'content-length': '693', 'connection': 'keep-alive', 'x-amzn-requestid': 'a8c10b8a-2db9-417b-a01b-a335efa5ef9e', 'x-amzn-bedrock-invocation-latency': '1743', 'x-amzn-bedrock-output-token-count': '205', 'x-amzn-bedrock-input-token-count': '831'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm doing well, thank you for asking! I'm here to assist you with any company policy-related queries. If you have any specific questions or concerns, feel free to ask!\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1F6h57q4wG3bftUT4K97xlqqKD4_BVQqc4s2JAheRJxjQFytT73f_pokkWB95A3zG5Rup6d8AFrkjfyQ8Cl2LUNmjyVD3qJMbYsD_WRMnbC4uFD8mMaOWFgLdzlH-82rR\",\n        \"query\": \"Hello! How are you doing today?\",\n        \"source\": \"N/A\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":831,"generation_token_count":205,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b125a9e73711f01126e90
INFO:__main__:Process completed successfully.
INFO:werkzeug:125.62.118.90 - - [06/Nov/2024 06:53:14] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b14c59e73711f01126e92
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '56f84895-2878-4d3a-b3f7-31b99de3e533', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:03:36 GMT', 'content-type': 'application/json', 'content-length': '691', 'connection': 'keep-alive', 'x-amzn-requestid': '56f84895-2878-4d3a-b3f7-31b99de3e533', 'x-amzn-bedrock-invocation-latency': '1746', 'x-amzn-bedrock-output-token-count': '203', 'x-amzn-bedrock-input-token-count': '770'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41990>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind? Please feel free to ask a specific question, and I'll do my best to provide a clear and concise answer.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv\",\n        \"query\": \"hi\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":770,"generation_token_count":203,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b14c89e73711f01126e93
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:03:36] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can you help me with medical insurance policy?', 'conversation_id': 'a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv'}
INFO:__main__:Received query: can you help me with medical insurance policy?
INFO:__main__:Received conversation_id: a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4ca7e0cd-7710-490f-b967-544fb142f697', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:04:09 GMT', 'content-type': 'application/json', 'content-length': '190', 'connection': 'keep-alive', 'x-amzn-requestid': '4ca7e0cd-7710-490f-b967-544fb142f697', 'x-amzn-bedrock-invocation-latency': '289', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf86d0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"can you help me with medical insurance policy\"\n}","prompt_token_count":241,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: can you help me with medical insurance policy?
INFO:__main__:Query stored successfully with ID: 672b14e99e73711f01126e95
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2398b71f-6ed8-4424-b86d-802131663cb7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:04:17 GMT', 'content-type': 'application/json', 'content-length': '3601', 'connection': 'keep-alive', 'x-amzn-requestid': '2398b71f-6ed8-4424-b86d-802131663cb7', 'x-amzn-bedrock-invocation-latency': '6989', 'x-amzn-bedrock-output-token-count': '853', 'x-amzn-bedrock-input-token-count': '1166'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7a620>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"I'd be happy to help you with Gemini Solutions' medical insurance policy. Here are some key points to note:\n\n* You can claim a medical insurance policy if you are hospitalized for more than 24 hours, or for daycare procedures such as Dialysis, Chemotherapy, Radiology, Eye surgery, etc.\n* The medical insurance policy is covered for you, your spouse, and up to two children through the Welfare Contribution.\n* If you want to add coverage for your parents, you will need to pay the annual premium, which can vary each year.\n* You can enroll your parents in the medical insurance policy at the time of joining or renewal, but not in the middle of the year.\n* The medical insurance policy extends to cover your spouse and two dependent children, with a coverage limit of INR 5,00,000/-.\n* The medical insurance provider is Raksha Health Insurance TPA Pvt Ltd, and the coverage for employees is INR 2,50,000/-.\n\nPlease note that only your parents can be enrolled in the medical insurance policy, and not extended family members such as father-in-law and mother-in-law.\n\nIf you have any further questions or concerns, please feel free to ask.\n\nReferences:\n* You will have to be hospitalized for more than 24 hours. Active line of treatment and not for diagnostic purpose. (Source: Text Block 1, HR - Onboarding Portal.csv, Sheet1, Index: 6)\n* The health insurance is covered for you, your spouse, and up to two children is covered by the Welfare Contribution, so you don't need to worry about that part being deducted from your salary. (Source: Text Block 2, Accounts - Remuneration.csv, Sheet1, Index: 2)\n* In case you enroll your parents in the medical insurance policy, you would have to bear a premium amount. (Source: Text Block 3, HR - Onboarding Portal.csv, Sheet1, Index: 7)\n* Raksha health insurance TPA Pvt Ltd is our Medical Insurance partner. You as an employee are covered for INR 2,50,000/- of medical insurance claim. (Source: Text Block 5, HR - Onboarding Portal.csv, Sheet1, Index: 5)\n\",\n    \"References\": [\n        {\n            \"Statement\": \"You will have to be hospitalized for more than 24 hours. Active line of treatment and not for diagnostic purpose.\",\n            \"source\": \"HR - Onboarding Portal.csv, Sheet1, Index: 6\"\n        },\n        {\n            \"Statement\": \"The health insurance is covered for you, your spouse, and up to two children is covered by the Welfare Contribution, so you don't need to worry about that part being deducted from your salary.\",\n            \"source\": \"Accounts - Remuneration.csv, Sheet1, Index: 2\"\n        },\n        {\n            \"Statement\": \"In case you enroll your parents in the medical insurance policy, you would have to bear a premium amount.\",\n            \"source\": \"HR - Onboarding Portal.csv, Sheet1, Index: 7\"\n        },\n        {\n            \"Statement\": \"Raksha health insurance TPA Pvt Ltd is our Medical Insurance partner. You as an employee are covered for INR 2,50,000/- of medical insurance claim.\",\n            \"source\": \"HR - Onboarding Portal.csv, Sheet1, Index: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv\",\n        \"query\": \"can you help me with medical insurance policy?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"346\"\n    }\n}","prompt_token_count":1166,"generation_token_count":853,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 123 (char 126)
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:04:17] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'leave policy?', 'conversation_id': 'a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv'}
INFO:__main__:Received query: leave policy?
INFO:__main__:Received conversation_id: a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'edf85886-2ed2-4025-b73e-77eb2edf9270', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:04:43 GMT', 'content-type': 'application/json', 'content-length': '157', 'connection': 'keep-alive', 'x-amzn-requestid': 'edf85886-2ed2-4025-b73e-77eb2edf9270', 'x-amzn-bedrock-invocation-latency': '260', 'x-amzn-bedrock-output-token-count': '18', 'x-amzn-bedrock-input-token-count': '259'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbd00>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"leave policy\"\n}","prompt_token_count":259,"generation_token_count":18,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: leave policy?
INFO:__main__:Query stored successfully with ID: 672b150b9e73711f01126e97
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0551a1b7-2e6f-48a5-96be-2981899eace8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:04:48 GMT', 'content-type': 'application/json', 'content-length': '1752', 'connection': 'keep-alive', 'x-amzn-requestid': '0551a1b7-2e6f-48a5-96be-2981899eace8', 'x-amzn-bedrock-invocation-latency': '3472', 'x-amzn-bedrock-output-token-count': '421', 'x-amzn-bedrock-input-token-count': '1235'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78f40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The Leave Policy of Gemini Solutions is designed to help employees know their entitlements and make it easy for them to avail themselves effectively. The policy applies to all employees of Gemini Solutions Pvt. Ltd. The objective of this policy is to define the process and procedures regarding employee leave entitlements. The policy covers various types of leaves, including annual leave, sick leave, and emergency leave, with specific rules and procedures for each type.\",\n    \"References\": [\n        {\n            \"Statement\": \"The purpose of this policy is about granting leave and to help employees to know about their entitlements and to make it easy for employees to avail themselves effectively.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 3\"\n        },\n        {\n            \"Statement\": \"The scope of this policy applies to all the employees of Gemini solutions Pvt. Ltd.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 3\"\n        },\n        {\n            \"Statement\": \"The objective of this policy is to define the process and procedures regarding employee leave entitlements.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 3\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv\",\n        \"query\": \"leave policy?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1235,"generation_token_count":421,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b15109e73711f01126e98
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:04:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many cls i have available in an year?', 'conversation_id': 'a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv'}
INFO:__main__:Received query: how many cls i have available in an year?
INFO:__main__:Received conversation_id: a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '91489db7-7d3b-4aa9-9c91-ceb91b7ab148', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:05:28 GMT', 'content-type': 'application/json', 'content-length': '199', 'connection': 'keep-alive', 'x-amzn-requestid': '91489db7-7d3b-4aa9-9c91-ceb91b7ab148', 'x-amzn-bedrock-invocation-latency': '305', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '514'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a78dc0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"how many types of leaves do i have available in a year?\"\n}","prompt_token_count":514,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: how many types of leaves do i have available in a year?
INFO:__main__:Query stored successfully with ID: 672b15389e73711f01126e9a
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '2b8bbeef-3be9-46f4-85b5-84fb446321ae', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:05:31 GMT', 'content-type': 'application/json', 'content-length': '878', 'connection': 'keep-alive', 'x-amzn-requestid': '2b8bbeef-3be9-46f4-85b5-84fb446321ae', 'x-amzn-bedrock-invocation-latency': '2008', 'x-amzn-bedrock-output-token-count': '237', 'x-amzn-bedrock-input-token-count': '997'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79300>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As a Gemini Solutions employee, you have three types of leaves available in a year: Sick Leaves, Casual Leaves, and Privilege Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv\",\n        \"query\": \"how many types of leaves do i have available in a year?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":997,"generation_token_count":237,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b153b9e73711f01126e9b
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:05:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many casual leaves?', 'conversation_id': 'a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv'}
INFO:__main__:Received query: how many casual leaves?
INFO:__main__:Received conversation_id: a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c27e6939-21e0-414b-93ee-d55ceec65381', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:05:47 GMT', 'content-type': 'application/json', 'content-length': '187', 'connection': 'keep-alive', 'x-amzn-requestid': 'c27e6939-21e0-414b-93ee-d55ceec65381', 'x-amzn-bedrock-invocation-latency': '258', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '528'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7b8b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"how many casual leaves do i have available?\"\n}","prompt_token_count":528,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: how many casual leaves do i have available?
INFO:__main__:Query stored successfully with ID: 672b154b9e73711f01126e9d
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c5b03419-1325-4bfc-9645-f72257d34404', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:05:51 GMT', 'content-type': 'application/json', 'content-length': '927', 'connection': 'keep-alive', 'x-amzn-requestid': 'c5b03419-1325-4bfc-9645-f72257d34404', 'x-amzn-bedrock-invocation-latency': '2192', 'x-amzn-bedrock-output-token-count': '261', 'x-amzn-bedrock-input-token-count': '1062'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a795a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As a confirmed employee, you are entitled to 7 Casual Leaves (CLs) per year. These leaves are credited annually and can be used as per the company's leave policy.\",\n    \"References\": [\n        {\n            \"Statement\": \"Each year, you‚Äôll receive 7 Casual Leaves (CLs), 7 Sick Leaves (SLs) credited annually and 1.5 Privilege Leaves (PLs) on monthly basis.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 6\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv\",\n        \"query\": \"how many casual leaves do i have available?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1062,"generation_token_count":261,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b154f9e73711f01126e9e
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:05:51] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the process to apply for the leaves?', 'conversation_id': 'a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv'}
INFO:__main__:Received query: what is the process to apply for the leaves?
INFO:__main__:Received conversation_id: a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9ca3cd9f-8453-4274-adbb-40889299b8d5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:06:22 GMT', 'content-type': 'application/json', 'content-length': '187', 'connection': 'keep-alive', 'x-amzn-requestid': '9ca3cd9f-8453-4274-adbb-40889299b8d5', 'x-amzn-bedrock-invocation-latency': '300', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '399'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd32b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the process to apply for my leaves?\"\n}","prompt_token_count":399,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the process to apply for my leaves?
INFO:__main__:Query stored successfully with ID: 672b156e9e73711f01126ea0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b213e134-a291-4310-ab1a-0006b641b6cb', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:06:26 GMT', 'content-type': 'application/json', 'content-length': '1408', 'connection': 'keep-alive', 'x-amzn-requestid': 'b213e134-a291-4310-ab1a-0006b641b6cb', 'x-amzn-bedrock-invocation-latency': '3069', 'x-amzn-bedrock-output-token-count': '368', 'x-amzn-bedrock-input-token-count': '994'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43580>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To apply for a leave, you can follow these steps: * Go to the MIS portal and navigate to the Apply Leaves section. * Fill in the necessary details and submit your leave application. * Ensure to inform your DC manager about your leave application. You can apply for up to 2 Casual Leaves (CLs) at a time. If you need more than 2 days off in a row, you'll need to use Paid Leaves (PLs) or leave without pay (LWP) after getting approval from your DC Manager and DC Chair.\",\n    \"References\": [\n        {\n            \"Statement\": \"As it was demonstrated during your induction, you can apply for a leave from the MIS portal, from the Apply Leaves section.\",\n            \"source\": \"HR - Onboarding Portal.csv - Sheet1 - Index: 9\"\n        },\n        {\n            \"Statement\": \"You can apply for up to 2 Casual Leaves (CLs) at a time.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 7\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1E6oJa6HvoA9Of7x28z_aJTwlZfkyWM_4REuSSMdxaUgQTIvP6PaRgoqzpjgnSpCOWRrjMx--EhDXQKyOLmlQCtpyScf5JdgDwPkf9n55iWOmLLUF4F6r3IJaWwa0NhCv\",\n        \"query\": \"what is the process to apply for my leaves?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":994,"generation_token_count":368,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b15729e73711f01126ea1
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:06:26] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b16d19e73711f01126ea3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6d01031c-19da-4e99-b6c1-9eed3f120ee3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:12:20 GMT', 'content-type': 'application/json', 'content-length': '691', 'connection': 'keep-alive', 'x-amzn-requestid': '6d01031c-19da-4e99-b6c1-9eed3f120ee3', 'x-amzn-bedrock-invocation-latency': '1733', 'x-amzn-bedrock-output-token-count': '200', 'x-amzn-bedrock-input-token-count': '767'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42050>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind? Please feel free to ask a specific question, and I'll do my best to provide a clear and concise answer.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL\",\n        \"query\": \"hi\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"106\"\n    }\n}","prompt_token_count":767,"generation_token_count":200,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b16d49e73711f01126ea4
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:12:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'whats leave policy ? my cls are exhausted now', 'conversation_id': 'a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL'}
INFO:__main__:Received query: whats leave policy ? my cls are exhausted now
INFO:__main__:Received conversation_id: a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '72e5207e-fd50-4570-9e89-5207062553a1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:12:45 GMT', 'content-type': 'application/json', 'content-length': '218', 'connection': 'keep-alive', 'x-amzn-requestid': '72e5207e-fd50-4570-9e89-5207062553a1', 'x-amzn-bedrock-invocation-latency': '332', 'x-amzn-bedrock-output-token-count': '31', 'x-amzn-bedrock-input-token-count': '242'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd29b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What is the company's leave policy? My colleagues and I are exhausted now.\"\n}","prompt_token_count":242,"generation_token_count":31,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What is the company's leave policy? My colleagues and I are exhausted now.
INFO:__main__:Query stored successfully with ID: 672b16ed9e73711f01126ea6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e0f4f598-befa-4b0a-8197-3667efec5bf7', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:12:50 GMT', 'content-type': 'application/json', 'content-length': '1391', 'connection': 'keep-alive', 'x-amzn-requestid': 'e0f4f598-befa-4b0a-8197-3667efec5bf7', 'x-amzn-bedrock-invocation-latency': '3018', 'x-amzn-bedrock-output-token-count': '363', 'x-amzn-bedrock-input-token-count': '1341'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41930>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' Leave Policy Version 5.0, employees can take leave against Comp off in their kitty or else it will lapse. Any comp off request should come to the manager at least one week in advance. Employees will have an option to club comp off (not more than 2 at a time) and moving forward employees will have an option to club comp off with PL or CL (manager's discretion).\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees can only take leave against Comp off in their kitty or else it will lapse.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 7\"\n        },\n        {\n            \"Statement\": \"Any comp off request should come to the manager at least one week in advance.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 7\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL\",\n        \"query\": \"What is the company's leave policy? My colleagues and I are exhausted now.\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1341,"generation_token_count":363,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b16f29e73711f01126ea7
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:12:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many cls we  get', 'conversation_id': 'a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL'}
INFO:__main__:Received query: how many cls we  get
INFO:__main__:Received conversation_id: a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ed55c1be-a6e1-4102-97de-ae73d6932227', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:13:21 GMT', 'content-type': 'application/json', 'content-length': '177', 'connection': 'keep-alive', 'x-amzn-requestid': 'ed55c1be-a6e1-4102-97de-ae73d6932227', 'x-amzn-bedrock-invocation-latency': '271', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '454'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41a80>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"How many classes (CLS) do we get?\"\n}","prompt_token_count":454,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many classes (CLS) do we get?
INFO:__main__:Query stored successfully with ID: 672b17119e73711f01126ea9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5651a832-5cfa-4de2-b99a-2dfb49cf3914', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:13:24 GMT', 'content-type': 'application/json', 'content-length': '879', 'connection': 'keep-alive', 'x-amzn-requestid': '5651a832-5cfa-4de2-b99a-2dfb49cf3914', 'x-amzn-bedrock-invocation-latency': '2097', 'x-amzn-bedrock-output-token-count': '250', 'x-amzn-bedrock-input-token-count': '1047'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c525ed0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"As a technical trainee, you get 3 Casual Leaves (CL) every quarter. These leaves are added on the 1st day of each quarter. Just a heads-up, they will lapse at the end of the quarter if not used.\",\n    \"References\": [\n        {\n            \"Statement\": \"As a technical trainee, you get 3 Casual Leaves (CL) every quarter.\",\n            \"source\": \"HR - Leave Policy.csv - Sheet1 - Index: 1\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL\",\n        \"query\": \"How many classes (CLS) do we get?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1047,"generation_token_count":250,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b17149e73711f01126eaa
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:13:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'how many casual leave employee get', 'conversation_id': 'a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL'}
INFO:__main__:Received query: how many casual leave employee get
INFO:__main__:Received conversation_id: a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '18fe97c7-0f1f-4c9c-9e7c-c4f13321ff61', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:13:41 GMT', 'content-type': 'application/json', 'content-length': '184', 'connection': 'keep-alive', 'x-amzn-requestid': '18fe97c7-0f1f-4c9c-9e7c-c4f13321ff61', 'x-amzn-bedrock-invocation-latency': '277', 'x-amzn-bedrock-output-token-count': '23', 'x-amzn-bedrock-input-token-count': '500'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd1030>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"How many casual leaves do employees get?\"\n}","prompt_token_count":500,"generation_token_count":23,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many casual leaves do employees get?
INFO:__main__:Query stored successfully with ID: 672b17259e73711f01126eac
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '603321b4-56c9-40ee-a7ce-58d7e198ee12', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:13:45 GMT', 'content-type': 'application/json', 'content-length': '996', 'connection': 'keep-alive', 'x-amzn-requestid': '603321b4-56c9-40ee-a7ce-58d7e198ee12', 'x-amzn-bedrock-invocation-latency': '2252', 'x-amzn-bedrock-output-token-count': '266', 'x-amzn-bedrock-input-token-count': '1118'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41b10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Every confirmed employee at Gemini Solutions gets 7 days of casual leave on full fixed pay in one leave year. Additionally, employees can avail half-day casual leave for the first half or second half of the shift with prior permission.\",\n    \"References\": [\n        {\n            \"Statement\": \"Every confirmed employee will be allowed 7 days of casual leave on full fixed pay in one leave year.\",\n            \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf - Page No: 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1wy3qulv8BqDtELLkETsqhYEtoQ1zG2H67NfgAHZQmC_9vt21ZJJKm5v510T9KmsDQnEXnZbEqOWt07KahCHbHKXjQUJvmDVMh_rg-PxTTcTkxtjLekUENRs1J9CW1qZL\",\n        \"query\": \"How many casual leaves do employees get?\",\n        \"source\": \"Gemini-LEAVE POLICY_Version 5.0_India.pdf\",\n        \"response_length\": \"76\"\n    }\n}","prompt_token_count":1118,"generation_token_count":266,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b17299e73711f01126ead
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [06/Nov/2024 07:13:45] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslip', 'conversation_id': '234589076ftre'}
INFO:__main__:Received query: what are the steps to download my payslip
INFO:__main__:Received conversation_id: 234589076ftre
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 3
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8405206d-5357-4f69-a658-1abab854dcda', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:20:45 GMT', 'content-type': 'application/json', 'content-length': '192', 'connection': 'keep-alive', 'x-amzn-requestid': '8405206d-5357-4f69-a658-1abab854dcda', 'x-amzn-bedrock-invocation-latency': '375', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '310'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd3490>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what are the steps to download my pluxee payslip\"\n}","prompt_token_count":310,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what are the steps to download my pluxee payslip
INFO:__main__:Query stored successfully with ID: 672b18cd9e73711f01126eaf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '140267a3-8bcd-486f-9962-afdd3bcfa56f', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:20:50 GMT', 'content-type': 'application/json', 'content-length': '2050', 'connection': 'keep-alive', 'x-amzn-requestid': '140267a3-8bcd-486f-9962-afdd3bcfa56f', 'x-amzn-bedrock-invocation-latency': '4006', 'x-amzn-bedrock-output-token-count': '488', 'x-amzn-bedrock-input-token-count': '917'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43340>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your Pluxee payslip, follow these steps: \n    * Log in to your GreytHR account.\n    * Navigate to your payslips section.\n    * You can view and download your monthly payslips from there.\n    * If you are unable to view your payslip, it may be due to the delay in uploading, which generally happens by the 1st of any month. In such cases, you can connect with Vinod Kumar/Bharat Bhushan from the Accounts team.\n    * Additionally, you can opt for the Pluxee benefit, also known as Sodexo food wallet, and INR 2000 will be credited to your Sodexo food wallet every month.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Text Block 3: Question: Where can I find my payslips? Answer: You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there. - Accounts - Remuneration.csv - Sheet1 - Index: 43\"\n        },\n        {\n            \"Statement\": \"The Salary slips generally get uploaded by 1st of any month.\",\n            \"source\": \"Text Block 4: Question: My Salary slip is not visible on the portal - HR - Onboarding Portal.csv - Sheet1 - Index: 17\"\n        },\n        {\n            \"Statement\": \"If you opt for it, INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month.\",\n            \"source\": \"Text Block 5: Question: What is the amount of Sodexo food wallet? Answer: If you opt for it, INR 2000 will be credited to your Sodexo (Pluxee) food wallet every month. - Accounts - Remuneration.csv - Sheet1 - Index: 12\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"234589076ftre\",\n        \"query\": \"what are the steps to download my pluxee payslip\",\n        \"source\": \"HR Policy Bot\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":917,"generation_token_count":488,"stop_reason":"stop"}
ERROR:__main__:JSONDecodeError: Invalid control character at: line 4 column 69 (char 72)
INFO:werkzeug:125.62.118.90 - - [06/Nov/2024 07:20:50] "[35m[1mPOST /process_query HTTP/1.1[0m" 500 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '993f94cc-5765-42c5-af7d-1fde844f99ec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:31:12 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '993f94cc-5765-42c5-af7d-1fde844f99ec', 'x-amzn-bedrock-invocation-latency': '317', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a40190>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672b1b409e73711f01126eb1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1df1528b-1d0b-4bdf-bec8-c9c2f484f566', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 07:31:15 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '1df1528b-1d0b-4bdf-bec8-c9c2f484f566', 'x-amzn-bedrock-invocation-latency': '1225', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a401c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b1b439e73711f01126eb2
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.234.167.252 - - [06/Nov/2024 07:31:15] "POST /process_query HTTP/1.1" 200 -
errINFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06df299b-01c9-4b2c-a6b4-1255e433c558', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 08:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '06df299b-01c9-4b2c-a6b4-1255e433c558', 'x-amzn-bedrock-invocation-latency': '334', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a427a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672b291a9e73711f01126eb4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e1c3a6d2-7eec-4fa8-a59e-269c33d433db', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 08:30:20 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e1c3a6d2-7eec-4fa8-a59e-269c33d433db', 'x-amzn-bedrock-invocation-latency': '1238', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf2561c526d10>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b291c9e73711f01126eb5
INFO:__main__:Process completed successfully.
INFO:werkzeug:18.234.160.95 - - [06/Nov/2024 08:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b37429e73711f01126eb7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f5b54244-5f87-4e22-b840-5c3f555097c2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 09:30:44 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f5b54244-5f87-4e22-b840-5c3f555097c2', 'x-amzn-bedrock-invocation-latency': '1239', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a417b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b37449e73711f01126eb8
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.219.237.210 - - [06/Nov/2024 09:30:44] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b45699e73711f01126eba
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'f3e87a14-266b-419a-9b06-adfbd7e67ea6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 10:31:08 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'f3e87a14-266b-419a-9b06-adfbd7e67ea6', 'x-amzn-bedrock-invocation-latency': '1218', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41600>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b456c9e73711f01126ebb
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.202.64.237 - - [06/Nov/2024 10:31:08] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b53839e73711f01126ebd
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ae7eb00c-041d-4b0d-93e2-c39d55ded62d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 11:31:17 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'ae7eb00c-041d-4b0d-93e2-c39d55ded62d', 'x-amzn-bedrock-invocation-latency': '1262', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42020>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b53859e73711f01126ebe
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.84.87 - - [06/Nov/2024 11:31:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0dc1899e-503a-4ab5-b1c9-9f53ae132cbe', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 12:31:05 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '0dc1899e-503a-4ab5-b1c9-9f53ae132cbe', 'x-amzn-bedrock-invocation-latency': '297', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a429e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672b61899e73711f01126ec0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c9cd6b6c-4ca7-4005-b24d-e93a50916877', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 12:31:07 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'c9cd6b6c-4ca7-4005-b24d-e93a50916877', 'x-amzn-bedrock-invocation-latency': '1215', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfb760>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b618b9e73711f01126ec1
INFO:__main__:Process completed successfully.
INFO:werkzeug:75.101.169.114 - - [06/Nov/2024 12:31:07] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:13.58.97.162 - - [06/Nov/2024 12:52:05] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3ad8b02c-60de-4981-a66a-4269b3306992', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 13:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '3ad8b02c-60de-4981-a66a-4269b3306992', 'x-amzn-bedrock-invocation-latency': '330', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd04c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672b6f699e73711f01126ec3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '35e90e2e-42ce-4892-90c7-f5f461571cde', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 13:30:20 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '35e90e2e-42ce-4892-90c7-f5f461571cde', 'x-amzn-bedrock-invocation-latency': '1200', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a43640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b6f6c9e73711f01126ec4
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.203.93.64 - - [06/Nov/2024 13:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'cea844cd-cb16-41ba-ae80-ebb3ab9ae8ec', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 14:30:17 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'cea844cd-cb16-41ba-ae80-ebb3ab9ae8ec', 'x-amzn-bedrock-invocation-latency': '347', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e440>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672b7d799e73711f01126ec6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '06c18678-2028-4e97-ab7e-f29fa2e36fb9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 14:30:19 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '06c18678-2028-4e97-ab7e-f29fa2e36fb9', 'x-amzn-bedrock-invocation-latency': '1241', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42ce0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b7d7b9e73711f01126ec7
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.89.67.166 - - [06/Nov/2024 14:30:19] "POST /process_query HTTP/1.1" 200 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:50:18] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:50:18] "[31m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03(M\x09√Ç\x07h)W\x04I/"EVP√Å\x7f\x02¬©√Ä\x09N√ú¬¨√î\x99\x1f√Ω¬Ω√¢√ä \x00\x00\x1a√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:51:03] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:51:03] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03so¬¥q\x0d3\x84¬≠√µ√ÑV\x13]C√ì√∂√ñ\x81\x8f8'\x15#√ßM\x80BO\x092√ê¬π\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:51:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:52:36] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:52:36] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03√ó¬´\x1b#√Ñ¬¥r\x13.N  =;J3√©"N\x9be2\x1d√´k\x15√û#\x01\x08¬≠√Ö\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:53:18] "[33mGET /manage/account/login HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:53:55] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:53:55] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03¬ß√ç¬£k√≠HO√â√ò√§√ú¬±-vM√á√µXBY√à¬∑√£\x85¬Æz\x87K)√ä√¢√í\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:54:24] "[33mGET /admin/index.html HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:55:18] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00¬±\x01\x00\x00\xad\x03\x03√ù√ô√Æ\x90P√Ä\x88,√∂√ù√Ög√ñ¬µ>+√∑Gb\x1bj¬£√ú√î√£√õ√á\x93¬®\x12¬¨X\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:55:18] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03√ù√ô√Æ\x90P√Ä\x88,√∂√ù√Ög√ñ¬µ>+√∑Gb\x1bj¬£√ú√î√£√õ√á\x93¬®\x12¬¨X\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:55:59] "[33mGET /index.html HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:56:44] code 400, message Bad request syntax ('\x16\x03\x01\x00¬±\x01\x00\x00\xad\x03\x03√Ω\x9d√ª\x92\x90¬ø√ëT')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:56:44] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03√Ω\x9d√ª\x92\x90¬ø√ëT[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:57:29] "[33mGET /+CSCOE+/logon.html HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:58:16] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00¬±\x01\x00\x00\xad\x03\x03√Çe-T¬Æ√ú√õh√é¬°1i\x1b6√áEv\x00√Æ¬∫¬™¬∫b√ü\x13X|\x8f√¨\x02\x87Q\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:58:16] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03√Çe-T¬Æ√ú√õh√é¬°1i\x1b6√áEv\x00√Æ¬∫¬™¬∫b√ü\x13X|\x8f√¨\x02\x87Q\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 14:59:57] code 400, message Bad HTTP/0.9 request type ('\x16\x03\x01\x00¬±\x01\x00\x00\xad\x03\x03b4\\¬¶\x817"\x9f√§√§\xad3¬¥F¬´\x9d¬ø\x8a√Ç√≥p\x04>m√∞pe\x12¬™\x17L;\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 14:59:57] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03b4\\¬¶\x817"\x9f√§√§¬≠3¬¥F¬´\x9d¬ø\x8a√Ç√≥p\x04>m√∞pe\x12¬™\x17L;\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 15:00:42] "[33mGET /logon.htm HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 15:01:23] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 15:01:23] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03√Ñ\x842√í5\x1b¬¢]2}[¬¢√≤√ú9:T¬§l\x98 \x92¬¢¬µ\x0e¬ª¬µn\x16\x1aAL\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 15:01:54] "[33mGET /login.jsp HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 15:02:42] code 400, message Bad request syntax ('\x16\x03\x01\x00¬±\x01\x00\x00\xad\x03\x03√ò\x96Dq')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 15:02:42] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03√ò\x96Dq[0m" 400 -
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 15:03:31] "[33mGET /doc/index.html HTTP/1.1[0m" 404 -
ERROR:werkzeug:35.179.166.155 - - [06/Nov/2024 15:04:10] code 400, message Bad request version ('√Ä\x14√Ä')
INFO:werkzeug:35.179.166.155 - - [06/Nov/2024 15:04:10] "[31m[1m\x16\x03\x01\x00¬±\x01\x00\x00¬≠\x03\x03¬æP√©)P¬´√∑\x8dE√æ\x8e√¶¬∂\x1d^¬∏√∞¬∞\x9cWl'√ê[mh√π\x96¬£u>A\x00\x00P√Ä/√Ä+√Ä\x11√Ä\x07√Ä\x13√Ä\x09√Ä\x14√Ä[0m" 400 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 1
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b5e36f5f-48c6-4730-b1f9-a2432a9f949d', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 15:30:17 GMT', 'content-type': 'application/json', 'content-length': '197', 'connection': 'keep-alive', 'x-amzn-requestid': 'b5e36f5f-48c6-4730-b1f9-a2432a9f949d', 'x-amzn-bedrock-invocation-latency': '320', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '241'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42110>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"What types of leaves are offered by Gemini Solutions?\"\n}","prompt_token_count":241,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: What types of leaves are offered by Gemini Solutions?
INFO:__main__:Query stored successfully with ID: 672b8b899e73711f01126ec9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5a8d1842-e577-436b-9804-fc80d7cc4ab6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 15:30:20 GMT', 'content-type': 'application/json', 'content-length': '736', 'connection': 'keep-alive', 'x-amzn-requestid': '5a8d1842-e577-436b-9804-fc80d7cc4ab6', 'x-amzn-bedrock-invocation-latency': '1231', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '910'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf95a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"What types of leaves are offered by Gemini Solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":910,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b8b8c9e73711f01126eca
INFO:__main__:Process completed successfully.
INFO:werkzeug:34.205.143.140 - - [06/Nov/2024 15:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672b99b09e73711f01126ecc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'b987ce2b-bc79-4a35-8322-360c0c80b5a9', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 16:30:43 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'b987ce2b-bc79-4a35-8322-360c0c80b5a9', 'x-amzn-bedrock-invocation-latency': '1252', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9cc70>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672b99b39e73711f01126ecd
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.226.125.137 - - [06/Nov/2024 16:30:43] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672ba7cf9e73711f01126ecf
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '6c9a1b57-15b8-4087-b2bd-0f76fe6ce12e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 17:30:58 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '6c9a1b57-15b8-4087-b2bd-0f76fe6ce12e', 'x-amzn-bedrock-invocation-latency': '1293', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a417e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672ba7d29e73711f01126ed0
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.90.169.101 - - [06/Nov/2024 17:30:58] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.3 - - [06/Nov/2024 18:04:57] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672bb6c89e73711f01126ed2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '9abed7d9-f02f-400d-a890-d6e5b8f1ac4e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 18:34:50 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '9abed7d9-f02f-400d-a890-d6e5b8f1ac4e', 'x-amzn-bedrock-invocation-latency': '1290', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9600>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672bb6ca9e73711f01126ed3
INFO:__main__:Process completed successfully.
INFO:werkzeug:204.236.244.34 - - [06/Nov/2024 18:34:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fc98b456-d7b3-4672-8ffa-724663b87df5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 19:30:39 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'fc98b456-d7b3-4672-8ffa-724663b87df5', 'x-amzn-bedrock-invocation-latency': '330', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd17e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672bc3df9e73711f01126ed5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8145c536-56be-47ca-ab03-a2d9711e6b2a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 19:30:41 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '8145c536-56be-47ca-ab03-a2d9711e6b2a', 'x-amzn-bedrock-invocation-latency': '1234', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf86a0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672bc3e19e73711f01126ed6
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.133.250 - - [06/Nov/2024 19:30:41] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'debec3c1-d09b-404a-9b54-441ba08ae73e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 20:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': 'debec3c1-d09b-404a-9b54-441ba08ae73e', 'x-amzn-bedrock-invocation-latency': '363', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd31c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672bd1da9e73711f01126ed8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e479d5d9-c5d9-44c7-a0a9-37265df7a9a6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 20:30:20 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'e479d5d9-c5d9-44c7-a0a9-37265df7a9a6', 'x-amzn-bedrock-invocation-latency': '1199', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa800>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672bd1dc9e73711f01126ed9
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.145.55.144 - - [06/Nov/2024 20:30:20] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672bdffd9e73711f01126edb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd036af1b-f017-44b3-9702-0206567fae9a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 21:30:40 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': 'd036af1b-f017-44b3-9702-0206567fae9a', 'x-amzn-bedrock-invocation-latency': '1290', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9570>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672be0009e73711f01126edc
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.211.141.159 - - [06/Nov/2024 21:30:40] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '274287f3-72e9-4afa-8aaf-6f5eacf41141', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 22:30:30 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '274287f3-72e9-4afa-8aaf-6f5eacf41141', 'x-amzn-bedrock-invocation-latency': '334', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '265'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619b9e5f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":265,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672bee069e73711f01126ede
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4396b9bf-3463-4046-aee7-cc90eabad134', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 22:30:32 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '4396b9bf-3463-4046-aee7-cc90eabad134', 'x-amzn-bedrock-invocation-latency': '1211', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9a50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672bee089e73711f01126edf
INFO:__main__:Process completed successfully.
INFO:werkzeug:100.27.26.62 - - [06/Nov/2024 22:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672bfc249e73711f01126ee1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'd71a35dd-45b2-42e9-b4e8-ea74e4a43f88', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Wed, 06 Nov 2024 23:30:47 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'd71a35dd-45b2-42e9-b4e8-ea74e4a43f88', 'x-amzn-bedrock-invocation-latency': '1277', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa5c0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672bfc279e73711f01126ee2
INFO:__main__:Process completed successfully.
INFO:werkzeug:3.235.133.250 - - [06/Nov/2024 23:30:47] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '5fd0468d-a46f-4688-b15a-f2806b19ed77', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 00:30:29 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '5fd0468d-a46f-4688-b15a-f2806b19ed77', 'x-amzn-bedrock-invocation-latency': '375', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672c0a259e73711f01126ee4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '706dd74c-f31f-47d3-b908-f8e72e702f2a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 00:30:32 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '706dd74c-f31f-47d3-b908-f8e72e702f2a', 'x-amzn-bedrock-invocation-latency': '1252', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9ab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c0a289e73711f01126ee5
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.145.55.144 - - [07/Nov/2024 00:30:32] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '8044e316-909a-43c3-87ff-93f690d2a876', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 01:30:18 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '8044e316-909a-43c3-87ff-93f690d2a876', 'x-amzn-bedrock-invocation-latency': '368', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a41a20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672c182a9e73711f01126ee7
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '64499680-4fcd-430d-af21-5048a69495d0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 01:30:21 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '64499680-4fcd-430d-af21-5048a69495d0', 'x-amzn-bedrock-invocation-latency': '1279', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfa6e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c182d9e73711f01126ee8
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.210.204.51 - - [07/Nov/2024 01:30:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c264a9e73711f01126eea
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4afc0228-9770-40bf-a1e8-81a25d01c62b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 02:30:37 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': '4afc0228-9770-40bf-a1e8-81a25d01c62b', 'x-amzn-bedrock-invocation-latency': '1341', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf8280>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c264d9e73711f01126eeb
INFO:__main__:Process completed successfully.
INFO:werkzeug:54.161.110.185 - - [07/Nov/2024 02:30:37] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '84fb9d97-418e-4778-b975-e1d597d04b70', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 03:30:14 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '84fb9d97-418e-4778-b975-e1d597d04b70', 'x-amzn-bedrock-invocation-latency': '356', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbd60>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672c34469e73711f01126eed
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3fc2be4b-be16-4f49-a4ad-0acece8837c5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 03:30:17 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '3fc2be4b-be16-4f49-a4ad-0acece8837c5', 'x-amzn-bedrock-invocation-latency': '1233', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a782e0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c34499e73711f01126eee
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.201.119.208 - - [07/Nov/2024 03:30:17] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c42739e73711f01126ef0
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '65f7a001-a8c4-4096-8387-bd39415225db', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 04:30:46 GMT', 'content-type': 'application/json', 'content-length': '723', 'connection': 'keep-alive', 'x-amzn-requestid': '65f7a001-a8c4-4096-8387-bd39415225db', 'x-amzn-bedrock-invocation-latency': '1247', 'x-amzn-bedrock-output-token-count': '138', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd2dd0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":138,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c42769e73711f01126ef1
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.176.171 - - [07/Nov/2024 04:30:46] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:198.235.24.40 - - [07/Nov/2024 05:07:08] "[33mGET / HTTP/1.0[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c50949e73711f01126ef3
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'e7daf5d7-ced7-4a87-8ab3-9a0756c678a5', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 05:31:03 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'e7daf5d7-ced7-4a87-8ab3-9a0756c678a5', 'x-amzn-bedrock-invocation-latency': '1293', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bf9cf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c50979e73711f01126ef4
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.197.176.171 - - [07/Nov/2024 05:31:03] "POST /process_query HTTP/1.1" 200 -
INFO:werkzeug:205.210.31.224 - - [07/Nov/2024 05:40:08] "[33mGET / HTTP/1.1[0m" 404 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'How many leaves are there in gemini solutions?', 'conversation_id': '5656'}
INFO:__main__:Received query: How many leaves are there in gemini solutions?
INFO:__main__:Received conversation_id: 5656
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '437812f9-22e0-44f0-a82b-1d618ccc7555', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:30:47 GMT', 'content-type': 'application/json', 'content-length': '191', 'connection': 'keep-alive', 'x-amzn-requestid': '437812f9-22e0-44f0-a82b-1d618ccc7555', 'x-amzn-bedrock-invocation-latency': '353', 'x-amzn-bedrock-output-token-count': '25', 'x-amzn-bedrock-input-token-count': '267'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bfbe20>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": false,\n\"query\": \"How many leaves are there in gemini solutions?\"\n}","prompt_token_count":267,"generation_token_count":25,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: How many leaves are there in gemini solutions?
INFO:__main__:Query stored successfully with ID: 672c5e979e73711f01126ef6
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'fa347364-3a54-43ef-9242-22a1721c1e2a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:30:50 GMT', 'content-type': 'application/json', 'content-length': '730', 'connection': 'keep-alive', 'x-amzn-requestid': 'fa347364-3a54-43ef-9242-22a1721c1e2a', 'x-amzn-bedrock-invocation-latency': '1250', 'x-amzn-bedrock-output-token-count': '140', 'x-amzn-bedrock-input-token-count': '1122'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a79ae0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n    \"References\": [\n        {\n            \"Statement\": \"Gemini Solutions offers the following types of leaves: Sick Leaves, Casual Leaves, and Priviledged Leaves.\",\n            \"source\": \"Chat Bot - Feedbacks.xlsx - Feedbacks - Index: 2\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"5656\",\n        \"query\": \"How many leaves are there in gemini solutions?\",\n        \"source\": \"Chat Bot - Feedbacks.xlsx\",\n        \"response_length\": \"36\"\n    }\n}","prompt_token_count":1122,"generation_token_count":140,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c5e9a9e73711f01126ef7
INFO:__main__:Process completed successfully.
INFO:werkzeug:44.192.122.245 - - [07/Nov/2024 06:30:50] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi', 'conversation_id': 'a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh'}
INFO:__main__:Received query: hi
INFO:__main__:Received conversation_id: a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c5f579e73711f01126ef9
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'db156cc9-4cdd-426d-b37a-3e3cdf17bbf6', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:34:03 GMT', 'content-type': 'application/json', 'content-length': '691', 'connection': 'keep-alive', 'x-amzn-requestid': 'db156cc9-4cdd-426d-b37a-3e3cdf17bbf6', 'x-amzn-bedrock-invocation-latency': '1733', 'x-amzn-bedrock-output-token-count': '203', 'x-amzn-bedrock-input-token-count': '770'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a7bca0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hello! I'm Jinie, the HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. What's on your mind? Please feel free to ask a specific question, and I'll do my best to provide a clear and concise answer.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh\",\n        \"query\": \"hi\",\n        \"source\": \" Gemini-dev\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":770,"generation_token_count":203,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c5f5b9e73711f01126efa
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 06:34:03] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'show me resign policy', 'conversation_id': 'a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh'}
INFO:__main__:Received query: show me resign policy
INFO:__main__:Received conversation_id: a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '0e56b032-2354-4a4a-8e00-e65048101b37', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:34:26 GMT', 'content-type': 'application/json', 'content-length': '187', 'connection': 'keep-alive', 'x-amzn-requestid': '0e56b032-2354-4a4a-8e00-e65048101b37', 'x-amzn-bedrock-invocation-latency': '277', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '237'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd28f0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the company's policy on resignation\"\n}","prompt_token_count":237,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the company's policy on resignation
INFO:__main__:Query stored successfully with ID: 672c5f729e73711f01126efc
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '906c06fc-f589-4237-b5d4-70a6aabe5852', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:34:31 GMT', 'content-type': 'application/json', 'content-length': '1754', 'connection': 'keep-alive', 'x-amzn-requestid': '906c06fc-f589-4237-b5d4-70a6aabe5852', 'x-amzn-bedrock-invocation-latency': '3564', 'x-amzn-bedrock-output-token-count': '431', 'x-amzn-bedrock-input-token-count': '1220'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619bd0790>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"According to Gemini Solutions' exit policy, employees are required to serve a three-month notice period. The resignation process involves submitting a written communication, either by letter or email, to the Team Lead and Manager. The organization reserves the right to accept or refuse the payment of shortfall of notice, and employees who quit or resign before one year will have to return any kind of bonus.\",\n    \"References\": [\n        {\n            \"Statement\": \"Employees will be required to serve three (3) months' notice period with effect from 1 November 2018.\",\n            \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf - Page No: 4\"\n        },\n        {\n            \"Statement\": \"Employees desirous of resigning from the services of the company will have to communicate the intent of resignation through written communication, either by a letter or email addressed to the Team Lead and Manager.\",\n            \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf - Page No: 4\"\n        },\n        {\n            \"Statement\": \"Any employee who quits or resigns before 1 year will have to return any kind of bonus,\",\n            \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf - Page No: 5\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh\",\n        \"query\": \"what is the company's policy on resignation\",\n        \"source\": \"Gemini-EXIT POLICY_Version 7.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1220,"generation_token_count":431,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c5f779e73711f01126efd
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 06:34:31] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'show me it policy', 'conversation_id': 'a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh'}
INFO:__main__:Received query: show me it policy
INFO:__main__:Received conversation_id: a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '1af8eb45-cdcf-4130-a1b8-5745556b9b76', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:35:00 GMT', 'content-type': 'application/json', 'content-length': '178', 'connection': 'keep-alive', 'x-amzn-requestid': '1af8eb45-cdcf-4130-a1b8-5745556b9b76', 'x-amzn-bedrock-invocation-latency': '271', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '507'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a42290>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"what is the company's policy on IT\"\n}","prompt_token_count":507,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: what is the company's policy on IT
INFO:__main__:Query stored successfully with ID: 672c5f949e73711f01126eff
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '3ce59142-992e-43f8-aa24-45eae059a84c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:35:05 GMT', 'content-type': 'application/json', 'content-length': '1549', 'connection': 'keep-alive', 'x-amzn-requestid': '3ce59142-992e-43f8-aa24-45eae059a84c', 'x-amzn-bedrock-invocation-latency': '3004', 'x-amzn-bedrock-output-token-count': '361', 'x-amzn-bedrock-input-token-count': '935'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xf25619a797b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Gemini Solutions has a comprehensive IT policy that covers software development, hardware, and Bring Your Own Device (BYOD). The company aims to standardize software development through industry-leading practices, as stated in the IT Software Development Policy (Source: Text Block 4). The policy also outlines guidelines for hardware installation to ensure resource management and provide privacy controls, as mentioned in the Hardware Policy (Source: Text Block 5). Additionally, the company has a BYOD Policy in place to ensure secure and efficient use of personal devices for work purposes.\",\n    \"References\": [\n        {\n            \"Statement\": \"To standardize software development for all enterprise-level through the use of industry leading practices.\",\n            \"source\": \"Gemini - IT Software Development v1.0_India.pdf - Page 2\"\n        },\n        {\n            \"Statement\": \"IT Team provides employees with a 'cleaned' and current generation computer systems.\",\n            \"source\": \"Gemini - IT Hardware Policy v1.0_India.pdf - Page 4\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1znsPZC1FzoyIcLaxm_tB_nujlJp7OO7iSp9fFmPe6vlB7kgo6OpwmlvVJ6ISMnPwbk0fm4QPAr07FdY3OfjGVCvCu75cslmcQ2rLq-DAZR6O6gh8vD-V6x-GhXgf47bh\",\n        \"query\": \"what is the company's policy on IT\",\n        \"source\": \"Gemini-dev\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":935,"generation_token_count":361,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c5f999e73711f01126f00
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 06:35:05] "POST /process_query HTTP/1.1" 200 -

 * Serving Flask app 'app'
 * Debug mode: off
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.247:5000
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'hi jinie', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hi jinie
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:botocore.credentials:Found credentials from IAM Role: ACCESS_TO_AWS_SERVICES
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c6276101034a69fc79bd2
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c10236d4-e3c0-4830-8bea-b312635a99d0', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:47:21 GMT', 'content-type': 'application/json', 'content-length': '679', 'connection': 'keep-alive', 'x-amzn-requestid': 'c10236d4-e3c0-4830-8bea-b312635a99d0', 'x-amzn-bedrock-invocation-latency': '1719', 'x-amzn-bedrock-output-token-count': '196', 'x-amzn-bedrock-input-token-count': '1059'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0c070>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Hi! I'm Jinie, an HR policy bot for Gemini Solutions. I'm here to help you with any company policy-related queries. Please feel free to ask me a specific question, and I'll do my best to provide a detailed and accurate response.\",\n    \"References\": [],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"hi jinie\",\n        \"source\": \"Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1059,"generation_token_count":196,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c6279101034a69fc79bd3
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 06:47:21] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslips?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what are the steps to download my payslips?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 2
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '7b228d1c-a03d-4892-b393-35ef29ac1907', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:47:44 GMT', 'content-type': 'application/json', 'content-length': '192', 'connection': 'keep-alive', 'x-amzn-requestid': '7b228d1c-a03d-4892-b393-35ef29ac1907', 'x-amzn-bedrock-invocation-latency': '296', 'x-amzn-bedrock-output-token-count': '28', 'x-amzn-bedrock-input-token-count': '242'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cdba0130>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you guide me on how to download my payslips?\"\n}","prompt_token_count":242,"generation_token_count":28,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you guide me on how to download my payslips?
INFO:__main__:Query stored successfully with ID: 672c6290101034a69fc79bd5
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '17191160-70c0-4a35-8080-10ca68649e34', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:47:48 GMT', 'content-type': 'application/json', 'content-length': '1330', 'connection': 'keep-alive', 'x-amzn-requestid': '17191160-70c0-4a35-8080-10ca68649e34', 'x-amzn-bedrock-invocation-latency': '3009', 'x-amzn-bedrock-output-token-count': '351', 'x-amzn-bedrock-input-token-count': '1084'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0dd50>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your payslips, log in to your GreytHR account and navigate to the payslips section to view your monthly payslips. You can also visit the 'Accounts portal' tab on MIS, which will further lead you to the GreytHR portal, where you can view or download your payslips.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - N/A - Sheet1 - 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - Sheet1 - 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you guide me on how to download my payslips?\",\n        \"source\": \"HR Policy Database\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":1084,"generation_token_count":351,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c6294101034a69fc79bd6
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 06:47:48] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can you tell me step by step process?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: can you tell me step by step process?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ab48e25f-2e71-4709-b763-c7f7ffdd861b', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:48:18 GMT', 'content-type': 'application/json', 'content-length': '183', 'connection': 'keep-alive', 'x-amzn-requestid': 'ab48e25f-2e71-4709-b763-c7f7ffdd861b', 'x-amzn-bedrock-invocation-latency': '266', 'x-amzn-bedrock-output-token-count': '24', 'x-amzn-bedrock-input-token-count': '459'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0dab0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you provide a step-by-step process?\"\n}","prompt_token_count":459,"generation_token_count":24,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you provide a step-by-step process?
INFO:__main__:Query stored successfully with ID: 672c62b2101034a69fc79bd8
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'df49729b-8090-46bb-b65d-b89baf1948f2', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:48:24 GMT', 'content-type': 'application/json', 'content-length': '2064', 'connection': 'keep-alive', 'x-amzn-requestid': 'df49729b-8090-46bb-b65d-b89baf1948f2', 'x-amzn-bedrock-invocation-latency': '4810', 'x-amzn-bedrock-output-token-count': '585', 'x-amzn-bedrock-input-token-count': '1341'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0f310>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"The step-by-step process for the IT Backup and Restore Procedure is as follows:\\n* Schedule backup job in Azure (IT Admin, Next day Morning, Alert logs).\\n* Update backup schedule (IT Admin, On completion of schedule master document, updated).\\n* Backup Status as Open ticket (IT Admin, Same day when Alert logs).\\n\\nPlease note that this process is designed to ensure that backup copies of critical business information, logs, and software are taken regularly in a secure and reliable manner.\\n\\nReferences:\\n* Schedule backup job in Azure (IT - Backup and Restore Procedure, 6).\\n* Update backup schedule (IT - Backup and Restore Procedure, 6).\\n* Backup Status as Open ticket (IT - Backup and Restore Procedure, 6).\\n\\nMetadata:\\n* conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\\n* query: Can you provide a step-by-step process?\\n* source: Gemini - IT Backup and Restore_v1.0_India.pdf\\n* response_length: 156\",\n    \"References\": [\n        {\n            \"Statement\": \"Schedule backup job in Azure\",\n            \"source\": \"Gemini - IT Backup and Restore_v1.0_India.pdf - 6/N/A/N/A\"\n        },\n        {\n            \"Statement\": \"Update backup schedule\",\n            \"source\": \"Gemini - IT Backup and Restore_v1.0_India.pdf - 6/N/A/N/A\"\n        },\n        {\n            \"Statement\": \"Backup Status as Open ticket\",\n            \"source\": \"Gemini - IT Backup and Restore_v1.0_India.pdf - 6/N/A/N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you provide a step-by-step process?\",\n        \"source\": \"Gemini - IT Backup and Restore_v1.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1341,"generation_token_count":585,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c62b8101034a69fc79bd9
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 06:48:24] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': "hello, i'd like to know the steps to access my payslip-related information. can you provide the steps in points?", 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: hello, i'd like to know the steps to access my payslip-related information. can you provide the steps in points?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'bfe22a13-89b2-4eb1-a6af-7570adb78ca3', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:55:04 GMT', 'content-type': 'application/json', 'content-length': '241', 'connection': 'keep-alive', 'x-amzn-requestid': 'bfe22a13-89b2-4eb1-a6af-7570adb78ca3', 'x-amzn-bedrock-invocation-latency': '391', 'x-amzn-bedrock-output-token-count': '35', 'x-amzn-bedrock-input-token-count': '822'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0c640>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you guide me on how to access my payslip-related information and provide the steps in points?\"\n}","prompt_token_count":822,"generation_token_count":35,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you guide me on how to access my payslip-related information and provide the steps in points?
INFO:__main__:Query stored successfully with ID: 672c6448101034a69fc79bdb
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'da38079a-d130-4ff3-9bd9-fb78cac380b1', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 06:55:09 GMT', 'content-type': 'application/json', 'content-length': '2001', 'connection': 'keep-alive', 'x-amzn-requestid': 'da38079a-d130-4ff3-9bd9-fb78cac380b1', 'x-amzn-bedrock-invocation-latency': '4128', 'x-amzn-bedrock-output-token-count': '501', 'x-amzn-bedrock-input-token-count': '1114'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0dc90>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To access your payslip-related information, follow these steps:\\n* Log in to your GreytHR account.\\n* Navigate to the payslips section to view your monthly payslips.\\nIf you are unable to view your salary slip, please check if it has been uploaded by the 1st of the month. If not, you can contact Vinod Kumar or Bharat Bhushan from the Accounts team.\\nYour UAN number can also be found in your PF Passbook or Salary Slip.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - N/A - 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ‚ÄúAccounts portal‚Äù tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - 15\"\n        },\n        {\n            \"Statement\": \"The Salary slips generally get uploaded by 1st of any month. In case you still are not able to view it, please connect with Vinod Kumar/ Bharat Bhushan from the Accounts team.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - 17\"\n        },\n        {\n            \"Statement\": \"Your UAN number is also listed in your PF Passbook or Salary Slip.\",\n            \"source\": \"Accounts - Remuneration.csv - N/A - 26\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you guide me on how to access my payslip-related information and provide the steps in points?\",\n        \"source\": \"Gemini Solutions\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1114,"generation_token_count":501,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c644d101034a69fc79bdc
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 06:55:09] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what are the steps to download my payslip', 'conversation_id': '234589076ftre'}
INFO:__main__:Received query: what are the steps to download my payslip
INFO:__main__:Received conversation_id: 234589076ftre
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:No past queries found. Using the original query.
INFO:__main__:Query stored successfully with ID: 672c6a1b101034a69fc79bde
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'ef3e15af-0a5c-4c15-a3b6-05f027a7aea8', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:19:59 GMT', 'content-type': 'application/json', 'content-length': '1220', 'connection': 'keep-alive', 'x-amzn-requestid': 'ef3e15af-0a5c-4c15-a3b6-05f027a7aea8', 'x-amzn-bedrock-invocation-latency': '2301', 'x-amzn-bedrock-output-token-count': '267', 'x-amzn-bedrock-input-token-count': '925'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0cf40>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"To download your payslip, follow these steps: \\n* Log in to your GreytHR account \\n* Navigate to the payslips section to view your monthly payslips \\n* You can also view/download payslips from the 'Accounts portal' tab on MIS, which further leads to the GreytHR portal.\",\n    \"References\": [\n        {\n            \"Statement\": \"You can log in to your GreytHR account, navigate to your payslips section to view your monthly payslips there.\",\n            \"source\": \"Accounts - Remuneration.csv - N/A - 43\"\n        },\n        {\n            \"Statement\": \"As mentioned during your induction, please visit the ¬ìAccounts portal¬î tab on MIS, it will further lead you to GreytHR portal. You can view/ download payslips from there.\",\n            \"source\": \"HR - Onboarding Portal.csv - N/A - 15\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"234589076ftre\",\n        \"query\": \"what are the steps to download my payslip\",\n        \"source\": \"HR - Onboarding Portal.csv, Accounts - Remuneration.csv\",\n        \"response_length\": \"146\"\n    }\n}","prompt_token_count":925,"generation_token_count":267,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c6a1f101034a69fc79bdf
INFO:__main__:Process completed successfully.
INFO:werkzeug:27.255.249.13 - - [07/Nov/2024 07:19:59] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'what is the process of appraisal at gemini?', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: what is the process of appraisal at gemini?
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '65f2c88d-b477-45c4-9c4c-0e67f002b93e', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:26:20 GMT', 'content-type': 'application/json', 'content-length': '221', 'connection': 'keep-alive', 'x-amzn-requestid': '65f2c88d-b477-45c4-9c4c-0e67f002b93e', 'x-amzn-bedrock-invocation-latency': '400', 'x-amzn-bedrock-output-token-count': '30', 'x-amzn-bedrock-input-token-count': '953'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0d360>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you provide the step-by-step process for the appraisal process at Gemini?\"\n}","prompt_token_count":953,"generation_token_count":30,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you provide the step-by-step process for the appraisal process at Gemini?
INFO:__main__:Query stored successfully with ID: 672c6b9c101034a69fc79be1
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '4066e2bd-502f-4ba7-97f0-c0a6494fd38a', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:26:25 GMT', 'content-type': 'application/json', 'content-length': '1806', 'connection': 'keep-alive', 'x-amzn-requestid': '4066e2bd-502f-4ba7-97f0-c0a6494fd38a', 'x-amzn-bedrock-invocation-latency': '3461', 'x-amzn-bedrock-output-token-count': '415', 'x-amzn-bedrock-input-token-count': '1398'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0f5b0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, the provided texts do not contain information about the appraisal process at Gemini. However, I can provide you with some general information about the company's policies. Gemini Solutions has a Career Plan designed to help individuals focus their efforts for the coming year while keeping their long-term aspirations in sight. The plan is an agreement between the individual and their function, balancing their function's objectives with the individual's immediate performance and development needs.\\n\\nHowever, new employees are not eligible for the appraisal cycle if time spent in Gemini since their joining is less than 6 months.\",\n    \"References\": [\n        {\n            \"Statement\": \"The Career Plan is designed to help the individuals focus their efforts for the coming year while keeping their long-term aspirations in insight.\",\n            \"source\": \"Gemini-CAREER MANAGEMENT POLICY_Version 6.0_India.pdf - 5/N/A - N/A\"\n        },\n        {\n            \"Statement\": \"However, new employees are not eligible for the appraisal cycle if time spent in Gemini since his/her joining is less than 6 months.\",\n            \"source\": \"Gemini-CAREER MANAGEMENT POLICY_Version 6.0_India.pdf - 5/N/A - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you provide the step-by-step process for the appraisal process at Gemini?\",\n        \"source\": \"Gemini-CAREER MANAGEMENT POLICY_Version 6.0_India.pdf\",\n        \"response_length\": \"156\"\n    }\n}","prompt_token_count":1398,"generation_token_count":415,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c6ba1101034a69fc79be2
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 07:26:25] "POST /process_query HTTP/1.1" 200 -
INFO:__main__:Flask handler started.
INFO:__main__:Received request data: {'query': 'can you format this output in markdown format', 'conversation_id': 'a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc'}
INFO:__main__:Received query: can you format this output in markdown format
INFO:__main__:Received conversation_id: a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc
INFO:__main__:Connecting to MongoDB...
INFO:pymongo.client:You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb
INFO:__main__:Connected to MongoDB successfully.
INFO:__main__:Retrieving past queries from DocumentDB.
INFO:__main__:Past queries exist: 4
INFO:__main__:Rewrite Prompt created successfully.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': '46443561-8e9c-47ea-8179-80d0a8da6d27', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:26:53 GMT', 'content-type': 'application/json', 'content-length': '270', 'connection': 'keep-alive', 'x-amzn-requestid': '46443561-8e9c-47ea-8179-80d0a8da6d27', 'x-amzn-bedrock-invocation-latency': '373', 'x-amzn-bedrock-output-token-count': '36', 'x-amzn-bedrock-input-token-count': '799'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0c730>}
INFO:__main__:Response Data: {"generation":"\n\n{\n\"need_to_rewrite\": true,\n\"query\": \"Can you format the previous response about payslip-related information and the appraisal process at Gemini in markdown format?\"\n}","prompt_token_count":799,"generation_token_count":36,"stop_reason":"stop"}
INFO:__main__:Rewritten Query: Can you format the previous response about payslip-related information and the appraisal process at Gemini in markdown format?
INFO:__main__:Query stored successfully with ID: 672c6bbd101034a69fc79be4
INFO:__main__:Creating embeddings for the query.
INFO:__main__:Performing similarity search on DocumentDB.
INFO:__main__:Found similar documents: 5
INFO:__main__:Prompt generated successfully.
INFO:__main__:Calling LLM to generate the response.
INFO:__main__:LLM request received
INFO:__main__:LLM Call 0
INFO:__main__:Raw Response: {'ResponseMetadata': {'RequestId': 'c4b7a1a5-460e-4779-8236-c974403d8e3c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Thu, 07 Nov 2024 07:26:58 GMT', 'content-type': 'application/json', 'content-length': '1838', 'connection': 'keep-alive', 'x-amzn-requestid': 'c4b7a1a5-460e-4779-8236-c974403d8e3c', 'x-amzn-bedrock-invocation-latency': '3619', 'x-amzn-bedrock-output-token-count': '435', 'x-amzn-bedrock-input-token-count': '1318'}, 'RetryAttempts': 0}, 'contentType': 'application/json', 'body': <botocore.response.StreamingBody object at 0xe8e8cda0fdf0>}
INFO:__main__:Response Data: {"generation":"\n\n{\n    \"Answer\": \"Unfortunately, the provided texts do not contain information about payslip-related information and the appraisal process at Gemini. However, I can assist you with any queries related to company policies. Please feel free to ask specific questions, and I'll do my best to provide accurate and clear responses.\\n\\nIf you're looking for information on payslips, you may want to refer to the [Employee Engagement Policy](Text Block 3) which discusses the reporting of workforce engagement activities. However, it does not specifically mention payslips.\\n\\nFor appraisal process, I couldn't find any relevant information in the provided texts. If you have any further questions or would like to know more about a specific policy, please let me know.\",\n    \"References\": [\n        {\n            \"Statement\": \"discussed. Gemini may make changes to this policy from time to time as a result of evaluating effectiveness of workforce engagement and feedback from our people.\",\n            \"source\": \"Gemini-Engagement Policy_Version 1.1_India.pdf - 5 - N/A\"\n        }\n    ],\n    \"Metadata\": {\n        \"conversation_id\": \"a:1hOMvx-E5nzjFVDC06VJUUJXHYTFkr3w-DCxxvNLI1ObIcxvC8zK_zh3nCyP3GivTCbl2OlfcNmRX1CwgQE71u8SmYBkrl18yi3HGlYM-zoYC3Wn4hN7OQESwKsseQhgc\",\n        \"query\": \"Can you format the previous response about payslip-related information and the appraisal process at Gemini in markdown format?\",\n        \"source\": \"Gemini-Fresher Conversion Policy_version 1.0_India.pdf, Gemini - Privacy Policy V1.1_India.pdf, Gemini-Engagement Policy_Version 1.1_India.pdf, Gemini - Access Policy_V1.5_India.pdf, Grievance Escalation Policy_India.pdf\",\n        \"response_length\": \"246\"\n    }\n}","prompt_token_count":1318,"generation_token_count":435,"stop_reason":"stop"}
INFO:__main__:LLM response parsed successfully.
INFO:__main__:Response stored successfully with ID: 672c6bc2101034a69fc79be5
INFO:__main__:Process completed successfully.
INFO:werkzeug:52.172.222.141 - - [07/Nov/2024 07:26:58] "POST /process_query HTTP/1.1" 200 -
